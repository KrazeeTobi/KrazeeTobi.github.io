<HTML>
<HEAD>
   <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
   <META NAME="GENERATOR" CONTENT="Mozilla/4.04 [en] (Win95; I) [Netscape]">
   <TITLE>Basics of Variable References</TITLE>
</HEAD>
<BODY>
<A NAME="Top"></A><A HREF="make.html">Contents</A>|<A HREF="makeindex.html">Index</A>|<A HREF="makeHow_to_Use_Variables.html">Previous</A>|<A HREF="makeThe_Two_Flavors_of_Variables.html">Next</A>
<BR><A NAME="off_1116377"></A><A NAME="6de2b4c7"></A><B><FONT FACE="Futura Md BT"><FONT SIZE=+3>Basics
of variable references</FONT></FONT></B>
<BR>
<HR SIZE=3 WIDTH="100%"><FONT FACE="Times New Roman"><FONT SIZE=+1>To substitute
a variable’s value, write a dollar sign followed by the name of the variable
in parentheses or braces: either ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>$(foo)</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
or ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>${foo}</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
is a valid reference to the variable foo. This special significance of
‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>$</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
is why you must write ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>$$</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
to have the effect of a single dollar sign in a file name or command. Variable
references can be used in any context: targets, dependencies, commands,
most directives, and new variable values. The following is an example of
a common case, where a variable holds the names of all the object files
in a program.</FONT></FONT>
<BR>&nbsp;
<UL><FONT FACE="Courier New"><FONT SIZE=+0>objects = program.o foo.o utils.o</FONT></FONT>
<BR><FONT FACE="Courier New"><FONT SIZE=+0>program : $(objects)</FONT></FONT>
<BR><FONT FACE="Courier New"><FONT SIZE=+0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
cc -o program $(objects)</FONT></FONT>

<P><FONT FACE="Courier New"><FONT SIZE=+0>$(objects) : defs.h</FONT></FONT></UL>


<P><FONT FACE="Times New Roman"><FONT SIZE=+1>Variable references work
by strict textual substitution. Thus, the following rule could be used
to compile a C program, ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>prog.c</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’.</FONT></FONT>
<BR>&nbsp;
<UL><FONT FACE="Courier New"><FONT SIZE=+0>foo = c</FONT></FONT>
<BR><FONT FACE="Courier New"><FONT SIZE=+0>prog.o : prog.$(foo)</FONT></FONT>
<BR><FONT FACE="Courier New"><FONT SIZE=+0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
$(foo)$(foo) -$(foo) prog.$(foo)</FONT></FONT></UL>


<P><FONT FACE="Times New Roman"><FONT SIZE=+1>Since spaces before the variable
value are ignored in variable assignments, the value of</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>
foo</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1> is precisely
‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>c</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’.
(Don’t actually write your makefiles this way!) A dollar sign followed
by a character other than a dollar sign, open-parenthesis or open-brace
treats that single character as the variable name. Thus, you could reference
the variable, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>x</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
with ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>$x</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’.
However, this practice is strongly discouraged, except in the case of the
automatic variables (see <FONT COLOR="#008000"><A HREF="makeAutomatic_Variables.html">Automatic
variables</A></FONT>).</FONT></FONT>
<CENTER>
<HR SIZE=3 WIDTH="100%"></CENTER>

<CENTER><A HREF="#Top">Top</A>|<A HREF="make.html">Contents</A>|<A HREF="makeindex.html">Index</A>|<A HREF="makeHow_to_Use_Variables.html">Previous</A>|<A HREF="makeThe_Two_Flavors_of_Variables.html">Next</A></CENTER>

</BODY>
</HTML>
