<HTML>
<HEAD>
<TITLE>Line Formats</TITLE>
</HEAD><BODY>
<A HREF= "dif.html">Contents</A>|<A HREF= "difindex.html">Index</A>|<A HREF="difLine_Group_Formats.html">Previous</A>|<A HREF="difDetailed_Description_of_Ifthenel.html">Next</A>
<P>
<A NAME="off_557056"></A><A NAME="67bc6057"></A><FONT FACE="Times New Roman" SIZE="6"><B>Line Formats
<P>
</B></FONT><FONT FACE="Times New Roman" SIZE="4">Line formats control how each line taken from an input file is output as part
of a line group in if-then-else format. For example, the following command
outputs text with a one-column change indicator to the left of the text. The first
column of output is '</FONT><FONT FACE="Courier New" SIZE="3"><B>-</B></FONT><FONT FACE="Times New Roman" SIZE="4">' for deleted lines, '</FONT><FONT FACE="Courier New" SIZE="3"><B>|</B></FONT><FONT FACE="Times New Roman" SIZE="4">' for added lines, and a space for unchanged lines. The formats contain
newline characters where newlines are desired on output.
<P>
</FONT><FONT FACE="Courier New" SIZE="3"><B>diff \ 
<BR>   --old-line-format='-%l 
<BR>' \ 
<BR>   --new-line-format='|%l 
<BR>' \ 
<BR>   --unchanged-line-format=' %l 
<BR>' \ 
<BR>   old new
<P>
</B></FONT><FONT FACE="Times New Roman" SIZE="4">To specify a line format, use one of the following options. You should quote </FONT><FONT FACE="Courier New" SIZE="3"><I>format</I></FONT><FONT FACE="Times New Roman" SIZE="4">, since it often contains shell metacharacters.
<P>
'</FONT><FONT FACE="Courier New" SIZE="3"><B>--old-line-format=</B><I>format</I></FONT><FONT FACE="Times New Roman" SIZE="4">' 
<BR>Formats lines just from the first file.
<P>
 '</FONT><FONT FACE="Courier New" SIZE="3"><B>--new-line-format=</B><I>format</I></FONT><FONT FACE="Times New Roman" SIZE="4">' 
<BR>Formats lines just from the second file.
<P>
'</FONT><FONT FACE="Courier New" SIZE="3"><B>--unchanged-line-format=</B><I>format</I></FONT><FONT FACE="Times New Roman" SIZE="4">' 
<BR>Formats lines common to both files.
<P>
'</FONT><FONT FACE="Courier New" SIZE="3"><B>--line-format=</B><I>format</I></FONT><FONT FACE="Times New Roman" SIZE="4">' 
<BR>Formats all lines; in effect, it simultaneously sets all three of the previous
options.
<P>
In a line format, ordinary characters represent themselves; conversion
specifications start with '</FONT><FONT FACE="Courier New" SIZE="3">%</FONT><FONT FACE="Times New Roman" SIZE="4">' and have one of the following forms.
<P>
'</FONT><FONT FACE="Courier New" SIZE="3">%l</FONT><FONT FACE="Times New Roman" SIZE="4">'  
<BR>Stands for the the contents of the line, not counting its trailing newline (if
any). This format ignores whether the line is incomplete; see </FONT><FONT FACE="Times New Roman" COLOR="#008000" SIZE="4"><A HREF="difIncomplete_Lines.html">Incomplete Lines</A></FONT><FONT FACE="Times New Roman" SIZE="4">.
<P>
'</FONT><FONT FACE="Courier New" SIZE="3">%L</FONT><FONT FACE="Times New Roman" SIZE="4">'  
<BR>Stands for the the contents of the line, including its trailing newline (if
any). If a line is incomplete, this format preserves its incompleteness.
<P>
'</FONT><FONT FACE="Courier New" SIZE="3">%%</FONT><FONT FACE="Times New Roman" SIZE="4">'  
<BR>Stands for '</FONT><FONT FACE="Courier New" SIZE="3">%</FONT><FONT FACE="Times New Roman" SIZE="4">'.
<P>
'</FONT><FONT FACE="Courier New" SIZE="3">%c' <I>C</I>'</FONT><FONT FACE="Times New Roman" SIZE="4">'  
<BR>Stands for </FONT><FONT FACE="Courier New" SIZE="3"><I>C</I></FONT><FONT FACE="Times New Roman" SIZE="4">, where </FONT><FONT FACE="Courier New" SIZE="3"><I>C</I></FONT><FONT FACE="Times New Roman" SIZE="4"> is a single character. </FONT><FONT FACE="Courier New" SIZE="3"><I>C</I></FONT><FONT FACE="Times New Roman" SIZE="4"> may not be a backslash or an apostrophe. For example, '</FONT><FONT FACE="Courier New" SIZE="3">%c':'</FONT><FONT FACE="Times New Roman" SIZE="4">' stands for a colon.
<P>
'</FONT><FONT FACE="Courier New" SIZE="3">%c'\ <I>O</I>'</FONT><FONT FACE="Times New Roman" SIZE="4">'  
<BR>Stands for the character with octal code </FONT><FONT FACE="Courier New" SIZE="3"><I>O</I></FONT><FONT FACE="Times New Roman" SIZE="4"> where </FONT><FONT FACE="Courier New" SIZE="3"><I>O</I></FONT><FONT FACE="Times New Roman" SIZE="4"> is a string of 1, 2, or 3 octal digits. For example, '</FONT><FONT FACE="Courier New" SIZE="3">%c'\0'</FONT><FONT FACE="Times New Roman" SIZE="4">' stands for a null character.
<P>
'</FONT><FONT FACE="Courier New" SIZE="3"><I>Fn</I></FONT><FONT FACE="Times New Roman" SIZE="4"> ' 
<BR>Stands for the line number formatted with </FONT><FONT FACE="Courier New" SIZE="3"><I>F</I></FONT><FONT FACE="Times New Roman" SIZE="4"> where </FONT><FONT FACE="Courier New" SIZE="3"><I>F</I></FONT><FONT FACE="Times New Roman" SIZE="4"> is a </FONT><FONT FACE="Courier New" SIZE="3">printf</FONT><FONT FACE="Times New Roman" SIZE="4"> conversion specification. For example, '</FONT><FONT FACE="Courier New" SIZE="3">%.5dn</FONT><FONT FACE="Times New Roman" SIZE="4">' prints the line number using the </FONT><FONT FACE="Courier New" SIZE="3">printf</FONT><FONT FACE="Times New Roman" SIZE="4"> format, </FONT><FONT FACE="Courier New" SIZE="3">&quot;%.5d&quot;</FONT><FONT FACE="Times New Roman" SIZE="4">. See </FONT><FONT FACE="Times New Roman" COLOR="#008000" SIZE="4"><A HREF="difLine_Group_Formats.html">Line Group Formats</A></FONT><FONT FACE="Times New Roman" SIZE="4"> for more about </FONT><FONT FACE="Courier New" SIZE="3">printf</FONT><FONT FACE="Times New Roman" SIZE="4"> conversion specifications.
<P>
The default line format is '</FONT><FONT FACE="Courier New" SIZE="3">%l</FONT><FONT FACE="Times New Roman" SIZE="4">' followed by a newline character. 
<P>
If the input contains tab characters and it is important that they line up on
output, you should ensure that '</FONT><FONT FACE="Courier New" SIZE="3">%l</FONT><FONT FACE="Times New Roman" SIZE="4">' or '</FONT><FONT FACE="Courier New" SIZE="3">%L</FONT><FONT FACE="Times New Roman" SIZE="4">' in a line format is just after a tab stop (e.g., by preceding '</FONT><FONT FACE="Courier New" SIZE="3">%l</FONT><FONT FACE="Times New Roman" SIZE="4">' or '</FONT><FONT FACE="Courier New" SIZE="3">%L</FONT><FONT FACE="Times New Roman" SIZE="4">' with a tab character), or you should use the '</FONT><FONT FACE="Courier New" SIZE="3">-t</FONT><FONT FACE="Times New Roman" SIZE="4">' or '</FONT><FONT FACE="Courier New" SIZE="3">--expand-tabs</FONT><FONT FACE="Times New Roman" SIZE="4">' option. 
<P>
Taken together, the line and line group formats let you specify many different
formats. For example, the following command uses a format similar to </FONT><FONT FACE="Courier New" SIZE="3">diff</FONT><FONT FACE="Times New Roman" SIZE="4">'s normal format. You can tailor this command to get fine control over </FONT><FONT FACE="Courier New" SIZE="3">diff</FONT><FONT FACE="Times New Roman" SIZE="4">'s output.
<P>
</FONT><FONT FACE="Courier New" SIZE="3">diff \ 
<BR><B>   </B>--old-line-format='&lt; %l 
<BR>' \ 
<BR><B>   </B>--new-line-format='&gt; %l
<BR>
<BR>' \
<BR><B>   </B>--old-group-format='%df%(f=l?:,%dl)d%dE 
<BR>%&lt;' \ 
<BR><B>   </B>--new-group-format='%dea%dF%(F=L?:,%dL) 
<BR>%&gt;' \ 
<BR><B>   </B>--changed-group-format='%df%(f=l?:,%dl)c%dF%(F=L?:,%dL) 
<BR>%&lt;--- 
<BR>%&gt;' \ 
<BR><B>   </B>--unchanged-group-format='' \
<BR><B>   </B>old new
<P>
</FONT></BODY>
</HTML>