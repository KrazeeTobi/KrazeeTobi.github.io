<HTML>
<HEAD>
   <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
   <META NAME="GENERATOR" CONTENT="Mozilla/4.04 [en] (Win95; I) [Netscape]">
   <TITLE>Overriding Variables</TITLE>
</HEAD>
<BODY>
<A NAME="Top"></A><A HREF="make.html">Contents</A>|<A HREF="makeindex.html">Index</A>|<A HREF="makeAvoiding_Recompilation_of_Some_F.html">Previous</A>|<A HREF="makeTesting_the_Compilation_of_a_Pro.html">Next</A>
<BR><A NAME="off_1803957"></A><A NAME="33eafb2b"></A><B><FONT FACE="Futura Md BT"><FONT SIZE=+3>Overriding
variables</FONT></FONT></B>
<BR>
<HR SIZE=3 WIDTH="100%"><FONT FACE="Times New Roman"><FONT SIZE=+1>An argument
that contains ‘</FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>=</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>’
specifies the value of a variable: ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0><I>v</I><B>=</B><I>x</I></FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
sets the value of the variable, </FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>v</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>,
to </FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>x</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>.
If you specify a value in this way, all ordinary assignments of the same
variable in the makefile are ignored; we say they have been <I>overridden</I>
by the command line argument.</FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>The most common way to use
this facility is to pass extra flags to compilers. For example, in a properly
written makefile, the variable, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>CFLAGS</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
is included in each command that runs the C compiler. So, a file, ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>foo.c</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’,
would be compiled using something like: </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>cc
-c $(CFLAGS) foo.c</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.</FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>Thus, whatever value you
set for </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>CFLAGS</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
affects each compilation that occurs.</FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>The makefile probably specifies
the usual value for </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>CFLAGS</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
like: </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>CFLAGS<B>=</B>-g</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.</FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>Each time you run </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>,
you can override this value if you wish. For example, if you say ‘</FONT></FONT><FONT SIZE=+0><FONT FACE="Courier New">make
CFLAGS=</FONT><FONT FACE="Times New Roman">‘</FONT><FONT FACE="Courier New">-g
-O</FONT><FONT FACE="Times New Roman">’</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’,
each C compilation will be done with ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>cc
-c -g -O</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’. (This
illustrates how you can use quoting in the shell to enclose spaces and
other special characters in the value of a variable when you override it.)</FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>The variable, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>CFLAGS</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
is only one of many standard variables that exist just so that you can
change them this way. See <FONT COLOR="#008000"><A HREF="makeVariables_Used_by_Implicit_Rules.html">Variables
used by implicit rules</A></FONT> for a complete list.</FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>You can also program the
makefile to look at additional variables of your own, giving the user the
ability to control other aspects of how the makefile works by changing
the variables.</FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>When you override a variable
with a command argument, you can define either a recursively-expanded variable
or a simply-expanded variable. The examples shown previously make a recursively-expanded
variable; to make a simply-expanded variable, write ‘</FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>:=</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>’
instead of ‘</FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>=</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>’.
Unless you want to include a variable reference or function call in the
<I>value</I> that you specify, it makes no difference which kind of variable
you create.</FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>There is one way that the
makefile can change a variable that you have overridden. This is to use
the </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>override</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
directive, which is a line using something like ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>override
<I>variable</I>=<I>value</I></FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
(see <FONT COLOR="#008000"><A HREF="makeThe_override_Directive.html">The
</A></FONT></FONT></FONT><FONT COLOR="#008000"><A HREF="makeThe_override_Directive.html"><B><FONT FACE="Courier New"><FONT SIZE=+0>override</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
directive</FONT></FONT></A></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>).</FONT></FONT>
<CENTER>
<HR SIZE=3 WIDTH="100%"></CENTER>

<CENTER><A HREF="#Top">Top</A>|<A HREF="make.html">Contents</A>|<A HREF="makeindex.html">Index</A>|<A HREF="makeAvoiding_Recompilation_of_Some_F.html">Previous</A>|<A HREF="makeTesting_the_Compilation_of_a_Pro.html">Next</A></CENTER>
<FONT FACE="Times New Roman"><FONT SIZE=+1></FONT></FONT>&nbsp;
</BODY>
</HTML>
