<HTML>
<HEAD>
   <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
   <META NAME="GENERATOR" CONTENT="Mozilla/4.04 [en] (Win95; I) [Netscape]">
   <TITLE>Reentrant covers for OS subroutines</TITLE>
</HEAD>
<BODY>
<A NAME="Top"></A><A HREF="libc.html">Contents</A>|<A HREF="libcindex.html">Index</A>|<A HREF="libcDefinitions_for_OS_interface.html">Previous</A>|<A HREF="libcVariable_Argument_Lists.html">Next</A>
<BR><A NAME="off_2097152"></A><A NAME="6d9cc697"></A><A NAME="off_2097152"></A><A NAME="6d9cc697"></A><A NAME="off_2097152"></A><A NAME="6d9cc697"></A><A NAME="off_2097152"></A><A NAME="6d9cc697"></A><A NAME="off_2097152"></A><A NAME="6d9cc697"></A><A NAME="off_2097152"></A><A NAME="6d9cc697"></A><A NAME="off_2097152"></A><A NAME="6d9cc697"></A><A NAME="off_2097152"></A><A NAME="6d9cc697"></A><A NAME="off_2097152"></A><A NAME="6d9cc697"></A><A NAME="off_2097152"></A><A NAME="6d9cc697"></A><A NAME="off_2097152"></A><A NAME="6d9cc697"></A><A NAME="off_2097152"></A><A NAME="6d9cc697"></A><FONT FACE="Futura Md BT"><FONT SIZE=+3>Reentrant
covers for OS subroutines</FONT></FONT>
<BR>
<HR SIZE=3 WIDTH="100%"><FONT FACE="Times New Roman"><FONT SIZE=+1>Since
the system subroutines are used by other library routines that require
reentrancy, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>libc.a</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
provides cover routines (for example, the reentrant version of </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>fork</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
is </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>_fork_r</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>).
These cover routines are consistent with the other reentrant subroutines
in this library, and achieve reentrancy by using a reserved global data
block (see <FONT COLOR="#008000"><A HREF="libcReentrancy.html">Reentrancy</A></FONT>
for more discussion). The following discussion describes the routines.</FONT></FONT>
<UL TYPE=SQUARE>
<UL TYPE=SQUARE>
<UL TYPE=SQUARE>
<LI>
<B><FONT FACE="Courier New"><FONT SIZE=+0>_open_r</FONT></FONT></B></LI>

<BR><FONT FACE="Times New Roman"><FONT SIZE=+1>A reentrant version of </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>open</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.
It takes a pointer to the global data block which holds </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>errno</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.</FONT></FONT></UL>
</UL>
</UL>

<UL TYPE=SQUARE>
<UL TYPE=SQUARE>
<UL TYPE=SQUARE>
<UL TYPE=SQUARE>
<PRE><FONT FACE="Courier New"><FONT SIZE=+1>int _open_r(void *<I>reent</I>,&nbsp;
&nbsp;&nbsp; const char *<I>file</I>, int <I>flags</I>, int <I>mode</I>);</FONT></FONT></PRE>
</UL>

<LI>
<B><FONT FACE="Courier New"><FONT SIZE=+0>_close_r</FONT></FONT></B></LI>

<BR><FONT FACE="Times New Roman"><FONT SIZE=+1>A reentrant version of </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>close</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.
It takes a pointer to the global data block which holds </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>errno</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.</FONT></FONT>
<UL TYPE=SQUARE>
<PRE><FONT FACE="Courier New"><FONT SIZE=+1>int _close_r(void *<I>reent</I>, int <I>fd</I>);</FONT></FONT></PRE>
</UL>

<LI>
<B><FONT FACE="Courier New"><FONT SIZE=+0>_lseek_r</FONT></FONT></B></LI>

<BR><FONT FACE="Times New Roman"><FONT SIZE=+1>A reentrant version of </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>lseek</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.
It takes a pointer to the global data block which holds </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>errno</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.</FONT></FONT>
<UL TYPE=SQUARE>
<PRE><FONT FACE="Courier New"><FONT SIZE=+1>off_t _lseek_r(void *<I>reent</I>,&nbsp;
&nbsp;&nbsp; int <I>fd</I>, off_t <I>pos</I>, int <I>whence</I>);</FONT></FONT></PRE>
</UL>

<LI>
<B><FONT FACE="Courier New"><FONT SIZE=+0>_read_r</FONT></FONT></B></LI>

<BR><FONT FACE="Times New Roman"><FONT SIZE=+1>A reentrant version of </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>read</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.
It takes a pointer to the global data block which holds </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>errno</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.</FONT></FONT>
<UL TYPE=SQUARE>
<PRE><FONT FACE="Courier New"><FONT SIZE=+1>long _read_r(void *<I>reent</I>,&nbsp;
&nbsp;&nbsp; int <I>fd</I>, void *<I>buf</I>, size_t <I>cnt</I>);</FONT></FONT></PRE>
</UL>

<LI>
<B><FONT FACE="Courier New"><FONT SIZE=+0>_write_r</FONT></FONT></B></LI>

<BR><FONT FACE="Times New Roman"><FONT SIZE=+1>A reentrant version of </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>write</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.
It takes a pointer to the global data block which holds </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>errno</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.</FONT></FONT>
<UL TYPE=SQUARE>
<PRE><FONT FACE="Courier New"><FONT SIZE=+1>long _write_r(void *<I>reent</I>,&nbsp;
&nbsp;&nbsp; int <I>fd</I>, const void *<I>buf</I>, size_t <I>cnt</I>);</FONT></FONT></PRE>
</UL>

<LI>
<B><FONT FACE="Courier New"><FONT SIZE=+0>_fork_r</FONT></FONT></B></LI>

<BR><FONT FACE="Times New Roman"><FONT SIZE=+1>A reentrant version of </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>fork</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.
It takes a pointer to the global data block which holds </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>errno</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.</FONT></FONT>
<UL TYPE=SQUARE>
<PRE><FONT FACE="Courier New"><FONT SIZE=+1>int _fork_r(void *<I>reent</I>);</FONT></FONT></PRE>
</UL>

<LI>
<B><FONT FACE="Courier New"><FONT SIZE=+0>_wait_r</FONT></FONT></B></LI>

<BR><FONT FACE="Times New Roman"><FONT SIZE=+1>A reentrant version of </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>wait</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.
It takes a pointer to the global data block which holds </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>errno</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.</FONT></FONT>
<UL TYPE=SQUARE>
<PRE><FONT FACE="Courier New"><FONT SIZE=+1>int _wait_r(void *<I>reent</I>, int *<I>status</I>);</FONT></FONT></PRE>
</UL>

<LI>
<B><FONT FACE="Courier New"><FONT SIZE=+0>_stat_r</FONT></FONT></B></LI>

<BR><FONT FACE="Times New Roman"><FONT SIZE=+1>A reentrant version of </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>stat</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.
It takes a pointer to the global data block which holds </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>errno</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.</FONT></FONT>
<UL TYPE=SQUARE>
<PRE><FONT FACE="Courier New"><FONT SIZE=+1>int _stat_r(void *<I>reent</I>,&nbsp;
&nbsp;&nbsp; const char *<I>file</I>, struct stat *<I>pstat</I>);</FONT></FONT></PRE>
</UL>

<LI>
<B><FONT FACE="Courier New"><FONT SIZE=+0>_fstat_r</FONT></FONT></B></LI>

<BR><FONT FACE="Times New Roman"><FONT SIZE=+1>A reentrant version of </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>fstat</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.
It takes a pointer to the global data block which holds </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>errno</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.</FONT></FONT>
<UL TYPE=SQUARE>
<PRE><FONT FACE="Courier New"><FONT SIZE=+1>int _fstat_r(void *<I>reent</I>, int <I>fd</I>,&nbsp;
&nbsp;&nbsp; struct stat *<I>pstat</I>);</FONT></FONT></PRE>
</UL>

<LI>
<B><FONT FACE="Courier New"><FONT SIZE=+0>_link_r</FONT></FONT></B></LI>

<BR><FONT FACE="Times New Roman"><FONT SIZE=+1>A reentrant version of </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>link</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.
It takes a pointer to the global data block which holds </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>errno</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.</FONT></FONT>
<UL TYPE=SQUARE>
<PRE><FONT FACE="Courier New"><FONT SIZE=+1>int _link_r(void *<I>reent</I>,&nbsp;
&nbsp;&nbsp; const char *<I>old</I>, const char *<I>new</I>);</FONT></FONT></PRE>
</UL>

<LI>
<B><FONT FACE="Courier New"><FONT SIZE=+0>_unlink_r</FONT></FONT></B></LI>

<BR><FONT FACE="Times New Roman"><FONT SIZE=+1>A reentrant version of </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>unlink</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.
It takes a pointer to the global data block which holds </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>errno</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.</FONT></FONT>
<UL TYPE=SQUARE>
<PRE><FONT FACE="Courier New"><FONT SIZE=+1>int _unlink_r(void *<I>reent</I>, const char *<I>file</I>);</FONT></FONT></PRE>
</UL>

<LI>
<B><FONT FACE="Courier New"><FONT SIZE=+0>_sbrk_r</FONT></FONT></B></LI>

<BR><FONT FACE="Times New Roman"><FONT SIZE=+1>A reentrant version of </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>sbrk</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.
It takes a pointer to the global data block which holds </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>errno</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.</FONT></FONT>
<UL TYPE=SQUARE>
<PRE><FONT FACE="Courier New"><FONT SIZE=+1>char *_sbrk_r(void *<I>reent</I>, size_t <I>incr</I>);</FONT></FONT></PRE>
</UL>
</UL>
</UL>
</UL>

<CENTER>
<HR SIZE=3 WIDTH="100%"></CENTER>

<CENTER><A HREF="#Top">Top</A>|<A HREF="libc.html">Contents</A>|<A HREF="libcindex.html">Index</A>|<A HREF="libcDefinitions_for_OS_interface.html">Previous</A>|<A HREF="libcVariable_Argument_Lists.html">Next</A></CENTER>

</BODY>
</HTML>
