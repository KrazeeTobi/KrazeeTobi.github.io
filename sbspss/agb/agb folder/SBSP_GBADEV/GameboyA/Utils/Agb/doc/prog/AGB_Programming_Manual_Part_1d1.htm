<html>

<head>
<link rel="stylesheet" type="text/css" href="style.css">
<!--
Editors' comments:
07/07/00  Created by Pam Curtis using w2w 2.0
07/14/00 Edited by PC -->
<title>Image System</title>
</head>

<body text="black" bgcolor="white">
<a name="topofpage"></a>
<h1><a name="T5"></a>5 Image System</h1>
<p>AGB can use different image systems depending on the purpose of the software.
<p>These display-related items are changed mainly using the DISPCNT register.
<p><img src="Image93.gif" width="575" height="445">
<p>DISPCNT [d15] OBJ Window Display Flag<br>

<p>Master flag that controls whether the OBJ window is displayed.<br>
For information on the OBJ window, see section <a href="AGB_Programming_Manual_Part_2.htm#T36">6.3, OBJ (Object)</a>.
<p>DISPCNT [d14][d13] Display Flags for Windows 0 and 1<br>

<p>Master flag that controls whether windows 0 and 1 are displayed.<br>
For information on windows, see <a href="AGB_Programming_Manual_Part_2b.htm#T58">Chapter 8, Window Feature</a>.
<p>DISPCNT [d12-08] Individual Screens Display Flag<br>

<p>Allows individual control of whether BG0, BG1, BG2, BG3, and OBJ, respectively, are displayed.
<p>DISPCNT [d07] Forced Blank<br>

<p>Setting this bit causes the CPU to forcibly halt operation of the image processing circuit, allowing access to VRAM, color palette RAM, OAM, and the internal registers. The LCD screen displays white during a forced blank. However, the internal HV synchronous counter continues to operate even during a forced blank. When the internal HV synchronous counter cancels a forced blank during a display period, the display begins from the beginning, following the display of three vertical lines.
<p>DISPCNT [d06] OBJ Character VRAM Mapping Format<br>

<p>Specifies the VRAM mapping format for an OBJ character.<br>

<p>A setting of 0 causes the OBJ character to be handled in memory mapped 2-dimensional. A setting of 1 causes the OBJ character to be handled in memory mapped 1-dimensional.<br>

<p>For information on OBJ character VRAM mapping formats, see section <a href="AGB_Programming_Manual_Part_2.htm#T39">6.3.2, Character Data Mapping</a>.
<p>DISPCNT [d05] H-Blank Interval OBJ Processing Flag<br>

<p>A setting of 0 executes OBJ Render Processing with all H-Line intervals(including H-Blank intervals).<br>

<p>A setting of 1 executes OBJ Render Processing with the display intervals only and not for H-Blank intervals. Thus, when the user accesses OAM or OBJ VRAM during an H-Blank interval, this bit needs to be set. However, also in this situation, maximum OBJ display performance cannot be obtained.
<p>DISPCNT [d04] Display Frame Selection<br>

<p>When rendering in bitmap format in a mode in which there are 2 frame buffers (BG modes 4 and 5), this bit allows selection of one of the frame buffers for rendering. A setting of 0 selects the contents of frame buffer 0 for rendering; a setting of 1 selects the contents of frame buffer 1 for rendering.
<p>DISPCNT [d03] (CGB Mode)<br>

<p>AGB is equipped with 2 CPUs. In AGB mode, a 32-bit RISC CPU starts, and in CGB mode, an 8-bit CISC CPU starts.<br>

<p><u>Because this bit is controlled by the system, it cannot be accessed by the user.</u>
<p>DISPCNT [d02-00] BG Mode<br>

<p>Selects the BG mode from a range of 0-5. For more information on BG modes, see the following section.
<h2><a name="T6"></a>5.1 BG Modes</h2>
<h3><a name="T7"></a>5.1.1 Details of BG Modes</h3>
<p>In AGB, changing the BG mode allows character format and bitmap format to be used selectively, as appropriate.
<p>In modes 0, 1, and 2, rendering to the LCD screen is performed in a character format suitable for the game.
<p>In modes 3, 4, and 5, rendering to the LCD screen is performed in bitmap format.
<p>
<table width="650" border="1" cellspacing="0" cellpadding="3">
<tr>
<td width="10%" valign="top" rowspan="2" bgcolor="white">
<center>
BG Mode</center>
</td>
<td valign="top" colspan="3" bgcolor="white">
<center>
Character Format BG Screen</center>
</td>
<td width="15%" valign="top" rowspan="2" bgcolor="white">Number of Characters Specifiable</td>
<td width="18%" valign="top" rowspan="2" bgcolor="white">Number of Colors/Palettes</td>
<td valign="top" colspan="6" bgcolor="white">
<center>
Features</center>
</td>
</tr>
<tr>
<td width="13%" valign="top" bgcolor="white">Rotation/Scaling</td>
<td width="10%" valign="top" bgcolor="white">No. of Screens</td>
<td width="25%" valign="top" bgcolor="white">
<center>
Size</center>
</td>
<td width="4%" valign="top" bgcolor="white">
<center>
*1</center>
</td>
<td width="4%" valign="top" bgcolor="white">
<center>
*2</center>
</td>
<td width="4%" valign="top" bgcolor="white">
<center>
*3</center>
</td>
<td width="4%" valign="top" bgcolor="white">
<center>
*4</center>
</td>
<td width="4%" valign="top" bgcolor="white">
<center>
*5</center>
</td>
<td width="4%" valign="top" bgcolor="white">
<center>
*6</center>
</td>
</tr>
<tr>
<td width="10%" valign="top">
<center>
0</center>
</td>
<td width="13%" valign="top">
<center>
No</center>
</td>
<td width="10%" valign="top">
<center>
4</center>
</td>
<td valign="top" width="25%">
<center>
<nobr>256 x 256</nobr><br>
to<br>
<nobr>512 x 512</nobr></center>
</td>
<td width="15%" valign="top">
<center>
1024</center>
</td>
<td width="18%" valign="top">
<center>
16 / 16<br>
256 / 1</center>
</td>
<td width="4%" valign="top">
<center>
O</center>
</td>
<td width="4%" valign="top">
<center>
O</center>
</td>
<td width="4%" valign="top">
<center>
O</center>
</td>
<td width="4%" valign="top">
<center>
O</center>
</td>
<td width="4%" valign="top">
<center>
O</center>
</td>
<td width="4%" valign="top">
<center>
O</center>
</td>
</tr>
<tr>
<td width="10%" valign="top" rowspan="2">
<center>
1</center>
</td>
<td width="13%" valign="top">
<center>
No</center>
</td>
<td width="10%" valign="top">
<center>
2</center>
</td>
<td width="25%" valign="top">
<center>
<nobr>256 x 256</nobr><br>
to<br>
<nobr>512 x 512</nobr></center>
</td>
<td width="15%" valign="top">
<center>
1024</center>
</td>
<td width="18%" valign="top">
<center>
16 / 16<br>
256 / 1</center>
</td>
<td width="4%" valign="top">
<center>
O</center>
</td>
<td width="4%" valign="top">
<center>
O</center>
</td>
<td width="4%" valign="top">
<center>
O</center>
</td>
<td width="4%" valign="top">
<center>
O</center>
</td>
<td width="4%" valign="top">
<center>
O</center>
</td>
<td width="4%" valign="top">
<center>
O</center>
</td>
</tr>
<tr>
<td width="13%" valign="top">
<center>
Yes</center>
</td>
<td width="10%" valign="top">
<center>
1</center>
</td>
<td width="28%" valign="top">
<center>
<nobr>128 x 128</nobr><br>
to<br>
<nobr>1024 x 1024</nobr></center>
</td>
<td width="15%" valign="top">
<center>
256</center>
</td>
<td width="18%" valign="top">
<center>
256 / 1</center>
</td>
<td width="4%" valign="top">
<center>
O</center>
</td>
<td width="4%" valign="top">
<center>
X</center>
</td>
<td width="4%" valign="top">
<center>
O</center>
</td>
<td width="4%" valign="top">
<center>
O</center>
</td>
<td width="4%" valign="top">
<center>
O</center>
</td>
<td width="4%" valign="top">
<center>
O</center>
</td>
</tr>
<tr>
<td width="10%" valign="top">
<center>
2</center>
</td>
<td width="13%" valign="top">
<center>
Yes</center>
</td>
<td width="10%" valign="top">
<center>
2</center>
</td>
<td width="28%" valign="top">
<center>
<nobr>128 x 128</nobr><br>
to<br>
<nobr>1024 x 1024</nobr></center>
</td>
<td width="15%" valign="top">
<center>
256</center>
</td>
<td width="18%" valign="top">
<center>
256 / 1</center>
</td>
<td width="4%" valign="top">
<center>
O</center>
</td>
<td width="4%" valign="top">
<center>
X</center>
</td>
<td width="4%" valign="top">
<center>
O</center>
</td>
<td width="4%" valign="top">
<center>
O</center>
</td>
<td width="4%" valign="top">
<center>
O</center>
</td>
<td width="4%" valign="top">
<center>
O</center>
</td>
</tr>
</table>

<p>
<table width="650" border="1" cellspacing="0" cellpadding="3">
<tr>
<td width="10%" valign="top" rowspan="2" bgcolor="white">
<center>
BG Mode</center>
</td>
<td valign="top" colspan="3" bgcolor="white">
<center>
Bitmap Format BG Screen</center>
</td>
<td width="15%" valign="top" rowspan="2" bgcolor="white">
<center>
Frame Memory</center>
</td>
<td width="18%" valign="top" rowspan="2" bgcolor="white">
<center>
No. of Colors</center>
</td>
<td valign="top" colspan="6" bgcolor="white">
<center>
Features</center>
</td>
</tr>
<tr>
<td width="13%" valign="top" bgcolor="white">Rotation/Scaling</td>
<td width="10%" valign="top" bgcolor="white">No. of Screens</td>
<td width="13%" valign="top" bgcolor="white">
<center>
Size</center>
</td>
<td width="4%" valign="top" bgcolor="white">
<center>
*1</center>
</td>
<td width="4%" valign="top" bgcolor="white">
<center>
*2</center>
</td>
<td width="4%" valign="top" bgcolor="white">
<center>
*3</center>
</td>
<td width="4%" valign="top" bgcolor="white">
<center>
*4</center>
</td>
<td width="4%" valign="top" bgcolor="white">
<center>
*5</center>
</td>
<td width="4%" valign="top" bgcolor="white">
<center>
*6</center>
</td>
</tr>
<tr>
<td width="10%" valign="top">
<center>
3</center>
</td>
<td width="13%" valign="top">
<center>
Yes</center>
</td>
<td width="10%" valign="top">
<center>
1</center>
</td>
<td width="13%" valign="top">
<center>
<nobr>240 x 160</nobr></center>
</td>
<td width="15%" valign="top">
<center>
1</center>
</td>
<td width="18%" valign="top">
<center>
32,768</center>
</td>
<td width="4%" valign="top">
<center>
O</center>
</td>
<td width="4%" valign="top">
<center>
X</center>
</td>
<td width="4%" valign="top">
<center>
O</center>
</td>
<td width="4%" valign="top">
<center>
O</center>
</td>
<td width="4%" valign="top">
<center>
O</center>
</td>
<td width="4%" valign="top">
<center>
O</center>
</td>
</tr>
<tr>
<td width="10%" valign="top">
<center>
4</center>
</td>
<td width="13%" valign="top">
<center>
Yes</center>
</td>
<td width="10%" valign="top">
<center>
1</center>
</td>
<td width="13%" valign="top">
<center>
<nobr>240 x160</nobr></center>
</td>
<td width="15%" valign="top">
<center>
2</center>
</td>
<td width="18%" valign="top">
<center>
256</center>
</td>
<td width="4%" valign="top">
<center>
O</center>
</td>
<td width="4%" valign="top">
<center>
X</center>
</td>
<td width="4%" valign="top">
<center>
O</center>
</td>
<td width="4%" valign="top">
<center>
O</center>
</td>
<td width="4%" valign="top">
<center>
O</center>
</td>
<td width="4%" valign="top">
<center>
O</center>
</td>
</tr>
<tr>
<td width="10%" valign="top">
<center>
5</center>
</td>
<td width="13%" valign="top">
<center>
Yes</center>
</td>
<td width="10%" valign="top">
<center>
1</center>
</td>
<td width="13%" valign="top">
<center>
<nobr>160 x 128</nobr></center>
</td>
<td width="15%" valign="top">
<center>
2</center>
</td>
<td width="18%" valign="top">
<center>
32,768</center>
</td>
<td width="4%" valign="top">
<center>
O</center>
</td>
<td width="4%" valign="top">
<center>
X</center>
</td>
<td width="4%" valign="top">
<center>
O</center>
</td>
<td width="4%" valign="top">
<center>
O</center>
</td>
<td width="4%" valign="top">
<center>
O</center>
</td>
<td width="4%" valign="top">
<center>
O</center>
</td>
</tr>
</table>

<p>
<table width="617" border="0" cellspacing="0" cellpadding="3">
<tr>
<td width="10%" valign="top">Features</td>
<td width="35%" valign="top">*1 HV Scroll (individual screens)</td>
<td width="55%" valign="top">*4 Semitransparent(16 levels)</td>
</tr>
<tr>
<td width="10%" valign="top"></td>
<td width="35%" valign="top">*2 HV Flip (individual characters)</td>
<td width="55%" valign="top">*5 Fade-in/Fade-out</td>
</tr>
<tr>
<td width="10%" valign="top"></td>
<td width="35%" valign="top">*3 Mosaic (16 levels)</td>
<td width="55%" valign="top">*6 Screen priority specification (2 bits)</td>
</tr>
</table>

<p><b>[Note]</b><br>

<p>In mode 3, one frame memory is available that can display 32,768 colors, which is suitable for rendering still images. Modes 4 and 5 allow double buffering using two frame memories, and are thus suitable for rendering animated video.
<p>The method of controlling text BG scrolling is different from that of BG rotation/scaling and bitmap BG scrolling. (See <a href="AGB_Programming_Manual_Part_2.htm#T25">&quot;6.1.8 BG Scrolling&quot;</a> and <a href="AGB_Programming_Manual_Part_2.htm#T20">&quot;6.1.7 BG Rotation and Scaling Features&quot;</a>.)
<h3><a name="T8"></a>5.1.2 VRAM Memory Map</h3>
<p>The VRAM (96 Kbyte) memory maps in the BG modes are as shown in the following figure.
<p><img src="Image94.gif" width="570" height="370">
<p>Users can map the screen and character data areas in the 64 Kbyte BG area in BG modes 0, 1, and 2. For more information, see section <a href="AGB_Programming_Manual_Part_2.htm#T7">&quot;6.1.3, VRAM Address Mapping of BG Data&quot;</a>.
<p>In addition, see the descriptions below for more information on the memory areas and the data formats for each area.
</body>

</html>
