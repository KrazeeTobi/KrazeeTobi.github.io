<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="Author" content="Frederick Geers">
   <meta name="GENERATOR" content="Mozilla/4.51 [en] (Win95; I) [Netscape]">
   <title>Source-Navigator demonstration</title>
</head>
<body>
<a NAME="Top"></a><a href="emb.html">Contents</a>|<a href="embindex.html">Index</a>|<a href="embThe_linker_script.html">Previous</a>|<a href="embIO_support_code.html">Next</a>
<br><font face="Futura Md BT"><font size=+3>Source-Navigator demonstration</font></font>
<hr SIZE=5 WIDTH="100%">
<div CLASS="Body"><font size=+1>The following documentation discusses the&nbsp;<a NAME="marker=1013400"></a>Source-Navigator
source code comprehension tool, using a tutorial to demonstrate the usage
of debugging the sources for a project, editing the source files and building
the project, the <tt>monop<a NAME="marker=1014094"></a></tt>game. In this
tutorial, you will create two targets, <tt>monop</tt> and <tt>initdeck</tt>,
and, with them, use many compiling, editing and debugging features of GNUPro
Toolkit. The result is making and running the <tt>monop<a NAME="marker=1014109"></a></tt>project’s
game.</font></div>

<ul TYPE=SQUARE>
<li CLASS="Bullet">
<a NAME="pgfId=1013335"></a><font size=+1><a href="#Creating_the_demo_project" CLASS="XRef">Creating
the Source-Navigator demonstration project</a></font></li>

<li CLASS="Bullet">
<a NAME="pgfId=1013340"></a><font size=+1><a href="#Building_monop" CLASS="XRef">Building
the monop target</a></font></li>

<li CLASS="Bullet">
<a NAME="pgfId=1013344"></a><font size=+1><a href="#Debug_compile_monop" CLASS="XRef">Debugging
and compiling the monop target</a></font></li>

<li CLASS="Bullet">
<a NAME="pgfId=1013345"></a><font size=+1><a href="#Building_initdeck" CLASS="XRef">Building
the initdeck target</a></font></li>

<li CLASS="Bullet">
<a NAME="pgfId=1013341"></a><font size=+1><a href="#Debug_initdeck" CLASS="XRef">Debugging
the initdeck target</a></font></li>

<br>&nbsp;</ul>
<font size=+1>Invoke Source-Navigator with the following input, using a
shell window’s commandline interface from the <tt>/usr/cygnus/gnupro/sn99r1/</tt>directory.</font>
<ul TYPE=SQUARE>
<pre><tt><font size=+1>snavigator</font></tt></pre>
</ul>
<font size=+1>For more information about using Source-Navigator, see its
online documentation from its <font face="Arial,Helvetica">Help</font>
menu.</font>
<h2>
<a NAME="Creating_the_demo_project"></a><i>Creating the Source-Navigator
demonstration project</i></h2>
&nbsp;
<div CLASS="Body"><a NAME="pgfId=1013039"></a><font size=+1>With Source-Navigator
active, create a new project.</font></div>

<ol>
<div CLASS="Numbered"><a NAME="pgfId=1014066"></a><font size=+1>1. Choose
</font><font face="Arial,Helvetica">File</font><i><font size=+1>
-> </font></i><font face="Arial,Helvetica">New Project...</font><font size=+1>
from the </font><font face="Arial,Helvetica">Symbol Browser</font><font size=+1>
and define a new project, calling it <tt>monop.proj</tt>.</font></div>
</ol>

<ol>
<div CLASS="NumberedNext"><a NAME="pgfId=1013040"></a><font size=+1>2.
Under </font><font face="Arial,Helvetica">Add Directory</font><font size=+1>,
click the “<i><font face="Arial,Helvetica">...</font></i>” button to select
the <tt>demos\monop</tt> directory. See <a href="#Fig4" CLASS="XRef">Figure
4</a> for the result of defining the new project’s name in the </font><font face="Arial,Helvetica">Auto-Create
Project</font><font size=+1> window. Click </font><font face="Arial,Helvetica">OK</font><font size=+1>
to build the project.</font></div>
</ol>

<blockquote>
<div CLASS="FigureTitle"><a NAME="pgfId=1013743"></a><a NAME="Fig4"></a><font size=+1><b>Figure
4: </b><i>Creating a new project, </i><tt>monop.proj</tt><i>, from the
</i><tt>demos\monop</tt><i>
directory</i></font></div>
</blockquote>

<ol>
<div CLASS="Figure"><a NAME="pgfId=1013315"></a></div>

<p><br><img SRC="int04-2.gif" height=294 width=476></ol>

<h2 CLASS="Heading2">
<a NAME="Building_monop"></a><a NAME="pgfId=1013044"></a><a NAME="37135"></a><b><i>Building
the </i></b><tt>monop</tt> <i>target</i></h2>

<div CLASS="Body"><a NAME="pgfId=1013045"></a><font size=+1>Having created
a project, you must then build its target components.</font></div>

<ol>
<div CLASS="Numbered"><a NAME="pgfId=1014124"></a><font size=+1>1. Choose
</font><font face="Arial,Helvetica">Tools</font><i><font size=+1>
-> </font></i><font face="Arial,Helvetica">Build Settings...</font><font size=+1>
to start the </font><font face="Arial,Helvetica">Build Settings</font><font size=+1>
window.</font></div>
</ol>

<ol>
<div CLASS="NumberedNext"><a NAME="pgfId=1013049"></a><font size=+1>2.
Enter <tt>monop</tt> as the name of the target. See <a href="#Fig5" CLASS="XRef">Figure
5</a> for the result.</font></div>
</ol>

<blockquote>
<div CLASS="FigureTitle"><a NAME="pgfId=1013760"></a><a NAME="Fig5"></a><font size=+1><b>Figure
5: </b><i>Creating a </i><tt>monop</tt><i> target</i></font></div>
</blockquote>

<ol>
<div CLASS="Figure"><a NAME="pgfId=1013411"></a></div>

<p><br><img SRC="int04-3.gif" height=278 width=359></ol>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013050"></a><font size=+1>3.
Click </font><font face="Arial,Helvetica">Create</font><font size=+1>.
The </font><font face="Arial,Helvetica">Edit Target</font><font size=+1>
window appears.</font></div>
</blockquote>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013051"></a><font size=+1>4.
In the </font><font face="Arial,Helvetica">Build Directory</font><font size=+1>
field, click the “<i><font face="Arial,Helvetica">...</font></i>” button
and select the build directory for the <tt>monop</tt> project (see <a href="#Fig6">Figure
6</a>).</font></div>
</blockquote>

<blockquote>
<div CLASS="FigureTitle"><a NAME="pgfId=1013765"></a><a NAME="Fig6"></a><font size=+1><b>Figure
6: </b><i>Defining the project for building</i></font></div>
</blockquote>

<ol>
<div CLASS="Figure"><a NAME="pgfId=1013296"></a></div>

<p><br><img SRC="int04-4.gif" height=145 width=161></ol>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013055"></a><font size=+1>5.
From </font><font face="Arial,Helvetica">Project Files</font><font size=+1>
in the </font><font face="Arial,Helvetica">Edit Target</font><font size=+1>
window for the <tt>monop</tt> project, select <tt>cards.c</tt> , <tt>execute.c</tt>
, <tt>getinp.c</tt> , <tt>houses.c</tt> , <tt>jail.c</tt> , <tt>misc.c</tt>
, <tt>monop.c</tt> , <tt>morg.c</tt> , <tt>print.c</tt> , <tt>prop.c</tt>
, <tt>rent.c</tt> , <tt>roll.c</tt> , <tt>spec.c</tt> , and <tt>trade.c</tt>
files.</font></div>
</blockquote>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013059"></a><font size=+1>6.
Click the </font><font face="Arial,Helvetica">Add Files</font><font size=+1>
button to copy the files to the </font><font face="Arial,Helvetica">Target
Files</font><font size=+1> list. In <a href="#Fig7" CLASS="XRef">Figure
7</a>, see the result of moving the files from the </font><font face="Arial,Helvetica">Target
Files</font><font size=+1> pane to the </font><font face="Arial,Helvetica">Project
Files</font><font size=+1> pane.</font></div>
</blockquote>

<blockquote>
<div CLASS="FigureTitle"><a NAME="pgfId=1013766"></a><a NAME="Fig7"></a><font size=+1><b>Figure
7: </b><i>Adding the project’s files to the target</i></font></div>
</blockquote>

<ol>
<div CLASS="Figure"><a NAME="Fig7"></a></div>

<p><br><img SRC="int04-5.gif" height=479 width=686></ol>

<blockquote>
<blockquote>
<h6 CLASS="Label">
<a NAME="pgfId=1013060"></a><font size=+1>NOTE:</font></h6>

<div CLASS="Note"><a NAME="pgfId=1013061"></a><font size=+1>To execute
the program correctly in UNIX, click the </font><font face="Arial,Helvetica">Link
Rules</font><font size=+1> tab. Enter <tt>xterm -e bmonop</tt> in the </font><font face="Arial,Helvetica">Command
to launch Application</font><font size=+1> field and click </font><font face="Arial,Helvetica">OK</font><font size=+1>
to close the </font><font face="Arial,Helvetica">Link Rules</font><font size=+1>
window.</font></div>
</blockquote>
</blockquote>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013062"></a><font size=+1>7.
Click </font><font face="Arial,Helvetica">OK</font><font size=+1> to close
the </font><font face="Arial,Helvetica">Edit Target</font><font size=+1>window.
Click </font><font face="Arial,Helvetica">Done</font><font size=+1> to
close the&nbsp;&nbsp;<i> Settings </i>window. The target is created. Now
you need to debug and compile the program. See <a href="#Debug_compile_monop" CLASS="XRef">Debugging
and compiling the <tt>monop</tt> target</a>.</font></div>
</blockquote>

<h2 CLASS="Heading2">
<a NAME="Debug_compile_monop"></a><a NAME="marker=1013403"></a><i>Debugging
and compiling the </i><tt>monop</tt><i> target</i></h2>

<div CLASS="Body"><a NAME="pgfId=1013805"></a><font size=+1>To ensure that
a project can&nbsp;<a NAME="marker=1014131"></a>compile (or&nbsp;<a NAME="marker=1014132"></a>build),
you must first run through a debugging process before using the <tt>make<a NAME="marker=1014133"></a></tt>tool
to create the project.</font></div>

<ol>
<div CLASS="Numbered"><a NAME="pgfId=1013064"></a><font size=+1>1. Select
</font><font face="Arial,Helvetica">Tools</font><i><font size=+1>
-> </font></i><font face="Arial,Helvetica">Build</font><font size=+1> from
the menu bar. The </font><font face="Arial,Helvetica">Build</font><font size=+1>window
opens.</font></div>
</ol>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013068"></a><font size=+1>2.
In </font><font face="Arial,Helvetica">Build Targets</font><font size=+1>,
select <tt>monop</tt> from the target list. See <a href="#Fig8" CLASS="XRef">Figure
8</a>. Click </font><font face="Arial,Helvetica">Start</font><font size=+1>.</font></div>
</blockquote>

<blockquote>
<div CLASS="FigureTitle"><a NAME="pgfId=1013799"></a><a NAME="Fig8"></a><font size=+1><b>Figure
8: </b><i>Running a debugging process for the project before compiling</i></font></div>
</blockquote>

<ol>
<div CLASS="Figure"><a NAME="pgfId=1013290"></a></div>

<p><br><img SRC="int04-6.gif" height=501 width=673></ol>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013069"></a><font size=+1>3.
In this tutorial, Source-Navigator generates some errors from the build.
For instance, <tt>lint</tt> needed to have a definition in the source code.
See <a href="#Fig9" CLASS="XRef">Figure 9</a>.</font></div>
</blockquote>

<blockquote>
<div CLASS="FigureTitle"><a NAME="pgfId=1013826"></a><a NAME="Fig9"></a><font size=+1><b>Figure
9: </b><i>Errors in the project</i></font></div>
</blockquote>

<ol>
<div CLASS="Figure"><a NAME="pgfId=1013289"></a></div>

<p><br><img SRC="int04-7.gif" height=527 width=671></ol>

<h2 CLASS="Heading3">
<a NAME="pgfId=1013073"></a><a NAME="marker=1013404"></a><i>Creating the
</i><tt>lint</tt><i>
macro</i></h2>

<div CLASS="Body"><a NAME="pgfId=1013074"></a><font size=+1>To ensure that
a project can build, edit the macro errors that the debugger finds.</font></div>

<ol>
<div CLASS="Numbered"><a NAME="pgfId=1014134"></a><font size=+1>1. Choose
</font><font face="Arial,Helvetica">Tools</font><font size=+1>
-> </font><font face="Arial,Helvetica">Build Settings...</font><font size=+1>
to start the </font><font face="Arial,Helvetica">Edit Target</font><font size=+1>
window. See <a href="#Fig10" CLASS="XRef">Figure 10</a>.</font></div>
</ol>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013075"></a><font size=+1>2.
Double-click
<tt>monop</tt> to edit it.</font></div>
</blockquote>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013079"></a><font size=+1>3.
Click the </font><font face="Arial,Helvetica">Build Rules</font><font size=+1>
tab to modify the rules for the build.</font></div>
</blockquote>

<blockquote>
<div CLASS="FigureTitle"><a NAME="pgfId=1013831"></a><a NAME="Fig10"></a><b><font size=+1>Figure
10:&nbsp;
</font></b><i><font size=+1>Modifying how the project builds</font></i></div>
</blockquote>

<ol>
<ol>
<div CLASS="Figure"><a NAME="pgfId=1013288"></a></div>

<p><br><img SRC="int04-8.gif" height=479 width=686></ol>
</ol>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013080"></a><font size=+1>4.
Because <tt>monop</tt> is written in C, double-click the </font><font face="Arial,Helvetica">C</font><font size=+1>
rule in the </font><font face="Arial,Helvetica">File Type</font><font size=+1>
column. The </font><font face="Arial,Helvetica">Build Rules Settings</font><font size=+1>
window appears.</font></div>
</blockquote>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013084"></a><font size=+1>5.
Click the </font><font face="Arial,Helvetica">Defines</font><font size=+1>
tab. Enter <tt>lint</tt> in the text entry box. See <a href="#Fig11" CLASS="XRef">Figure
11</a>.</font></div>
</blockquote>

<blockquote>
<div CLASS="FigureTitle"><a NAME="pgfId=1013836"></a><a NAME="Fig11"></a><font size=+1><b>Figure
11: </b><i>Defining the </i><tt>lint</tt> <i>macro</i></font></div>
</blockquote>

<ol>
<ol>
<div CLASS="Figure"><a NAME="pgfId=1013284"></a></div>

<p><br><img SRC="int04-9.gif" height=289 width=487></ol>
</ol>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013085"></a><font size=+1>6.
Click </font><font face="Arial,Helvetica">New</font><font size=+1> to create
the macro.</font></div>
</blockquote>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013086"></a><font size=+1>7.
Click </font><font face="Arial,Helvetica">OK</font><font size=+1> to close
the </font><font face="Arial,Helvetica">Build Rules Settings</font><font size=+1>
window. Click </font><font face="Arial,Helvetica">OK</font><font size=+1>
to close the </font><font face="Arial,Helvetica">Edit Target</font><font size=+1>
window. Click </font><font face="Arial,Helvetica">Done</font><font size=+1>
to close the </font><font face="Arial,Helvetica">Build Settings</font><font size=+1>
window.</font></div>
</blockquote>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013087"></a><font size=+1>8.
Select </font><font face="Arial,Helvetica">Tools</font><i><font size=+1>
-> </font></i><font face="Arial,Helvetica">Build</font><font size=+1> from
the menu bar and select <tt>monop</tt> from the target list.</font></div>
</blockquote>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013088"></a><font size=+1>9.
<tt>monop</tt>
generates without errors. However, at runtime the program does not run
because we still need to define the path to the cards pack.</font></div>
</blockquote>

<h2 CLASS="Heading3">
<a NAME="pgfId=1013089"></a><a NAME="Create_PATH"></a><i>Creating the</i><tt>
_PATH_CARDS </tt><i>macro</i></h2>

<div CLASS="Body"><a NAME="pgfId=1013843"></a><font size=+1>Now, define
the other macro, <tt>_PATH_CARDS</tt>, to continue making the project work.</font></div>

<ol>
<div CLASS="Numbered"><a NAME="pgfId=1013090"></a><font size=+1>1. Choose
</font><font face="Arial,Helvetica">Tools</font><i><font size=+1>
-> </font></i><font face="Arial,Helvetica">Build Settings...</font><font size=+1>
to start the </font><font face="Arial,Helvetica">Edit Target</font><font size=+1>
window.</font></div>
</ol>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013091"></a><font size=+1>2.
Double-click <tt>monop</tt> to edit it.</font></div>
</blockquote>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013095"></a><font size=+1>3.
Click the </font><font face="Arial,Helvetica">Build Rules</font><font size=+1>
tab to modify the rules for the build. See <a href="#Fig12" CLASS="XRef">Figure
12</a>.</font></div>
</blockquote>

<blockquote>
<div CLASS="FigureTitle"><a NAME="pgfId=1013852"></a><a NAME="Fig12"></a><font size=+1><b>Figure
12: </b><i>Modifying the project’s macros</i></font></div>
</blockquote>

<ol>
<div CLASS="Figure"><a NAME="pgfId=1013283"></a></div>

<p><br><img SRC="int04-10.gif" height=479 width=686></ol>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013096"></a><font size=+1>4.
Because <tt>monop</tt> is written in C, double-click the </font><font face="Arial,Helvetica">C</font><font size=+1>
rule. The </font><font face="Arial,Helvetica">Build Rules Settings</font><font size=+1>window
appears, as in <a href="#Fig13" CLASS="XRef">Figure 13</a>.</font></div>
</blockquote>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013097"></a><font size=+1>5.
Click the </font><font face="Arial,Helvetica">Defines</font><font size=+1>
tab.</font></div>
</blockquote>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013098"></a><font size=+1>6.
Enter the following input in the dialog below the </font><font face="Arial,Helvetica">Macro
defines </font><font size=+1>pane, replacing <i><tt>&lt;project directory></tt></i>
with your path to the <tt>demos\monop</tt> directory:</font></div>

<blockquote>
<pre CLASS="CodeExample2"><a NAME="pgfId=1013102"></a><font size=+1><tt>_PATH_CARDS=</tt> "<tt> \</tt> "<i> <tt>&lt;project directory></tt></i><tt>/cards.pck\</tt> ""</font></pre>
</blockquote>
</blockquote>

<blockquote>
<div CLASS="FigureTitle"><a NAME="pgfId=1013857"></a><a NAME="Fig13"></a><font size=+1><b>Figure
13: </b><i>Re-defining a project’s macro</i></font></div>
</blockquote>

<ol>
<div CLASS="Figure"><a NAME="pgfId=1013282"></a></div>

<p><br><img SRC="int04-11.gif" height=289 width=487>
<div CLASS="BodyListFollow"><a NAME="pgfId=1013106"></a><font size=+1>Now,
GNUPro Toolkit uses an appropriate definition for the card pack macro,
<tt>_PATH_CARDS</tt>,
when running the <tt>monop</tt> program.</font></div>
</ol>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013107"></a><font size=+1>7.
Click </font><font face="Arial,Helvetica">OK</font><font size=+1> to close
the </font><font face="Arial,Helvetica">Build Rules Settings</font><font size=+1>
window. Click </font><font face="Arial,Helvetica">OK</font><font size=+1>
to close the </font><font face="Arial,Helvetica">Edit Target</font><font size=+1>
window. Click </font><font face="Arial,Helvetica">Done</font><font size=+1>
to close the </font><font face="Arial,Helvetica">Build Settings </font><font size=+1>window.</font></div>
</blockquote>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013108"></a><font size=+1>8.
Select </font><font face="Arial,Helvetica">Tools</font><i><font size=+1>
-> </font></i><font face="Arial,Helvetica">Build</font><font size=+1> from
the menu bar and select <tt>monop</tt> from the target list. Click </font><font face="Arial,Helvetica">Start</font><font size=+1>
to perform the build.</font></div>
</blockquote>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013109"></a><font size=+1>9.
<tt>_PATH_CARDS="\"<i>&lt;build
directory></i>/cards.pack\"&nbsp; "</tt>&nbsp; is a macro. To ensure that
this change is picked up at compile time, perform a clean build of the
<tt>monop</tt> target project by selecting </font><font face="Arial,Helvetica">Tools</font><i><font size=+1>-></font></i><font face="Arial,Helvetica">Clean
Build</font><font size=+1> in the </font><font face="Arial,Helvetica">Build</font><font size=+1>
window (see <a href="#Fig14" CLASS="XRef">Figure 14</a>).</font></div>

<div CLASS="NumberedNext"><font size=+1>A clean build is equivalent to
the <tt>make clean</tt> command.</font></div>
</blockquote>

<blockquote>
<div CLASS="FigureTitle"><a NAME="pgfId=1013884"></a><a NAME="Fig14"></a><font size=+1><b>Figure
14: </b><i>Performing a clean build for a project</i></font></div>
</blockquote>

<ol>
<div CLASS="Figure"><a NAME="pgfId=1013281"></a></div>

<p><br><img SRC="int04-12.gif" height=369 width=501></ol>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013113"></a><font size=+1>10.
Click the </font><font face="Arial,Helvetica">Start</font><font size=+1>
button to perform the build.</font></div>
</blockquote>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013117"></a><font size=+1>11.
Now, the <tt>monop</tt> project compiles without errors (see <a href="#Fig15" CLASS="XRef">Figure
15</a>).</font></div>
</blockquote>

<blockquote>
<div CLASS="FigureTitle"><a NAME="pgfId=1013891"></a><a NAME="Fig15"></a><font size=+1><b>Figure
15: </b><i>A clean build of a project</i></font></div>
</blockquote>

<ol>
<div CLASS="Figure"><a NAME="pgfId=1013277"></a></div>

<p><br><img SRC="int04-13.gif" height=549 width=673></ol>

<h2 CLASS="Heading2">
<a NAME="pgfId=1013118"></a><a NAME="41715"></a><a NAME="Building_initdeck"></a><i>Building
the </i><tt>initdeck</tt><i> target</i></h2>

<div CLASS="Body"><a NAME="pgfId=1013119"></a><font size=+1>Next, you need
to create another target to initialize the cards in the monop game.</font></div>

<ol>
<div CLASS="Numbered"><a NAME="pgfId=1013120"></a><font size=+1>1. Choose
</font><font face="Arial,Helvetica">Tools</font><i><font size=+1>
-> </font></i><font face="Arial,Helvetica">Build Settings...</font><font size=+1>
to invoke the </font><font face="Arial,Helvetica">Build Target</font><font size=+1>
window.</font></div>
</ol>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013124"></a><font size=+1>2.
Enter <tt>initdeck</tt> as the name of the target (see <a href="#Fig16" CLASS="XRef">Figure
16</a>).</font></div>
</blockquote>

<blockquote>
<div CLASS="FigureTitle"><a NAME="pgfId=1013898"></a><a NAME="Fig16"></a><font size=+1><b>Figure
16: </b><i>Defining another target for a project</i></font></div>
</blockquote>

<ol>
<div CLASS="Figure"><a NAME="pgfId=1013276"></a></div>

<p><br><img SRC="int04-14.gif" height=278 width=359></ol>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013125"></a><font size=+1>Click
</font><font face="Arial,Helvetica">Create</font><font size=+1>.
The </font><font face="Arial,Helvetica">Edit Target</font><font size=+1>
window appears (see <a href="#Fig17" CLASS="XRef">Figure 17</a>).</font></div>
</blockquote>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013126"></a><font size=+1>In
the </font><font face="Arial,Helvetica">Build Directory</font><font size=+1>
field, click the “...” button and select the <tt>monop</tt> directory.</font></div>
</blockquote>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013127"></a><font size=+1>From
</font><font face="Arial,Helvetica">Source
Files</font><font size=+1>, select the <tt>initdeck.c </tt>file and click
the </font><font face="Arial,Helvetica">Add Files</font><font size=+1>button
to copy the file to the </font><font face="Arial,Helvetica">Target Files</font><font size=+1>
list.</font></div>
</blockquote>

<blockquote>
<div CLASS="FigureTitle"><a NAME="pgfId=1013912"></a><a NAME="Fig17"></a><font size=+1><b>Figure
17: </b><i>Creating a new target for a project</i></font></div>
</blockquote>

<ol>
<div CLASS="Figure"><a NAME="pgfId=1013275"></a></div>

<p><br><img SRC="int04-15.gif" height=479 width=686></ol>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013131"></a><font size=+1>Click
</font><font face="Arial,Helvetica">OK</font><font size=+1>
to close the
</font><font face="Arial,Helvetica">Edit Target</font><font size=+1>
window. Click </font><font face="Arial,Helvetica">Done</font><font size=+1>
to close the </font><font face="Arial,Helvetica">Build Settings</font><font size=+1>window,
having defined and created the new target.</font></div>
</blockquote>

<h2 CLASS="Heading2">
<a NAME="pgfId=1013132"></a><a NAME="33257"></a><a NAME="Debug_initdeck"></a><i>Debugging
the </i><tt>initdeck</tt><i> target</i></h2>

<div CLASS="Body"><a NAME="pgfId=1013133"></a><font size=+1>To ensure that
a project can build with the new target, edit the macro errors that the
debugger finds.</font></div>

<ol>
<div CLASS="Numbered"><a NAME="pgfId=1014151"></a><font size=+1>1. Build
the target by selecting </font><font face="Arial,Helvetica">Tools</font><i><font size=+1>
-> </font></i><font face="Arial,Helvetica">Build</font><font size=+1> from
the menu bar of the </font><font face="Arial,Helvetica">Build</font><font size=+1>
window. Select <tt>initdeck</tt> from the target list, and click </font><font face="Arial,Helvetica">Start</font><font size=+1>.</font></div>
</ol>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013134"></a><font size=+1>2.
<tt>initdeck</tt>
generates with errors. Again, we need to define the <tt>lint</tt> macro
and the path to the cards.</font></div>
</blockquote>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013135"></a><font size=+1>3.
Choose </font><font face="Arial,Helvetica">Tools</font><i><font size=+1>
-> </font></i><font face="Arial,Helvetica">Build Settings...</font><font size=+1>
to start the </font><font face="Arial,Helvetica">Build Settings</font><font size=+1>window.</font></div>
</blockquote>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013136"></a><font size=+1>4.
Double-click <tt>initdeck</tt> to edit it.</font></div>
</blockquote>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013137"></a><font size=+1>5.
Click the </font><font face="Arial,Helvetica">Build Rules</font><font size=+1>
tab. Double-click the </font><font face="Arial,Helvetica">C</font><font size=+1>
rule. The </font><font face="Arial,Helvetica">Build Rules Settings</font><font size=+1>window
appears (see <a href="#Fig19" CLASS="XRef">Figure 19</a>). Click the </font><font face="Arial,Helvetica">Defines</font><font size=+1>
tab. Enter <tt>lint</tt> in the text entry box.</font></div>
</blockquote>

<blockquote>
<div CLASS="FigureTitle"><a NAME="pgfId=1013933"></a><a NAME="30130"></a><font size=+1><b>Figure
18: </b><i>Defining the </i><tt>lint</tt><i> macro for the new target</i></font></div>
</blockquote>

<ol>
<div CLASS="Figure"><a NAME="pgfId=1013274"></a></div>

<p><br><img SRC="int04-16.gif" height=289 width=487></ol>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013141"></a><font size=+1>6.
Click </font><font face="Arial,Helvetica">New</font><font size=+1> to create
the macro. Enter the following input in the dialog below the </font><font face="Arial,Helvetica">Macro
defines</font><font size=+1> pane, replacing <tt>&lt;project directory>
</tt>with
your path to the <tt>demos\monop</tt> directory:</font></div>
</blockquote>

<blockquote>
<pre CLASS="CodeExample2"><a NAME="pgfId=1013146"></a><font size=+1><tt>_PATH_CARDS=</tt> "<tt> \</tt> "<i> &lt;project directory></i><tt>/cards.pck\</tt> ""</font></pre>
</blockquote>

<blockquote>
<div CLASS="FigureTitle"><a NAME="Fig19"></a><font size=+1><b>Figure 19:
</b><i>Defining
the path for the new target</i></font></div>
</blockquote>

<ol>
<div CLASS="Figure"><a NAME="pgfId=1013271"></a></div>

<p><br><img SRC="int04-17.gif" height=289 width=487>
<div CLASS="BodyListFollow"><a NAME="pgfId=1013150"></a><font size=+1>Now,
GNUPro Toolkit uses an appropriate definition for the card pack when running
the <tt>monop</tt> program.</font></div>
</ol>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013151"></a><font size=+1>Click
OK to close the </font><font face="Arial,Helvetica">Build Rules Settings</font><font size=+1>
window. Click </font><font face="Arial,Helvetica">OK</font><font size=+1>
to close the </font><font face="Arial,Helvetica">Edit Target</font><font size=+1>
window. Click </font><font face="Arial,Helvetica">Done</font><font size=+1>
to close the </font><font face="Arial,Helvetica">Build Settings</font><font size=+1>
window, having modified the target for the project.</font></div>
</blockquote>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013152"></a><font size=+1>Open
a shell window and copy the <tt>cards.inp</tt> file in the <tt>demos\monop</tt>directory
into the build directory (see <a href="#Fig20" CLASS="XRef">Figure 20</a>
for an example of the <tt>copy</tt> command in a </font><font face="Arial,Helvetica">Command.com</font><font size=+1>
shell window that a Windows NT developer could use; UNIX users would use
the <tt>cp</tt> command in a shell window).</font></div>
</blockquote>

<blockquote>
<div CLASS="FigureTitle"><a NAME="pgfId=1013972"></a><a NAME="Fig20"></a><font size=+1><b>Figure
20: </b><i>Copying files for the project in a shell window</i></font></div>
</blockquote>

<ol>
<div CLASS="Figure"><a NAME="pgfId=1013270"></a></div>

<p><br><img SRC="int04-18.gif" height=152 width=668></ol>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013156"></a><font size=+1>Select
</font><font face="Arial,Helvetica">Tools</font><i><font size=+1>->
</font></i><font face="Arial,Helvetica">Build</font><font size=+1>
from the menu bar and select <tt>initdeck</tt> from the target list.</font></div>
</blockquote>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013157"></a><font size=+1>To
ensure that the macro changes are picked up at compile time, perform a
clean build of the <tt>initdeck</tt> target by selecting </font><font face="Arial,Helvetica">Tools</font><i><font size=+1>
-> </font></i><font face="Arial,Helvetica">Clean Build</font><font size=+1>
(see <a href="#Fig21">Figure 21</a>).</font></div>
</blockquote>

<blockquote>
<div CLASS="FigureTitle"><a NAME="pgfId=1014000"></a><a NAME="Fig21"></a><font size=+1><b>Figure
21: </b><i>Performing a clean build for the new target for the project</i></font></div>
</blockquote>

<ol>
<div CLASS="Figure"><a NAME="pgfId=1013269"></a></div>

<p><br><img SRC="int04-19.gif" height=360 width=494></ol>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013161"></a><font size=+1>Click
the </font><font face="Arial,Helvetica">Start</font><font size=+1> button
to perform the build.</font></div>
</blockquote>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013162"></a><font size=+1>Now,
<tt>initdeck</tt>
compiles and links without errors. <tt>binitdeck</tt> is the name of the
working executable.</font></div>
</blockquote>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013163"></a><font size=+1>Click
the </font><font face="Arial,Helvetica">Run</font><font size=+1> button
to run <tt>binitdeck</tt> which creates the cards used in the game.</font></div>

<div CLASS="BodyListFollow"><a NAME="pgfId=1013167"></a><font size=+1>A
shell window opens to build the cards (see <a href="#Fig22" CLASS="XRef">Figure
22</a>) and closes after the build is complete.</font></div>
</blockquote>

<blockquote>
<div CLASS="FigureTitle"><a NAME="pgfId=1014012"></a><a NAME="Fig22"></a><font size=+1><b>Figure
22: </b><i>Rebuilding the new target for the project</i></font></div>
</blockquote>

<ol>
<div CLASS="Figure"><a NAME="pgfId=1013266"></a></div>

<p><br><img SRC="int04-20.gif" height=89 width=464></ol>

<blockquote>
<div CLASS="NumberedNext"><a NAME="pgfId=1013168"></a><font size=+1>From
the </font><font face="Arial,Helvetica">Build Targets</font><font size=+1>
field of the </font><font face="Arial,Helvetica">Build</font><font size=+1>
window, select <tt>monop</tt> and click </font><font face="Arial,Helvetica">Run</font><font size=+1>.</font></div>

<div CLASS="BodyListFollow"><a NAME="pgfId=1013255"></a><font size=+1>A
shell window opens and <tt>monop</tt> runs automatically. Enter the number
of players and their names. See <a href="#Fig23">Figure 23</a> for an example
in a shell window of a project that builds and is ready to run.</font></div>

<div CLASS="BodyListFollow"><a NAME="pgfId=1013393"></a><font size=+1>Use
the </font><font face="Arial,Helvetica">?</font><font size=+1><i> </i>key
to get playing options for <tt>monop</tt>. Oh, have fun.</font></div>
</blockquote>

<blockquote>
<div CLASS="FigureTitle"><a NAME="pgfId=1014017"></a><a NAME="Fig23"></a><font size=+1><b>Figure
23: </b><i>A built project that's ready to run</i></font></div>
</blockquote>

<ol>
<div CLASS="Figure"><a NAME="pgfId=1013262"></a></div>

<p><br><img SRC="int04-21.gif" height=222 width=651></ol>

<div CLASS="BodyListFollow"><a NAME="pgfId=1007999"></a></div>

<hr SIZE=5 WIDTH="100%">
<center><a href="#Top">Top</a>|<a href="emb.html">Contents</a>|<a href="embindex.html">Index</a>|<a href="embThe_linker_script.html">Previous</a>|<a href="embIO_support_code.html">Next</a></center>

</body>
</html>
