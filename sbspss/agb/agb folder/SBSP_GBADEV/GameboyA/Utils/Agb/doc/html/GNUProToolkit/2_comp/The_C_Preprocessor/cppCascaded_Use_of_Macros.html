<HTML>
<HEAD>
   <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
   <META NAME="GENERATOR" CONTENT="Mozilla/4.04 [en] (Win95; I) [Netscape]">
   <TITLE>Cascaded Use of Macros</TITLE>
</HEAD>
<BODY>
<A NAME="Top"></A><A HREF="cpp.html">Contents</A>|<A HREF="cppindex.html">Index</A>|<A HREF="cppSeparate_Expansion_of_Macro_Argu.html">Previous</A>|<A HREF="cppNewlines_in_Macro_Arguments.html">Next</A>
<BR><A NAME="off_624235"></A><A NAME="e1f77c9a"></A><A NAME="off_624235"></A><A NAME="e1f77c9a"></A><FONT FACE="Futura Md BT"><FONT COLOR="#000000"><B><FONT SIZE=+3>Cascaded
use of macros</FONT></B>&nbsp;&nbsp;</FONT></FONT>
<HR SIZE=6 WIDTH="100%">
<BR><FONT FACE="Times New Roman"><FONT COLOR="#000000"><FONT SIZE=+1>A
cascade of macros is when one macro’s body contains a reference to another
macro. This is very common practice, as in the following example.</FONT></FONT></FONT>
<UL>
<PRE><FONT FACE="Courier New"><FONT SIZE=+1>#define BUFSIZE 1020&nbsp;
#define TABLESIZE BUFSIZE</FONT></FONT></PRE>
</UL>
<FONT COLOR="#000000"><FONT FACE="Times New Roman"><FONT SIZE=+1>This is
not at all the same as defining </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>TABLESIZE</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
to be </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>1020</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.
The </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>#define</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
for </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>TABLESIZE</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
uses exactly the body you specify—in this case, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>BUFSIZE</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
—and does not check to see whether it too is the name of a macro.</FONT></FONT></FONT>

<P><FONT COLOR="#000000"><FONT FACE="Times New Roman"><FONT SIZE=+1>It’s
only when you use </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>TABLESIZE</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
that the result of its expansion is checked for more macro names. This
makes a difference if you change the definition of </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>BUFSIZE</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
at some point in the source file. </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>TABLESIZE</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
defined as in the following example, will always expand using the definition
of </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>BUFSIZE</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
that is currently in effect.</FONT></FONT></FONT>
<UL>
<PRE><FONT FACE="Courier New"><FONT SIZE=+1>#define BUFSIZE 1020&nbsp;
#define TABLESIZE BUFSIZE&nbsp;
#undef BUFSIZE #define BUFSIZE 37</FONT></FONT></PRE>
</UL>
<FONT COLOR="#000000"><FONT FACE="Times New Roman"><FONT SIZE=+1>Now </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>TABLESIZE</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
expands (in two stages) to </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>37</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.
(The #</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>undef</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
is to prevent any warning about the nontrivial redefinition of </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>BUFSIZE</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.)</FONT></FONT></FONT>
<BR>
<HR SIZE=3 WIDTH="100%">
<CENTER><A HREF="#Top">Top</A>|<A HREF="cpp.html">Contents</A>|<A HREF="cppindex.html">Index</A>|<A HREF="cppSeparate_Expansion_of_Macro_Argu.html">Previous</A>|<A HREF="cppNewlines_in_Macro_Arguments.html">Next</A></CENTER>

</BODY>
</HTML>
