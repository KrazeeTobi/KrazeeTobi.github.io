<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
   <TITLE>atof, atoff[string to double or float]</TITLE>
   <META NAME="GENERATOR" CONTENT="Mozilla/3.01Gold (Win95; I) [Netscape]">
</HEAD>
<BODY>

<P><A HREF="libc.html">Contents</A>|<A HREF="libcindex.html">Index</A>|<A HREF="libcatexitrequest_execution_of_funct.html">Previous</A>|<A HREF="libcatoi_atolstring_to_integer.html">Next</A>
</P>

<P><A NAME="off_133390"></A><A NAME="91df4b04"></A><A NAME="off_133390"></A><A NAME="91df4b04"></A><A NAME="off_133390"></A><A NAME="91df4b04"></A><FONT SIZE=+3><FONT FACE="Courier New">atof</FONT><FONT FACE="Times New Roman">,
</FONT><FONT FACE="Courier New">atoff <BR>
</FONT><FONT FACE="Times New Roman">[string to double or float] </FONT></FONT></P>

<P><B><FONT FACE="Times New Roman"><FONT SIZE=+1>SYNOPSIS <BR>
</FONT></FONT></B><FONT FACE="Courier New"><FONT SIZE=+0>#include</FONT><FONT SIZE=-1>
</FONT><FONT SIZE=+0>&lt;stdlib.h&gt;</FONT><FONT SIZE=-1> <BR>
</FONT><FONT SIZE=+0>double</FONT><FONT SIZE=-1> </FONT><FONT SIZE=+0>atof(const</FONT><FONT SIZE=-1>
</FONT><FONT SIZE=+0>char</FONT><FONT SIZE=-1> </FONT><FONT SIZE=+0>*<I>s</I>);</FONT><FONT SIZE=-1>
<BR>
</FONT><FONT SIZE=+0>float</FONT><FONT SIZE=-1> </FONT><FONT SIZE=+0>atoff(const</FONT><FONT SIZE=-1>
</FONT><FONT SIZE=+0>char</FONT><FONT SIZE=-1> </FONT><FONT SIZE=+0>*<I>s</I>);
</FONT></FONT></P>

<P><B><FONT FACE="Times New Roman"><FONT SIZE=+1>DESCRIPTION <BR>
</FONT></FONT></B><FONT FACE="Courier New"><FONT SIZE=+0>atof</FONT></FONT><FONT SIZE=+1><FONT FACE="Courier">
</FONT><FONT FACE="Times New Roman">converts the initial portion of a string
to a </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>double</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>Atoff</FONT></FONT><FONT SIZE=+1><FONT FACE="Courier">
</FONT><FONT FACE="Times New Roman">converts the initial portion of a string
to a </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>float</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.
</FONT></FONT></P>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>The functions parse the character
string </FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>s</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>,
locating a substring which can be converted to a floating point value.
The substring must match the following format. </FONT></FONT></P>

<P><FONT FACE="Courier New"><FONT SIZE=+0>&nbsp;&nbsp;&nbsp;[+|-]</FONT><FONT SIZE=-1>
</FONT><FONT SIZE=+0><I>digits</I>[.][</FONT><FONT SIZE=-1> </FONT><FONT SIZE=+0><I>digits</I>][(e|E)[+|-]</FONT><FONT SIZE=-1>
</FONT><FONT SIZE=+0><I>digits</I>] </FONT></FONT></P>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>The substring converted is
the longest initial fragment of </FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>s</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>
that has the expected format, beginning with the first non-whitespace character.
The substring is empty if </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>str</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
is empty, consists entirely of whitespace, or if the first non-whitespace
character is something other than </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>+</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>.</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
or a digit. </FONT></FONT></P>

<P><FONT FACE="Courier New"><FONT SIZE=+0>Atof(<I>s</I>)</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
is implemented as </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>strtod(<I>s</I>,</FONT><FONT SIZE=-1>
</FONT><FONT SIZE=+0>NULL)</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>Atoff(<I>s</I>)</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
is implemented as </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>strtodf(<I>s</I>,</FONT><FONT SIZE=-1>
</FONT><FONT SIZE=+0>NULL)</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.
</FONT></FONT></P>

<P><B><FONT FACE="Times New Roman"><FONT SIZE=+1>RETURNS <BR>
</FONT></FONT></B><FONT FACE="Courier New"><FONT SIZE=+0>atof</FONT></FONT><FONT SIZE=+1><FONT FACE="Courier">
</FONT><FONT FACE="Times New Roman">returns the converted substring value,
if any, as a </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>double</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>;
or </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>0.0</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
if no conversion could be performed. If the correct value is out of the
range of representative values, plus or minus </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>HUGE_VAL</FONT></FONT><FONT SIZE=+1><FONT FACE="Courier">
</FONT><FONT FACE="Times New Roman">is returned, and </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>ERANGE</FONT></FONT><FONT SIZE=+1><FONT FACE="Courier">
</FONT><FONT FACE="Times New Roman">is stored in </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>errno</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.
If the correct value would cause underflow, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>0.0</FONT></FONT><FONT SIZE=+1><FONT FACE="Courier">
</FONT><FONT FACE="Times New Roman">is returned and </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>ERANGE</FONT></FONT><FONT SIZE=+1><FONT FACE="Courier">
</FONT><FONT FACE="Times New Roman">is stored in </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>errno</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.
</FONT></FONT></P>

<P><FONT FACE="Courier New"><FONT SIZE=+0>Atoff</FONT></FONT><FONT SIZE=+1><FONT FACE="Courier">
</FONT><FONT FACE="Times New Roman">obeys the same rules as </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>atof</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
except that it returns a </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>float</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.
</FONT></FONT></P>

<P><B><FONT FACE="Times New Roman"><FONT SIZE=+1>COMPLIANCE <BR>
</FONT></FONT></B><FONT FACE="Courier New"><FONT SIZE=+0>atof</FONT></FONT><FONT SIZE=+1><FONT FACE="Courier">
</FONT><FONT FACE="Times New Roman">is ANSI C. </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>atof</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>atoi</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
and </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>atol</FONT></FONT><FONT SIZE=+1><FONT FACE="Courier">
</FONT><FONT FACE="Times New Roman">are subsumed by </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>strod</FONT></FONT><FONT SIZE=+1><FONT FACE="Courier">
</FONT><FONT FACE="Times New Roman">and </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>strol</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
but are used extensively in existing code. These functions are less reliable,
but may be faster if the argument is verified to be in a valid range. </FONT></FONT></P>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>Supporting OS subroutines
required: </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>close</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>fstat</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>isatty</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>lseek</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>read</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>sbrk</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>write</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.
</FONT></FONT></P>

</BODY>
</HTML>
