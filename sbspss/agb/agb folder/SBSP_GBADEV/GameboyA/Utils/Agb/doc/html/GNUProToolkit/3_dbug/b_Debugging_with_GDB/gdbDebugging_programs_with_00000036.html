<HTML>
<HEAD>
   <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
   <META NAME="GENERATOR" CONTENT="Mozilla/4.04 [en] (Win95; I) [Netscape]">
   <TITLE>Debugging programs with multiple processes</TITLE>
</HEAD>
<BODY>
<A NAME="Top"></A><A HREF="gdb.html">Contents</A>|<A HREF="gdbindex.html">Index</A>|<A HREF="gdbDebugging_programs_with_00000035.html">Previous</A>|<A HREF="gdbStopping_and_Continuing.html">Next</A>
<BR><A NAME="off_721941"></A><A NAME="756fccc4"></A><B><FONT FACE="Futura Md BT"><FONT COLOR="#000000"><FONT SIZE=+3>Debugging
programs with multiple processes&nbsp;</FONT></FONT></FONT></B>
<HR SIZE=3 WIDTH="100%">
<BR><FONT FACE="Times New Roman"><FONT SIZE=+1>GDB has no special support
for debugging programs which create additional processes using the </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>fork</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
function. When a program forks, GDB will continue to debug the parent process
and the child process will run unimpeded. If you have set a breakpoint
in any code which the child then executes, the child will get a </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>SIGTRAP</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
signal which (unless it catches the signal) will cause it to terminate.</FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>However, if you want to debug
the child process there is a workaround which isn’t too painful. Put a
call to </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>sleep</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
in the code which the child process executes after the fork. It may be
useful to sleep only if a certain environment variable is set, or a certain
file exists, so that the delay need not occur when you don’t want to run
GDB on the child. While the child is sleeping, use the </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>ps</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
program to get its process ID. Then tell GDB (a new invocation of GDB if
you are also debugging the parent process) to attach to the child process
(see </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>attach</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
with <FONT COLOR="#008000"><A HREF="gdbDebugging_an_alreadyrunning_proc.html">Debugging
an already-running process</A></FONT>). From that point on you can debug
the child process just like any other process to which you attached.</FONT></FONT>
<BR>
<HR SIZE=3 WIDTH="100%">
<CENTER><A HREF="#Top">Top</A>|<A HREF="gdb.html">Contents</A>|<A HREF="gdbindex.html">Index</A>|<A HREF="gdbDebugging_programs_with_00000035.html">Previous</A>|<A HREF="gdbStopping_and_Continuing.html">Next</A></CENTER>

</BODY>
</HTML>
