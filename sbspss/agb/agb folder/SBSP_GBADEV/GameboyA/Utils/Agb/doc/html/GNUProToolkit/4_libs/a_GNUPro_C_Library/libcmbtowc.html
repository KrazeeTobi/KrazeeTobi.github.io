<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="Author" content="Frederick Geers">
   <meta name="GENERATOR" content="Mozilla/4.51 [en] (Win95; I) [Netscape]">
   <title>mbtowc [minimal multibyte to wide char converter]</title>
</head>
<body>
<a href="../../../libc.html">Contents</a>|<a href="../../../libcindex.html">Index</a>|<a href="libcmbstowcs.html">Previous</a>|<a href="libcqsortsort_an_array.html">Next</a>
<p><a NAME="libcmbtowc"></a><font face="Courier New"><font size=+3>mbtowc</font></font>
<br><font face="Times New Roman"><font size=+3>[minimal multibyte to wide
char converter]</font></font>
<p><b><font face="Times New Roman"><font size=+1>SYNOPSIS</font></font></b>
<br><font face="Courier New"><font size=+0>#include&lt;stdlib.h></font></font>
<br><font face="Courier New"><font size=+0>int mbtowc(wchar_t *<i>pwc</i>,
const char *<i>s</i>, size_t <i>n</i>);</font></font>
<p><b><font face="Times New Roman"><font size=+1>DESCRIPTION</font></font></b>
<br><font size=+1><font face="Times New Roman">When </font><font face="Courier New,Courier">MB_CAPABLE</font><font face="Times New Roman">
is not defined, this is a minimal ANSI-conforming implementation of </font></font><font face="Courier New"><font size=+0>mbtowc</font></font><font size=+1><font face="Times New Roman">.
In this case, only <i>multibyte character sequences </i>recognized are
single bytes, and they are <i>converted</i> to themselves. Each call to
mbtowc copies one character from </font><font face="Courier New,Courier">*<i>s</i></font><font face="Times New Roman">
to </font><font face="Courier New,Courier">*<i>pwc</i></font><font face="Times New Roman">,
unless </font><i><font face="Courier New,Courier">s</font></i><font face="Times New Roman">
is a null pointer. The argument, </font><i><font face="Courier New,Courier">n</font></i><font face="Times New Roman">,
is ignored.</font></font><font face="Times New Roman"><font size=+1></font></font>
<p><font size=+1><font face="Times New Roman">When </font><font face="Courier New,Courier">MB_CAPABLE</font><font face="Times New Roman">
is defined, this routine calls </font><font face="Courier New,Courier">_mbtowc_r</font><font face="Times New Roman">
to perform the conversion, passing a state variable to allow state dependent
decoding. The result is based on the locale setting which may be restricted
to a defined set of locales.The only <i>multibyte character sequences</i>
recognized are single bytes, and they are <i>converted</i> to themselves.</font></font>
<p><b><font face="Times New Roman"><font size=+1>RETURNS</font></font></b>
<br><font size=+1><font face="Times New Roman">This implementation of </font><font face="Courier New,Courier">mbtowc</font><font face="Times New Roman">
returns 0 if </font><i><font face="Courier New,Courier">s</font></i><font face="Times New Roman">
is NULL or is the empty string; it returns </font><font face="Courier New,Courier">1</font><font face="Times New Roman">
if not </font><font face="Courier New,Courier">MB_CAPABLE</font><font face="Times New Roman">
or the character is a single-byte character; it returns </font><font face="Courier New,Courier">-1</font><font face="Times New Roman">
if </font><i><font face="Courier New,Courier">n</font></i><font face="Times New Roman">
is 0 or the multibyte character is invalid; otherwise, it returns the number
of bytes in the multibyte character. If the return value is </font><font face="Courier New,Courier">-1</font><font face="Times New Roman">,
no changes are made to the </font><i><font face="Courier New,Courier">pwc</font></i><font face="Times New Roman">
output string. If the input is the empty string, a </font><font face="Courier New,Courier">wchar_t
nul</font><font face="Times New Roman"> is placed in the output string
and 0 is returned. If the input has a length of </font><font face="Courier New,Courier">0</font><font face="Times New Roman">,
no changes are made to the </font><i><font face="Courier New,Courier">pwc</font></i><font face="Times New Roman">
output string.</font></font>
<p><b><font face="Times New Roman"><font size=+1>COMPLIANCE</font></font></b>
<br><font size=+1><font face="Courier New,Courier">mbtowc</font> is required
in the ANSI C standard. However, the precise effects vary with the locale.</font><font size=+1></font>
<p><font size=+1><font face="Courier New,Courier">mbtowc</font> requires
no supporting OS subroutines.</font>
</body>
</html>
