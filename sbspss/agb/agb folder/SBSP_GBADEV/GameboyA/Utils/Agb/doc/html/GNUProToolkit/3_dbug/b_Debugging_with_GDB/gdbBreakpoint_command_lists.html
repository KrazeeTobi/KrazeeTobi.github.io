<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.51 [en] (Win95; I) [Netscape]">
   <title>Breakpoint command lists</title>
</head>
<body>
<a NAME="Top"></a><a href="gdb.html">Contents</a>|<a href="gdbindex.html">Index</a>|<a href="gdbBreak_conditions.html">Previous</a>|<a href="gdbBreakpoint_menus.html">Next</a>
<br><a NAME="off_951920"></a><a NAME="1e6fc19f"></a><b><font face="Futura Md BT"><font color="#000000"><font size=+3>Breakpoint
command lists</font></font></font></b>
<br>
<hr SIZE=3 WIDTH="100%"><font face="Times New Roman"><font size=+1>You
can give any breakpoint (or watchpoint or catchpoint) a series of commands
to execute when your program stops due to that breakpoint. For instance,
you might want to print the values of certain expressions, or enable other
breakpoints, using a declaration like the following example and its accompanying
description shows.</font></font>
<ul><font face="Courier New"><font size=+0>commands [<i>bnum</i>]</font></font>
<br><font face="Courier New"><font size=+0>...<i>command-list</i>...</font></font>
<br><font face="Courier New"><font size=+0>end</font></font>
<ul><font face="Times New Roman"><font size=+1>Specify a list of commands
for breakpoint number, </font></font><i><font face="Courier New"><font size=+0>bnum</font></font></i><font face="Times New Roman"><font size=+1>.
The commands themselves appear on the following lines.</font></font>
<br><font face="Times New Roman"><font size=+1>Type a line containing just
</font></font><font face="Courier New"><font size=+0>end</font></font><font face="Times New Roman"><font size=+1>
to terminate the commands. To remove all commands from a breakpoint, type
</font></font><font face="Courier New"><font size=+0>commands</font></font><font face="Times New Roman"><font size=+1>
and follow it immediately with </font></font><font face="Courier New"><font size=+0>end</font></font><font face="Times New Roman"><font size=+1>;
that is, give no commands.</font></font>
<br><font face="Times New Roman"><font size=+1>With no </font></font><i><font face="Courier New"><font size=+0>bnum</font></font></i><font face="Times New Roman"><font size=+1>
argument, </font></font><font face="Courier New"><font size=+0>commands</font></font><font face="Times New Roman"><font size=+1>
refers to the last breakpoint, watchpoint or catchpoint set (not to the
breakpoint most recently encountered).</font></font>
<br><font face="Times New Roman"><font size=+1>Using </font></font><font face="Arial">Return</font><font face="Times New Roman"><font size=+1>
as a means of repeating the last GDB command is disabled within a </font></font><i><font face="Courier New"><font size=+0>command-list</font></font></i><font face="Times New Roman"><font size=+1>.</font></font>
<br><font face="Times New Roman"><font size=+1>You can use breakpoint commands
to start your program up again.</font></font>
<br><font face="Times New Roman"><font size=+1>Simply use the </font></font><font face="Courier New"><font size=+0>continue</font></font><font face="Times New Roman"><font size=+1>
command, or </font></font><font face="Courier New"><font size=+0>step</font></font><font face="Times New Roman"><font size=+1>,
or any other command that resumes execution.</font></font>
<br><font face="Times New Roman"><font size=+1>Any other commands in the
command list are ignored, after a command that resumes execution. This
is because any time you resume execution (even with a simple </font></font><font face="Courier New"><font size=+0>next</font></font><font face="Times New Roman"><font size=+1>
or </font></font><font face="Courier New"><font size=+0>step</font></font><font face="Times New Roman"><font size=+1>),
you may encounter another breakpoint—which could have its own command list,
leading to ambiguities about which list to execute.</font></font>
<br><font face="Times New Roman"><font size=+1>If the first command you
specify in a command list is </font></font><font face="Courier New"><font size=+0>silent</font></font><font face="Times New Roman"><font size=+1>,
the usual message about stopping at a breakpoint is not printed. This may
be desirable for breakpoints that are to print a specific message and then
continue.</font></font>
<br><font face="Times New Roman"><font size=+1>If none of the remaining
commands print anything, you see no sign that the breakpoint was reached.</font></font>
<br><font face="Courier New"><font size=+0>silent</font></font><font face="Times New Roman"><font size=+1>
is meaningful only at the beginning of a breakpoint command list.</font></font>
<br><font face="Times New Roman"><font size=+1>The commands </font></font><font face="Courier New"><font size=+0>echo</font></font><font face="Times New Roman"><font size=+1>,
</font></font><font face="Courier New"><font size=+0>output</font></font><font face="Times New Roman"><font size=+1>,
and </font></font><font face="Courier New"><font size=+0>printf</font></font><font face="Times New Roman"><font size=+1>
allow you to print precisely controlled output, and are often useful in
silent breakpoints.</font></font>
<br><font face="Times New Roman"><font size=+1>See <font color="#008000"><a href="gdbCommands_for_controlled_output.html">Commands
for controlled output</a></font>.</font></font>
<br><font face="Times New Roman"><font size=+1>For example, the following
shows how to use breakpoint commands to print the value of </font></font><font face="Courier New"><font size=+0>x</font></font><font face="Times New Roman"><font size=+1>
at entry to </font></font><font face="Courier New"><font size=+0>foo</font></font><font face="Times New Roman"><font size=+1>
whenever </font></font><font face="Courier New"><font size=+0>x</font></font><font face="Times New Roman"><font size=+1>
is positive.</font></font>
<br>&nbsp;
<ul><font face="Courier New"><font size=+0>break foo if x>0</font></font>
<br><font face="Courier New"><font size=+0>commands</font></font>
<br><font face="Courier New"><font size=+0>silent</font></font>
<br><font face="Courier New"><font size=+0>printf "x is %d\n",x</font></font>
<br><font face="Courier New"><font size=+0>cont</font></font>
<br><font face="Courier New"><font size=+0>end</font></font></ul>
<font face="Times New Roman"><font size=+1>One application for breakpoint
commands is to compensate for one bug so you can test for another. Put
a breakpoint just after the erroneous line of code, give it a condition
to detect the case in which something erroneous has been done, and give
it commands to assign correct values to any variables that need them. End
with the </font></font><font face="Courier New"><font size=+0>continue</font></font><font face="Times New Roman"><font size=+1>
command so that your program does not stop, and start with the </font></font><font face="Courier New"><font size=+0>silent</font></font><font face="Times New Roman"><font size=+1>
command so that no output is produced. The following is an example.</font></font></ul>

<ul>
<ul><font face="Courier New"><font size=+0>break 403</font></font>
<br><font face="Courier New"><font size=+0>commands</font></font>
<br><font face="Courier New"><font size=+0>silent</font></font>
<br><font face="Courier New"><font size=+0>setx=y +4</font></font>
<br><font face="Courier New"><font size=+0>cont</font></font>
<br><font face="Courier New"><font size=+0>end</font></font></ul>
</ul>
</ul>

<hr SIZE=3 WIDTH="100%">
<center><a href="#Top">Top</a>|<a href="gdb.html">Contents</a>|<a href="gdbindex.html">Index</a>|<a href="gdbBreak_conditions.html">Previous</a>|<a href="gdbBreakpoint_menus.html">Next</a></center>

</body>
</html>
