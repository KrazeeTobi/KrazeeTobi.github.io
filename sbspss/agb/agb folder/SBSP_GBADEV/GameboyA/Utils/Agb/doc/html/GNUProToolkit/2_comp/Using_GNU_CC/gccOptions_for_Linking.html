<HTML>
<HEAD>
   <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
   <META NAME="GENERATOR" CONTENT="Mozilla/4.04 [en] (Win95; I) [Netscape]">
   <TITLE>Options for Linking</TITLE>
</HEAD>
<BODY>
<A NAME="Top"></A><A HREF="gcc.html">Contents</A>|<A HREF="gccindex.html">Index</A>|<A HREF="gccPassing_Options_to_the_Assembler.html">Previous</A>|<A HREF="gccOptions_for_Directory_Search.html">Next</A>
<BR><FONT FACE="Futura Md BT"><FONT COLOR="#000000">&nbsp;<A NAME="off_1278530"></A><A NAME="c66f2a9f"></A><B><FONT SIZE=+3>Options
for linking&nbsp;</FONT></B>&nbsp;</FONT></FONT>&nbsp;
<HR SIZE=6 WIDTH="100%">
<BR><FONT FACE="Times New Roman"><FONT SIZE=+1>The following options come
into play when the compiler links object files into an executable output
file. They are meaningless if the compiler is not doing a link step.</FONT></FONT>
<UL>
<DT>
<I><FONT FACE="Courier New"><FONT SIZE=+0>object-file-name</FONT></FONT></I></DT>

<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>A filename that does not
end in a special recognized suffix is considered to name an object file
or library. (Object files are distinguished from libraries by the linker
according to the file contents.) If linking is done, these object files
are used as input to the linker.</FONT></FONT>
<BR>&nbsp;</UL>

<DT>
<FONT FACE="Courier New"><FONT SIZE=+0>-c</FONT></FONT></DT>

<DT>
<FONT FACE="Courier New"><FONT SIZE=+0>-S</FONT></FONT></DT>

<DT>
<FONT FACE="Courier New"><FONT SIZE=+0>-E</FONT></FONT></DT>

<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>If any of these options
is used, then the linker is not run, and object filenames should not be
used as arguments. See <A HREF="gccOptions_Controlling_the_Kind_of_.html">Options
controlling the kind of output</A>.</FONT></FONT>
<BR>&nbsp;</UL>

<DT>
<FONT FACE="Courier New"><FONT SIZE=+0>-l<I>library</I></FONT></FONT></DT>

<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Search the library named
</FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>library</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>
when linking.</FONT></FONT>
<DT>
<FONT FACE="Times New Roman"><FONT SIZE=+1>It makes a difference where
in the command you write this option; the linker searches processes libraries
and object files in the order they are specified. Thus, ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>foo.o
-lz bar.o</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’ searches
library ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>z</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
after file ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>foo.o</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
but before ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>bar.o</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’.
If ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>bar.o</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
refers to functions in ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>z</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’,
those functions may not be loaded.</FONT></FONT></DT>

<DT>
<FONT FACE="Times New Roman"><FONT SIZE=+1>The linker searches a standard
list of directories for the library, which is actually a file named </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>lib<I>library</I>.a</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.
The linker then uses this file as if it had been specified precisely by
name.</FONT></FONT></DT>

<DT>
<FONT FACE="Times New Roman"><FONT SIZE=+1>The directories searched include
several standard system directories plus any that you specify with ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-L</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’.</FONT></FONT></DT>

<DT>
<FONT FACE="Times New Roman"><FONT SIZE=+1>Normally the files found this
way are library files—archive files whose members are object files. The
linker handles an archive file by scanning through it for members which
define symbols that have so far been referenced but not defined. But if
the file that is found is an ordinary object file, it is linked in the
usual fashion.</FONT></FONT></DT>

<DT>
<FONT FACE="Times New Roman"><FONT SIZE=+1>The only difference between
using an ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-l</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
option and specifying a filename is that ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-l</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
surrounds library with ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>lib</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
and ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>.a</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
and searches several directories.</FONT></FONT></DT>

<BR>&nbsp;</UL>

<DT>
<FONT FACE="Courier New"><FONT SIZE=+0>-lobjc</FONT></FONT></DT>

<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>You need this special case
of the ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-l</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
option in order to link an Objective C program.</FONT></FONT>
<BR>&nbsp;</UL>

<DT>
<FONT FACE="Courier New"><FONT SIZE=+0>-nostartfiles</FONT></FONT></DT>

<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Do not use the standard
system startup files when linking. The standard system libraries are used
normally, unless </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-nostdlib</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
or </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-nodefaultlibs</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
is used.</FONT></FONT>
<BR>&nbsp;</UL>

<DT>
<FONT FACE="Courier New"><FONT SIZE=+0>-nodefaultlibs</FONT></FONT></DT>

<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Do not use the standard
system libraries when linking. Only the libraries you specify will be passed
to the linker. The standard startup files are used normally, unless ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-nostartfiles</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
is used.</FONT></FONT>
<BR>&nbsp;</UL>

<DT>
<FONT FACE="Courier New"><FONT SIZE=+0>-nostdlib</FONT></FONT></DT>

<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Do not use the standard
system startup files or libraries when linking. No startup files and only
the libraries you specify will be passed to the linker.</FONT></FONT>
<BR><FONT FACE="Times New Roman"><FONT SIZE=+1>One of the standard libraries
bypassed by ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-nostdlib</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
and</FONT></FONT>
<BR><FONT FACE="Times New Roman"><FONT SIZE=+1>‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-nodefaultlibs</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
is ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>libgcc.a</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’,
a library of internal subroutines that GNU CC uses to overcome shortcomings
of particular machines, or special needs for some languages. (See the discussions
in <A HREF="gccBuilding_and_Installing_a_CrossC.html">Building and installing
a cross-compiler</A>; also, see </FONT></FONT><A HREF="gcclibgcca_and_CrossCompilers.html"><FONT FACE="Courier New">libgcc.a</FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
and cross-compilers</FONT></FONT></A><FONT FACE="Times New Roman"><FONT SIZE=+1>
for more discussion of </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>libgcc.a</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.)</FONT></FONT>
<BR><FONT FACE="Times New Roman"><FONT SIZE=+1>In most cases, you need
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>libgcc.a</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
even when you want to avoid other standard libraries. In other words, when
you specify </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-nostdlib</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
or ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-nodefaultlibs</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
you should usually specify ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-lgcc</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
as well. This ensures that you have no unresolved references to internal
GNU CC library subroutines. (For example, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>__main</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
used to ensure C++ constructors will be called; see </FONT></FONT><FONT FACE="Courier New"><A HREF="gcccollect2.html">collect2</A></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.)</FONT></FONT>
<BR>&nbsp;</UL>

<DT>
<FONT FACE="Courier New"><FONT SIZE=+0>-s</FONT></FONT></DT>

<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Remove all symbol table
and relocation information from the executable.</FONT></FONT>
<BR>&nbsp;</UL>

<DT>
<FONT FACE="Courier New"><FONT SIZE=+0>-static</FONT></FONT></DT>

<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>On systems that support
dynamic linking, this prevents linking with the shared libraries. On other
systems, this option has no effect.</FONT></FONT>
<BR>&nbsp;</UL>

<DT>
<FONT FACE="Courier New"><FONT SIZE=+0>-shared</FONT></FONT></DT>

<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Produce a shared object
which can then be linked with other objects to form an executable. Not
all systems support this option. You must also specify ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-fpic</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
or ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-fPIC</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
on some systems when you specify this option.</FONT></FONT>
<BR>&nbsp;</UL>

<DT>
<FONT FACE="Courier New"><FONT SIZE=+0>-symbolic</FONT></FONT></DT>

<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Bind references to global
symbols when building a shared object. Warn about any unresolved references
(unless overridden by the link editor option ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-Xlinker
-z -Xlinker defs</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’).
Only a few systems support this option.</FONT></FONT>
<BR>&nbsp;</UL>

<DT>
<FONT FACE="Courier New"><FONT SIZE=+0>-Xlinker</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
</FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>option</FONT></FONT></I></DT>

<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Pass </FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>option</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>
as an option to the linker. You can use this to supply system-specific
linker options which GNU CC does not know how to recognize. If you want
to pass an option that takes an argument, you must use</FONT></FONT> <FONT FACE="Courier New"><FONT SIZE=+0>-Xlinker</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
twice, once for the option and once for the argument. For example, to pass
‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-assert definitions</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’,
you must write ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-Xlinker
-assert -Xlinker definitions</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’.</FONT></FONT>
<DT>
<FONT FACE="Times New Roman"><FONT SIZE=+1>It does not work to write ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-Xlinker
"-assert definitions"</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
because this passes the entire string as a single argument, which is not
what the linker expects.</FONT></FONT></DT>
</UL>

<DT>
<FONT FACE="Courier New"><FONT SIZE=+0>-Wl, op<I>t</I>ion</FONT></FONT></DT>

<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Pass </FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>option</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>
as an option to the linker. If </FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>option</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>
contains commas, it is split into multiple options at the commas.</FONT></FONT>
<BR>&nbsp;</UL>

<DT>
<FONT FACE="Courier New"><FONT SIZE=+0>-u <I>symbol</I></FONT></FONT></DT>

<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Pretend the symbol </FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>symbol</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>
is undefined, to force linking of library modules to define it. You can
use ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-u</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
multiple times with different symbols to force loading of additional library
modules.</FONT></FONT></UL>
</UL>

<HR SIZE=3 WIDTH="100%">
<CENTER><A HREF="#Top">Top</A>|<A HREF="gcc.html">Contents</A>|<A HREF="gccindex.html">Index</A>|<A HREF="gccPassing_Options_to_the_Assembler.html">Previous</A>|<A HREF="gccOptions_for_Directory_Search.html">Next</A></CENTER>

</BODY>
</HTML>
