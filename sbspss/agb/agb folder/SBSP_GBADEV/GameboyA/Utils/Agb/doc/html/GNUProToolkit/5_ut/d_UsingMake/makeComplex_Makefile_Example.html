<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.51 [en] (Win95; I) [Netscape]">
   <title>Complex Makefile Example</title>
</head>
<body>
<a NAME="Top"></a><a href="make.html">Contents</a>|<a href="makeindex.html">Index</a>|<a href="makeQuick_Reference.html">Previous</a>|<a href="makeindex.html#Top">Next</a>
<br><a NAME="off_2917370"></a><a NAME="4e9d853c"></a><b><font face="Futura Md BT"><font size=+3>Complex
makefile example</font></font></b>
<br>
<hr SIZE=3 WIDTH="100%"><font face="Times New Roman"><font size=+1>The
following is the makefile for the GNU </font></font><b><font face="Courier New"><font size=+0>tar</font></font></b><font face="Times New Roman"><font size=+1>
program. This is a moderately complex makefile.</font></font>
<p><font face="Times New Roman"><font size=+1>Because it is the first target,
the default goal is ‘</font></font><font face="Courier New"><font size=+0>all</font></font><font face="Times New Roman"><font size=+1>’.
An interesting feature of this makefile is that ‘</font></font><font face="Courier New"><font size=+0>testpad.h</font></font><font face="Times New Roman"><font size=+1>’
is a source file automatically created by the testpad program, itself compiled
from ‘</font></font><font face="Courier New"><font size=+0>testpad.c</font></font><font face="Times New Roman"><font size=+1>’.</font></font>
<p><font face="Times New Roman"><font size=+1>If you type ‘</font></font><font face="Courier New"><font size=+0>make</font></font><font face="Times New Roman"><font size=+1>’
or ‘</font></font><font face="Courier New"><font size=+0>make all</font></font><font face="Times New Roman"><font size=+1>’,
then </font></font><b><font face="Courier New"><font size=+0>make</font></font></b><font face="Times New Roman"><font size=+1>
creates the ‘</font></font><b><font face="Courier New"><font size=+0>tar</font></font></b><font face="Times New Roman"><font size=+1>’
executable, the ‘</font></font><b><font face="Courier New"><font size=+0>rmt</font></font></b><font face="Times New Roman"><font size=+1>’
daemon that provides remote tape access, and the ‘</font></font><b><font face="Courier New"><font size=+0>tar.info</font></font></b><font face="Times New Roman"><font size=+1>’
Info file.</font></font>
<p><font face="Times New Roman"><font size=+1>If you type ‘</font></font><font face="Courier New"><font size=+0>make
install</font></font><font face="Times New Roman"><font size=+1>’, then
</font></font><b><font face="Courier New"><font size=+0>make</font></font></b><font face="Times New Roman"><font size=+1>
not only creates ‘</font></font><b><font face="Courier New"><font size=+0>tar</font></font></b><font face="Times New Roman"><font size=+1>’,
‘</font></font><b><font face="Courier New"><font size=+0>rmt</font></font></b><font face="Times New Roman"><font size=+1>’,
and ‘</font></font><b><font face="Courier New"><font size=+0>tar.info</font></font></b><font face="Times New Roman"><font size=+1>’,
but also installs them.</font></font>
<p><font face="Times New Roman"><font size=+1>If you type ‘</font></font><font face="Courier New"><font size=+0>make
clean</font></font><font face="Times New Roman"><font size=+1>’, then </font></font><b><font face="Courier New"><font size=+0>make</font></font></b><font face="Times New Roman"><font size=+1>
removes the ‘</font></font><b><font face="Courier New"><font size=+0>.o</font></font></b><font face="Times New Roman"><font size=+1>’
files, and the ‘</font></font><b><font face="Courier New"><font size=+0>tar</font></font></b><font face="Times New Roman"><font size=+1>’,
‘</font></font><b><font face="Courier New"><font size=+0>rmt</font></font></b><font face="Times New Roman"><font size=+1>’,
‘</font></font><b><font face="Courier New"><font size=+0>testpad</font></font></b><font face="Times New Roman"><font size=+1>’,
‘</font></font><b><font face="Courier New"><font size=+0>testpad.h</font></font></b><font face="Times New Roman"><font size=+1>’,
and ‘</font></font><b><font face="Courier New"><font size=+0>core</font></font></b><font face="Times New Roman"><font size=+1>’
files.</font></font>
<p><font face="Times New Roman"><font size=+1>If you type ‘</font></font><font face="Courier New"><font size=+0>make
distclean</font></font><font face="Times New Roman"><font size=+1>’, then
</font></font><b><font face="Courier New"><font size=+0>make</font></font></b><font face="Times New Roman"><font size=+1>
not only removes the same files as does ‘</font></font><font face="Courier New"><font size=+0>make
clean</font></font><font face="Times New Roman"><font size=+1>’ but also
the ‘</font></font><b><font face="Courier New"><font size=+0>TAGS</font></font></b><font face="Times New Roman"><font size=+1>’,
‘</font></font><b><font face="Courier New"><font size=+0>Makefile</font></font></b><font face="Times New Roman"><font size=+1>’,
and ‘</font></font><b><font face="Courier New"><font size=+0>config.status</font></font></b><font face="Times New Roman"><font size=+1>’
files. (Although it is not evident, this makefile (and ‘</font></font><b><font face="Courier New"><font size=+0>config.status</font></font></b><font face="Times New Roman"><font size=+1>’)
is generated by the user with the </font></font><font face="Courier New"><font size=+0>configure</font></font><font face="Times New Roman"><font size=+1>
program which is provided in the </font></font><b><font face="Courier New"><font size=+0>tar</font></font></b><font face="Times New Roman"><font size=+1>
distribution; not shown here.)</font></font>
<p><font face="Times New Roman"><font size=+1>If you type ‘</font></font><font face="Courier New"><font size=+0>make
realclean</font></font><font face="Times New Roman"><font size=+1>’, then
</font></font><b><font face="Courier New"><font size=+0>make</font></font></b><font face="Times New Roman"><font size=+1>
removes the same files as does ‘</font></font><font face="Courier New"><font size=+0>make
distclean</font></font><font face="Times New Roman"><font size=+1>’ and
also removes the Info files generated from ‘</font></font><b><font face="Courier New"><font size=+0>tar.texinfo</font></font></b><font face="Times New Roman"><font size=+1>’.</font></font>
<p><font face="Times New Roman"><font size=+1>In addition, there are targets
</font></font><b><font face="Courier New"><font size=+0>shar</font></font></b><font face="Times New Roman"><font size=+1>
and </font></font><b><font face="Courier New"><font size=+0>dist</font></font></b><font face="Times New Roman"><font size=+1>
that create distribution kits.</font></font>
<br>&nbsp;
<ul>
<ul><b><font face="Courier New"><font size=+0># Generated automatically
from Makefile.in by configure.</font></font></b>
<br><b><font face="Courier New"><font size=+0># Un*x Makefile for GNU tar
program.</font></font></b>
<br><b><font face="Courier New"><font size=+0># Copyright (C) 1991 Free
Software Foundation, Inc.</font></font></b>
<p><b><font face="Courier New"><font size=+0># This program is free software;
you can redistribute</font></font></b>
<br><b><font face="Courier New"><font size=+0># it and/or modify it under
the terms of the GNU</font></font></b>
<br><b><font face="Courier New"><font size=+0># General Public License...</font></font></b>
<br><b><font face="Courier New"><font size=+0>...</font></font></b>
<br><b><font face="Courier New"><font size=+0>...</font></font></b>
<br><b><font face="Courier New"><font size=+0>SHELL = /bin/sh</font></font></b>
<p><b><font face="Courier New"><font size=+0>#### Start of system configuration
section. ####</font></font></b>
<p><b><font face="Courier New"><font size=+0>srcdir = .</font></font></b>
<br>&nbsp;
<p><b><font face="Courier New"><font size=+0># If you use gcc, you should
either run the</font></font></b>
<br><b><font face="Courier New"><font size=+0># fixincludes script that
comes with it or else use</font></font></b>
<br><b><font face="Courier New"><font size=+0># gcc with the -traditional
option. Otherwise ioctl</font></font></b>
<br><b><font face="Courier New"><font size=+0># calls will be compiled
incorrectly on some systems.</font></font></b>
<br><b><font face="Courier New"><font size=+0>CC = gcc -O</font></font></b>
<br><b><font face="Courier New"><font size=+0>YACC = bison -y</font></font></b>
<br><b><font face="Courier New"><font size=+0>INSTALL = /usr/local/bin/install
-c</font></font></b>
<br><b><font face="Courier New"><font size=+0>INSTALLDATA = /usr/local/bin/install
-c -m 644</font></font></b>
<p><b><font face="Courier New"><font size=+0># Things you might add to
DEFS:</font></font></b>
<br>&nbsp;
<p><font face="Courier New"><font size=+0><b># -DSTDC_HEADERS</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<b>If you have ANSI C headers and</b></font></font>
<br><font face="Courier New"><font size=+0><b>#</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<b>libraries.</b></font></font>
<br><font face="Courier New"><font size=+0><b># -DPOSIX</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<b>If you have POSIX.1 headers and</b></font></font>
<br><font face="Courier New"><font size=+0><b>#</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<b>libraries.</b></font></font>
<br><font face="Courier New"><font size=+0><b># -DBSD42</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<b>If you have sys/dir.h (unless</b></font></font>
<br><font face="Courier New"><font size=+0><b>#</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<b>you use -DPOSIX), sys/file.h,</b></font></font>
<br><font size=+0><font face="Courier New"><b>#</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<b>and st_blocks in </b></font><b><font face="Times New Roman">‘</font><font face="Courier New">struct
stat</font><font face="Times New Roman">’</font><font face="Courier New">.</font></b></font>
<br><font face="Courier New"><font size=+0><b># -DUSG</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<b>If you have System V/ANSI C</b></font></font>
<br><font face="Courier New"><font size=+0><b>#</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<b>string and memory functions</b></font></font>
<br><font face="Courier New"><font size=+0><b>#</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<b>and headers, sys/sysmacros.h,</b></font></font>
<br><font face="Courier New"><font size=+0><b>#</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<b>fcntl.h, getcwd, no valloc,</b></font></font>
<br><font face="Courier New"><font size=+0><b>#</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<b>and ndir.h (unless</b></font></font>
<br><font face="Courier New"><font size=+0><b>#</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<b>you use -DDIRENT).</b></font></font>
<br><font face="Courier New"><font size=+0><b># -DNO_MEMORY_H</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<b>If USG or STDC_HEADERS but do not</b></font></font>
<br><font face="Courier New"><font size=+0><b>#</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<b>include memory.h.</b></font></font>
<br><font face="Courier New"><font size=+0><b># -DDIRENT</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<b>If USG and you have dirent.h</b></font></font>
<br><font face="Courier New"><font size=+0><b>#</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<b>instead of ndir.h.</b></font></font>
<br><font face="Courier New"><font size=+0><b># -DSIGTYPE=int</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<b>If your signal handlers</b></font></font>
<br><font face="Courier New"><font size=+0><b>#</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<b>return int, not void.</b></font></font>
<br><font face="Courier New"><font size=+0><b># -DNO_MTIO</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<b>If you lack sys/mtio.h</b></font></font>
<br><font face="Courier New"><font size=+0><b>#</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<b>(magtape ioctls).</b></font></font>
<br><font face="Courier New"><font size=+0><b># -DNO_REMOTE</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<b>If you do not have a remote shell</b></font></font>
<br><font face="Courier New"><font size=+0><b>#</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<b>or rexec.</b></font></font>
<br><font face="Courier New"><font size=+0><b># -DUSE_REXEC</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<b>To use rexec for remote tape</b></font></font>
<br><font face="Courier New"><font size=+0><b>#</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<b>operations instead of</b></font></font>
<br><font face="Courier New"><font size=+0><b>#</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<b>forking rsh or remsh.</b></font></font>
<br><b><font face="Courier New"><font size=+0># -DVPRINTF_MISSING&nbsp;&nbsp;&nbsp;&nbsp;
If you lack vprintf function</font></font></b>
<br><font face="Courier New"><font size=+0><b>#</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<b>(but have _doprnt).</b></font></font>
<br><font face="Courier New"><font size=+0><b># -DDOPRNT_MISSING</b>&nbsp;&nbsp;&nbsp;&nbsp;

<b>If you lack _doprnt function.</b></font></font>
<br><font face="Courier New"><font size=+0><b>#</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<b>Also need to define</b></font></font>
<br><font face="Courier New"><font size=+0><b>#</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<b>-DVPRINTF_MISSING.</b></font></font>
<br><font face="Courier New"><font size=+0><b># -DFTIME_MISSING</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<b>If you lack ftime system call.</b></font></font>
<br><font face="Courier New"><font size=+0><b># -DSTRSTR_MISSING</b>&nbsp;&nbsp;&nbsp;&nbsp;

<b>If you lack strstr function.</b></font></font>
<br><font face="Courier New"><font size=+0><b># -DVALLOC_MISSING</b>&nbsp;&nbsp;&nbsp;&nbsp;

<b>If you lack valloc function.</b></font></font>
<br><font face="Courier New"><font size=+0><b># -DMKDIR_MISSING</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<b>If you lack mkdir and</b></font></font>
<br><font face="Courier New"><font size=+0><b>#</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<b>rmdir system calls.</b></font></font>
<br><font face="Courier New"><font size=+0><b># -DRENAME_MISSING</b>&nbsp;&nbsp;&nbsp;&nbsp;

<b>If you lack rename system call.</b></font></font>
<br><b><font face="Courier New"><font size=+0># -DFTRUNCATE_MISSING&nbsp;&nbsp;
If you lack ftruncate</font></font></b>
<br><font face="Courier New"><font size=+0><b>#</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<b>system call.</b></font></font>
<br><font face="Courier New"><font size=+0><b># -DV7</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<b>On Version 7 Unix (not</b></font></font>
<br><font face="Courier New"><font size=+0><b>#</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<b>tested in a long time).</b></font></font>
<br><font face="Courier New"><font size=+0><b># -DEMUL_OPEN3</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<b>If you lack a 3-argument version</b></font></font>
<br><font face="Courier New"><font size=+0><b>#</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<b>of open, and want to emulate it</b></font></font>
<br><font face="Courier New"><font size=+0><b>#</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<b>with system calls you do have.</b></font></font>
<p><b><font face="Courier New"><font size=+0># -DNO_OPEN3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
If you lack the 3-argument open</font></font></b>
<br><b><font face="Courier New"><font size=+0>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
and want to disable the tar -k</font></font></b>
<br><b><font face="Courier New"><font size=+0>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
option instead of emulating open.</font></font></b>
<br><b><font face="Courier New"><font size=+0># -DXENIX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
If you have sys/inode.h</font></font></b>
<br><b><font face="Courier New"><font size=+0>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
and need it 94 to be included.</font></font></b>
<br><b><font face="Courier New"><font size=+0>DEFS = -DSIGTYPE=int -DDIRENT
-DSTRSTR_MISSING \</font></font></b>
<br><b><font face="Courier New"><font size=+0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
-DVPRINTF_MISSING -DBSD42</font></font></b>
<br><b><font face="Courier New"><font size=+0># Set this to rtapelib.o
unless you defined NO_REMOTE,</font></font></b>
<br><b><font face="Courier New"><font size=+0># in which case make it empty.</font></font></b>
<br><b><font face="Courier New"><font size=+0>RTAPELIB = rtapelib.o</font></font></b>
<br><b><font face="Courier New"><font size=+0>LIBS =</font></font></b>
<br><b><font face="Courier New"><font size=+0>DEF_AR_FILE = /dev/rmt8</font></font></b>
<br><b><font face="Courier New"><font size=+0>DEFBLOCKING = 20</font></font></b>
<p><b><font face="Courier New"><font size=+0>CDEBUG = -g</font></font></b>
<br><b><font face="Courier New"><font size=+0>CFLAGS = $(CDEBUG) -I. -I$(srcdir)
$(DEFS) \</font></font></b>
<br><b><font size=+0><font face="Courier New">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
-DDEF_AR_FILE=\ </font><font face="Times New Roman">“</font><font face="Courier New">$(DEF_AR_FILE)\</font><font face="Times New Roman">”</font><font face="Courier New">
\</font></font></b>
<br><b><font face="Courier New"><font size=+0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
-DDEFBLOCKING=$(DEFBLOCKING)</font></font></b>
<br><b><font face="Courier New"><font size=+0>LDFLAGS = -g</font></font></b>
<p><b><font face="Courier New"><font size=+0>prefix = /usr/local</font></font></b>
<br><b><font face="Courier New"><font size=+0># Prefix for each installed
program,</font></font></b>
<br><b><font size=+0><font face="Courier New"># normally empty or </font><font face="Times New Roman">‘</font><font face="Courier New">g</font><font face="Times New Roman">’</font><font face="Courier New">.</font></font></b>
<br><b><font face="Courier New"><font size=+0>binprefix =</font></font></b>
<p><b><font face="Courier New"><font size=+0># The directory to install
tar in.</font></font></b>
<br><b><font face="Courier New"><font size=+0>bindir = $(prefix)/bin</font></font></b>
<p><b><font face="Courier New"><font size=+0># The directory to install
the info files in.</font></font></b>
<br><b><font face="Courier New"><font size=+0>infodir = $(prefix)/info</font></font></b>
<p><b><font face="Courier New"><font size=+0>#### End of system configuration
section. ####</font></font></b>
<p><b><font face="Courier New"><font size=+0>SRC1 = tar.c create.c extract.c
buffer.c \</font></font></b>
<br><b><font face="Courier New"><font size=+0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
getoldopt.c update.c gnu.c mangle.c</font></font></b>
<br><b><font face="Courier New"><font size=+0>SRC2 = version.c list.c names.c
diffarch.c \</font></font></b>
<br><b><font face="Courier New"><font size=+0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
port.c wildmat.c getopt.c</font></font></b>
<br><b><font face="Courier New"><font size=+0>SRC3 = getopt1.c regex.c
getdate.y</font></font></b>
<br><b><font face="Courier New"><font size=+0>SRCS = $(SRC1) $(SRC2) $(SRC3)</font></font></b>
<br><b><font face="Courier New"><font size=+0>OBJ1 = tar.o create.o extract.o
buffer.o \</font></font></b>
<br><b><font face="Courier New"><font size=+0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
getoldopt.o update.o gnu.o mangle.o</font></font></b>
<br><b><font face="Courier New"><font size=+0>OBJ2 = version.o list.o names.o
diffarch.o \</font></font></b>
<br><b><font face="Courier New"><font size=+0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
port.o wildmat.o getopt.o</font></font></b>
<br><b><font face="Courier New"><font size=+0>OBJ3 = getopt1.o regex.o
getdate.o $(RTAPELIB)</font></font></b>
<br><b><font face="Courier New"><font size=+0>OBJS = $(OBJ1) $(OBJ2) $(OBJ3)</font></font></b>
<br><b><font face="Courier New"><font size=+0>AUX = README COPYING ChangeLog
Makefile.in \</font></font></b>
<br><b><font face="Courier New"><font size=+0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
makefile.pc configure configure.in \</font></font></b>
<br><b><font face="Courier New"><font size=+0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
tar.texinfo tar.info* texinfo.tex \</font></font></b>
<br><b><font face="Courier New"><font size=+0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
tar.h port.h open3.h getopt.h regex.h \</font></font></b>
<br><b><font face="Courier New"><font size=+0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
rmt.h rmt.c rtapelib.c alloca.c \</font></font></b>
<br><b><font face="Courier New"><font size=+0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
msd_dir.h msd_dir.c tcexparg.c \</font></font></b>
<br><b><font face="Courier New"><font size=+0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
level-0 level-1 backup-specs testpad.c</font></font></b>
<p><b><font face="Courier New"><font size=+0>all:&nbsp;&nbsp; tar rmt tar.info</font></font></b>
<p><b><font face="Courier New"><font size=+0>tar:&nbsp;&nbsp; $(OBJS)</font></font></b>
<br><b><font face="Courier New"><font size=+0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
$(CC) $(LDFLAGS) -o $@ $(OBJS) $(LIBS)</font></font></b>
<p><b><font face="Courier New"><font size=+0>rmt:&nbsp;&nbsp;&nbsp; rmt.c</font></font></b>
<br><b><font face="Courier New"><font size=+0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
$(CC) $(CFLAGS) $(LDFLAGS) -o $@ rmt.c</font></font></b>
<br><b><font face="Courier New"><font size=+0>tar.info: tar.texinfo</font></font></b>
<br><b><font face="Courier New"><font size=+0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
makeinfo tar.texinfo</font></font></b>
<p><b><font face="Courier New"><font size=+0>install: all</font></font></b>
<br><b><font face="Courier New"><font size=+0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
$(INSTALL) tar $(bindir)/$(binprefix)tar</font></font></b>
<br><b><font face="Courier New"><font size=+0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
-test ! -f rmt || $(INSTALL) rmt /etc/rmt</font></font></b>
<br><b><font face="Courier New"><font size=+0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
$(INSTALLDATA) $(srcdir)/tar.info* $(infodir)</font></font></b>
<p><b><font face="Courier New"><font size=+0>$(OBJS): tar.h port.h testpad.h</font></font></b>
<br><b><font face="Courier New"><font size=+0>regex.o buffer.o tar.o: regex.h</font></font></b>
<br><b><font face="Courier New"><font size=+0># getdate.y has 8 shift/reduce
conflicts.</font></font></b>
<p><b><font face="Courier New"><font size=+0>testpad.h: testpad</font></font></b>
<br><b><font face="Courier New"><font size=+0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
./testpad</font></font></b>
<p><b><font face="Courier New"><font size=+0>testpad: testpad.o</font></font></b>
<br><b><font face="Courier New"><font size=+0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
$(CC) -o $@ testpad.o</font></font></b>
<p><b><font face="Courier New"><font size=+0>TAGS: $(SRCS)</font></font></b>
<br><b><font face="Courier New"><font size=+0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
etags $(SRCS)</font></font></b>
<p><b><font face="Courier New"><font size=+0>clean:</font></font></b>
<br><b><font face="Courier New"><font size=+0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
rm -f *.o tar rmt testpad testpad.h core</font></font></b>
<p><b><font face="Courier New"><font size=+0>distclean: clean</font></font></b>
<br><b><font face="Courier New"><font size=+0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
rm -f TAGS Makefile config.status</font></font></b>
<br><b><font face="Courier New"><font size=+0>realclean: distclean</font></font></b>
<br><b><font face="Courier New"><font size=+0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
rm -f tar.info*</font></font></b>
<br><b><font face="Courier New"><font size=+0>shar: $(SRCS) $(AUX)</font></font></b>
<br><b><font face="Courier New"><font size=+0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
shar $(SRCS) $(AUX) | compress \</font></font></b>
<br><b><font size=+0><font face="Courier New">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
> tar-</font><font face="Times New Roman">‘</font><font face="Courier New">sed
-e </font><font face="Times New Roman">’</font><font face="Courier New">/version_string/!d</font><font face="Times New Roman">’</font><font face="Courier New">
\</font></font></b>
<br><b><font size=+0><font face="Courier New">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
-e </font><font face="Times New Roman">’</font><font face="Courier New">s/[ˆ0-9.]*\([0-9.]*\).*/\1/</font><font face="Times New Roman">’</font><font face="Courier New">
\</font></font></b>
<br><b><font face="Courier New"><font size=+0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
-e q</font></font></b>
<br><b><font size=+0><font face="Courier New">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
version.c</font><font face="Times New Roman">‘</font><font face="Courier New">.shar.Z</font></font></b>
<br><b><font face="Courier New"><font size=+0>dist: $(SRCS) $(AUX)</font></font></b>
<br><b><font size=+0><font face="Courier New">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
echo tar-</font><font face="Times New Roman">‘</font><font face="Courier New">sed
\</font></font></b>
<br><b><font size=+0><font face="Courier New">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
-e </font><font face="Times New Roman">’</font><font face="Courier New">/version_string/!d</font><font face="Times New Roman">’</font><font face="Courier New">
\</font></font></b>
<br><b><font size=+0><font face="Courier New">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
-e </font><font face="Times New Roman">’</font><font face="Courier New">s/[ˆ0-9.]*\([0-9.]*\).*/\1/</font><font face="Times New Roman">’</font><font face="Courier New">
\</font></font></b>
<br><b><font face="Courier New"><font size=+0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
-e q</font></font></b>
<br><b><font size=+0><font face="Courier New">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
version.c</font><font face="Times New Roman">‘</font><font face="Courier New">
> .fname</font></font></b>
<br><b><font size=+0><font face="Courier New">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
-rm -rf </font><font face="Times New Roman">‘</font><font face="Courier New">cat
.fname</font><font face="Times New Roman">‘</font></font></b>
<br><b><font size=+0><font face="Courier New">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mkdir </font><font face="Times New Roman">‘</font><font face="Courier New">cat
.fname</font><font face="Times New Roman">‘</font></font></b>
<br><b><font size=+0><font face="Courier New">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
ln $(SRCS) $(AUX) </font><font face="Times New Roman">‘</font><font face="Courier New">cat
.fname</font><font face="Times New Roman">‘</font></font></b>
<br><b><font size=+0><font face="Courier New">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
-rm -rf </font><font face="Times New Roman">‘</font><font face="Courier New">cat
.fname</font><font face="Times New Roman">‘</font><font face="Courier New">
.fname</font></font></b>
<br><b><font size=+0><font face="Courier New">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
tar chZf </font><font face="Times New Roman">‘</font><font face="Courier New">cat
.fname</font><font face="Times New Roman">‘</font><font face="Courier New">.tar.Z
</font><font face="Times New Roman">‘</font><font face="Courier New">cat
.fname</font><font face="Times New Roman">‘</font></font></b>
<br><b><font face="Courier New"><font size=+0>tar.zoo: $(SRCS) $(AUX)</font></font></b>
<br><b><font face="Courier New"><font size=+0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
-rm -rf tmp.dir</font></font></b>
<br><b><font face="Courier New"><font size=+0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
-mkdir tmp.dir</font></font></b>
<br><b><font face="Courier New"><font size=+0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
-rm tar.zoo</font></font></b>
<br><b><font face="Courier New"><font size=+0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
for X in $(SRCS) $(AUX) ; do \</font></font></b>
<br><b><font face="Courier New"><font size=+0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
echo $$X ; \</font></font></b>
<br><b><font size=+0><font face="Courier New">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
sed </font><font face="Times New Roman">’</font><font face="Courier New">s/$$/ˆM/</font><font face="Times New Roman">’</font><font face="Courier New">
$$X \</font></font></b>
<br><b><font face="Courier New"><font size=+0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
> tmp.dir/$$X ; done</font></font></b>
<br><b><font face="Courier New"><font size=+0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
cd tmp.dir ; zoo aM ../tar.zoo *</font></font></b>
<br><b><font face="Courier New"><font size=+0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
-rm -rf tmp.dir</font></font></b></ul>
</ul>

<center>
<hr SIZE=3 WIDTH="100%">
<br><a href="#Top">Top</a>|<a href="make.html">Contents</a>|<a href="makeindex.html">Index</a>|<a href="makeQuick_Reference.html">Previous</a>|<a href="makeindex.html#Top">Next</a></center>

<br>&nbsp;
</body>
</html>
