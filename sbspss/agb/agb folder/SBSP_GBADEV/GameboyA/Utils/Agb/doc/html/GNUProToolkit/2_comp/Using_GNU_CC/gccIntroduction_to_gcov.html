<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.51 [en] (Win95; I) [Netscape]">
   <title>Introduction to gcov</title>
</head>
<body>
<a NAME="Top"></a><a href="gcc.html">Contents</a>|<a href="gccindex.html">Index</a>|<a href="gccgcov_a_Test_Coverage_Program.html">Previous</a>|<a href="gccInvoking_gcov.html">Next</a>
<br><a NAME="off_4554752"></a><a NAME="509e4788"></a><font color="#000000"><b><font size=+3><font face="Futura Md BT">Introduction
to </font><font face="Courier New">gcov</font><font face="Futura Md BT">
test coverage</font></font></b><font face="Futura Md BT">&nbsp;</font></font>
<hr SIZE=6 WIDTH="100%">
<br><font face="Courier New"><font size=+0>gcov</font></font><font face="Times New Roman"><font size=+1>
is a test coverage program. Use it in concert with GNU CC to analyze your
programs to help create more efficient, faster running code. You can use
</font></font><font face="Courier New"><font size=+0>gcov</font></font><font face="Times New Roman"><font size=+1>
as a profiling tool, to help discover where your optimization efforts will
best affect your code. You can also use </font></font><font face="Courier New"><font size=+0>gcov</font></font><font face="Times New Roman"><font size=+1>
in concert with the other profiling tool, </font></font><font face="Courier New"><font size=+0>gprof</font></font><font face="Times New Roman"><font size=+1>,
to assess which parts of your code use the greatest amount of computing
time.</font></font>
<p><font face="Times New Roman"><font size=+1>Profiling tools help you
analyze your code’s performance. Using a profiler, such as </font></font><font face="Courier New"><font size=+0>gcov</font></font><font face="Times New Roman"><font size=+1>
or </font></font><font face="Courier New"><font size=+0>gprof</font></font><font face="Times New Roman"><font size=+1>,
you can find out some of the following basic performance statistics.</font></font>
<ul TYPE=SQUARE>
<li>
<font face="Times New Roman"><font size=+1>how often each line of code
executes</font></font></li>

<li>
<font face="Times New Roman"><font size=+1>what lines of code are actually
executed</font></font></li>

<li>
<font face="Times New Roman"><font size=+1>how much computing time each
section of code uses</font></font></li>
</ul>
<font face="Times New Roman"><font size=+1>Once you know these things about
how your code works when compiled, you can look at each module to see which
modules should be optimized. </font></font><font face="Courier New"><font size=+0>gcov</font></font><font face="Times New Roman"><font size=+1>
helps you determine where to work on optimization.</font></font>
<p><font face="Times New Roman"><font size=+1>Software developers also
use coverage testing in concert with testsuites, to make sure software
is actually good enough for a release. Testsuites can verify that a program
works as expected; a coverage program tests to see how much of the program
is exercised by the testsuite. Developers can then determine what kinds
of test cases need to be added to the testsuites to create both better
testing and a better final product.</font></font>
<p><font face="Times New Roman"><font size=+1>You should compile your code
without optimization if you plan to use </font></font><font face="Courier New"><font size=+0>gcov</font></font><font face="Times New Roman"><font size=+1>,
because the optimization, by combining some lines of code into one function,
may not give you as much information as you need to look for <i>hot spots</i>,
where the code is using a great deal of computer time. Likewise, because
</font></font><font face="Courier New"><font size=+0>gcov</font></font><font face="Times New Roman"><font size=+1>
accumulates statistics by line (at the lowest resolution), it works best
with a programming style that places only one statement on each line.</font></font>
<p><font face="Times New Roman"><font size=+1>If you use complicated macros
that expand to loops or to other control structures, the statistics are
less helpful—they only report on the line where the macro call appears.
If your complex macros behave like functions, you can replace them with
inline functions to solve this problem.</font></font>
<p><font face="Courier New"><font size=+0>gcov</font></font><font face="Times New Roman"><font size=+1>
creates a logfile called ‘</font></font><font face="Courier New"><font size=+0><i>sourcefile</i>.gcov</font></font><font face="Times New Roman"><font size=+1>’
which indicates how many times each line of a source file, ‘</font></font><font face="Courier New"><font size=+0><i>sourcefile</i>.c</font></font><font face="Times New Roman"><font size=+1>’,
has executed. You can use these logfiles in conjunction with </font></font><font face="Courier New"><font size=+0>gprof
</font></font><font face="Times New Roman"><font size=+1>to
aid in fine-tuning the performance of your programs. </font></font><font face="Courier New"><font size=+0>gprof</font></font><font face="Times New Roman"><font size=+1>
gives timing information you can use along with the information you get
from </font></font><font face="Courier New"><font size=+0>gcov</font></font><font face="Times New Roman"><font size=+1>.</font></font>
<p><font face="Courier New"><font size=+0>gcov</font></font><font face="Times New Roman"><font size=+1>
works only on code compiled with GNU CC; it is not compatible with any
other profiling or test coverage mechanism.</font></font>
<p><font face="Times New Roman"><font size=+1>See also <a href="gccInvoking_gcov.html">Invoking
</a></font></font><b><font face="Courier New"><font size=+0><a href="gccInvoking_gcov.html">gcov</a></font></font></b><font face="Times New Roman"><font size=+1>,
<a href="gccUsing_gcov_with_GCC_Optimization.html">Using
</a></font></font><a href="gccUsing_gcov_with_GCC_Optimization.html"><b><font face="Courier New"><font size=+0>gcov</font></font></b><font face="Times New Roman"><font size=+1>
with GCC optimization</font></font></a><font face="Times New Roman"><font size=+1>
and <a href="gccBrief_description_of_gcov_data_f.html">Brief description
of </a></font></font><a href="gccBrief_description_of_gcov_data_f.html"><b><font face="Courier New"><font size=+0>gcov</font></font></b><font face="Times New Roman"><font size=+1>
data files</font></font></a><font face="Times New Roman"><font size=+1>.</font></font>
<center>
<hr SIZE=3 WIDTH="100%">
<br><a href="#Top">Top</a>|<a href="gcc.html">Contents</a>|<a href="gccindex.html">Index</a>|<a href="gccgcov_a_Test_Coverage_Program.html">Previous</a>|<a href="gccInvoking_gcov.html">Next</a></center>

</body>
</html>
