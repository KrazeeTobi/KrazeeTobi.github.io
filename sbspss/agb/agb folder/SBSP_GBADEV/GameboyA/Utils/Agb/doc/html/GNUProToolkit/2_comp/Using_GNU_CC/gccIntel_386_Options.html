<HTML>
<HEAD>
   <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
   <META NAME="GENERATOR" CONTENT="Mozilla/4.04 [en] (Win95; I) [Netscape]">
   <TITLE>Intel 386 Options</TITLE>
</HEAD>
<BODY>
<A NAME="Top"></A><A HREF="gcc.html">Contents</A>|<A HREF="gccindex.html">Index</A>|<A HREF="gccIBM_RT_Options.html">Previous</A>|<A HREF="gccIntel_960_Options.html">Next</A>
<BR><FONT FACE="Futura Md BT"><FONT COLOR="#000000">&nbsp;<A NAME="off_1934691"></A><A NAME="e169a2b5"></A><B><FONT SIZE=+3>Intel
386 options&nbsp;</FONT></B>&nbsp;</FONT></FONT>&nbsp;
<HR SIZE=6 WIDTH="100%">
<BR><FONT FACE="Times New Roman"><FONT SIZE=+1>The following ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-m</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
options are defined for Intel’s i386 family of computers.</FONT></FONT>
<UL>
<DT>
<FONT FACE="Courier New"><FONT SIZE=+0>-mcpu=<I>cpu type</I></FONT></FONT></DT>

<DL>
<DL><FONT FACE="Times New Roman,Times"><FONT SIZE=+1>Assume the defaults
for the machine type cpu type when scheduling instructions. The choices
for </FONT></FONT><I><FONT FACE="Courier New,Courier">cpu type</FONT></I><FONT FACE="Times New Roman,Times"><FONT SIZE=+1>
are: </FONT></FONT><FONT FACE="Courier New,Courier">i386</FONT><FONT FACE="Times New Roman,Times"><FONT SIZE=+1>,
</FONT></FONT><FONT FACE="Courier New,Courier">i486</FONT><FONT FACE="Times New Roman,Times"><FONT SIZE=+1>,
</FONT></FONT><FONT FACE="Courier New,Courier">i586</FONT><FONT FACE="Times New Roman,Times"><FONT SIZE=+1>
(</FONT></FONT><FONT FACE="Courier New,Courier">pentium</FONT><FONT FACE="Times New Roman,Times"><FONT SIZE=+1>),
</FONT></FONT><FONT FACE="Courier New,Courier">pentium</FONT><FONT FACE="Times New Roman,Times"><FONT SIZE=+1>,
</FONT></FONT><FONT FACE="Courier New,Courier">i686</FONT><FONT FACE="Times New Roman,Times"><FONT SIZE=+1>
(</FONT></FONT><FONT FACE="Courier New,Courier">pentiumpro</FONT><FONT FACE="Times New Roman,Times"><FONT SIZE=+1>)
and </FONT></FONT><FONT FACE="Courier New,Courier">pentiumpro</FONT><FONT FACE="Times New Roman,Times"><FONT SIZE=+1>.
While picking a specific CPU type will schedule things appropriately for
that particular chip, the compiler will not generate any code that does
not run on the i386 without the </FONT></FONT><FONT FACE="Courier New,Courier">-march=<I>cpu
type</I></FONT><FONT FACE="Times New Roman,Times"><FONT SIZE=+1> option
being used.</FONT></FONT></DL>
&nbsp;
<DT>
<FONT FACE="Courier New,Courier">-march=<I>cpu type</I></FONT></DT>

<DL><FONT FACE="Times New Roman,Times"><FONT SIZE=+1>Generate instructions
for the machine type </FONT></FONT><I><FONT FACE="Courier New,Courier">cpu
type</FONT></I><FONT FACE="Times New Roman,Times"><FONT SIZE=+1>. The choices
for </FONT></FONT><I><FONT FACE="Courier New,Courier">cpu type</FONT></I>
<BR><FONT FACE="Times New Roman,Times"><FONT SIZE=+1>are: </FONT></FONT><FONT FACE="Courier New,Courier">i386</FONT><FONT FACE="Times New Roman,Times"><FONT SIZE=+1>,
</FONT></FONT><FONT FACE="Courier New,Courier">i486</FONT><FONT FACE="Times New Roman,Times"><FONT SIZE=+1>,
</FONT></FONT><FONT FACE="Courier New,Courier">pentium</FONT><FONT FACE="Times New Roman,Times"><FONT SIZE=+1>,
and </FONT></FONT><FONT FACE="Courier New,Courier">pentiumpro</FONT><FONT FACE="Times New Roman,Times"><FONT SIZE=+1>.&nbsp;
Specifying </FONT></FONT><FONT FACE="Courier New,Courier">-march=<I>cpu
type </I></FONT><FONT FACE="Times New Roman,Times"><FONT SIZE=+1>implies
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-mcpu=<I>cpu type</I></FONT></FONT><FONT FACE="Times New Roman,Times"><FONT SIZE=+1>.</FONT></FONT></DL>
&nbsp;</DL>
<FONT FACE="Courier New"><FONT SIZE=+0>-m486</FONT></FONT>
<DT>
<FONT FACE="Courier New"><FONT SIZE=+0>-m386</FONT></FONT></DT>

<DT>
<FONT FACE="Courier New"><FONT SIZE=+0>-mpentium</FONT></FONT></DT>

<DT>
<FONT FACE="Courier New"><FONT SIZE=+0>-mpentiumpro</FONT></FONT></DT>

<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Control whether or not code
is optimized for </FONT></FONT><FONT FACE="Courier New,Courier">-mcpu=i386</FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
</FONT></FONT><FONT FACE="Courier New,Courier">-mcpu=i486</FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
</FONT></FONT><FONT FACE="Courier New,Courier">-mcpu=pentium</FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
and </FONT></FONT><FONT FACE="Courier New,Courier">-mcpu=pentiumpro</FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
respectively.</FONT></FONT>
<BR>&nbsp;</UL>

<DT>
<FONT FACE="Courier New"><FONT SIZE=+0>-mieee-fp</FONT></FONT></DT>

<DT>
<FONT FACE="Courier New"><FONT SIZE=+0>-mno-ieee-fp</FONT></FONT></DT>

<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Control whether or not the
compiler uses IEEE floating point comparisons. These handle correctly the
case where the result of a comparison is unordered.</FONT></FONT>
<BR>&nbsp;</UL>

<DT>
<FONT FACE="Courier New"><FONT SIZE=+0>-msoft-float</FONT></FONT></DT>

<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Generate output containing
library calls for floating point.</FONT></FONT>
<BR>&nbsp;
<UL>
<DT>
<B><I><FONT FACE="Times New Roman"><FONT SIZE=+1>Warning:</FONT></FONT></I></B></DT>

<BR><FONT FACE="Times New Roman"><FONT SIZE=+1>The requisite libraries
are not part of GNU CC. Normally the facilities of the machine’s usual
C compiler are used, but this can’t be done directly in cross-compilation.
You must make your own arrangements to provide suitable library functions
for cross-compilation. On machines where a function returns floating point
results in the 80387 register stack, some floating point opcodes may be
emitted even if </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-msoft-float</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
is used.</FONT></FONT></UL>
</UL>
</UL>

<UL>
<DT>
<FONT FACE="Courier New"><FONT SIZE=+0>-mno-fp-ret-in-387</FONT></FONT></DT>

<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Do not use the FPU registers
for return values of functions.</FONT></FONT>
<DT>
<FONT FACE="Times New Roman"><FONT SIZE=+1>The usual calling convention
has functions return values of types </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>float</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
and </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>double</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
in an FPU register, even if there is no FPU. The idea is that the operating
system should emulate an FPU.</FONT></FONT></DT>

<DT>
<FONT FACE="Times New Roman"><FONT SIZE=+1>The option, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-mno-fp-ret-in-387</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
causes such values to be returned in ordinary CPU registers instead.</FONT></FONT></DT>
</UL>

<DT>
<FONT FACE="Courier New"><FONT SIZE=+0>-mno-fancy-math-387</FONT></FONT></DT>

<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Some 387 emulators do not
support the </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>sin</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>cos</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
and </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>sqrt</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
instructions for the 387. Specify this option to avoid generating those
instructions. This option is the default on FreeBSD. As of revision 2.6.1,
these instructions are not generated unless you also use the </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-ffast-math</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
switch.</FONT></FONT>
<BR>&nbsp;</UL>

<DT>
<FONT FACE="Courier New"><FONT SIZE=+0>-malign-double</FONT></FONT></DT>

<DT>
<FONT FACE="Courier New"><FONT SIZE=+0>-mno-align-double</FONT></FONT></DT>

<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Control whether GNU CC aligns
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>double</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>long</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>double</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
and </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>long</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>long</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
variables on a two word boundary or a one word boundary. Aligning double
variables on a two word boundary will produce code that runs somewhat faster
on a </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>Pentium</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
at the expense of more memory.</FONT></FONT></UL>
&nbsp;
<UL>
<UL><B><I><FONT FACE="Times New Roman"><FONT SIZE=+1>Warning:</FONT></FONT></I></B>
<BR><FONT FACE="Times New Roman"><FONT SIZE=+1>If you use the </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-malign-double</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
switch, structures containing the above types will be aligned differently
than the published application binary interface specifications for the
386.</FONT></FONT>
<BR>&nbsp;</UL>
</UL>
</UL>

<UL>
<DT>
<FONT FACE="Courier New"><FONT SIZE=+0>-msvr3-shlib</FONT></FONT></DT>

<DT>
<FONT FACE="Courier New"><FONT SIZE=+0>-mno-svr3-shlib</FONT></FONT></DT>

<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Control whether GNU CC places
uninitialized locals into </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>bss</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
or data.</FONT></FONT>
<BR><FONT FACE="Times New Roman"><FONT SIZE=+1>‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-msvr3-shlib</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
places these locals into </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>bss</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.
These options are meaningful only on System V Release 3.</FONT></FONT>
<BR>&nbsp;</UL>

<DT>
<FONT FACE="Courier New"><FONT SIZE=+0>-mno-wide-multiply</FONT></FONT></DT>

<DT>
<FONT FACE="Courier New"><FONT SIZE=+0>-mwide-multiply</FONT></FONT></DT>

<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Control whether GNU CC uses
the </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>mul</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
and </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>imul</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
that produce 64 bit results in </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>eax:edx</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
from 32 bit operands to do </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>long</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>long</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
multiplies and 32-bit division by constants.</FONT></FONT>
<BR>&nbsp;</UL>

<DT>
<FONT FACE="Courier New"><FONT SIZE=+0>-mrtd</FONT></FONT></DT>

<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Use a different function-calling
convention, in which functions that take a fixed number of arguments return
with the </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>ret</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
</FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>num</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>
instruction, which pops their arguments while returning. This saves one
instruction in the caller since there is no need to pop the arguments there.</FONT></FONT>
<DT>
<FONT FACE="Times New Roman"><FONT SIZE=+1>You can specify that an individual
function is called with this calling sequence with the function attribute
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>stdcall</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.
You can also override the </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-mrtd</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
option by using the function attribute </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>cdecl</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.
See <A HREF="gccDeclaring_Attributes_of_Function.html">Declaring attributes
of functions</A>.</FONT></FONT></DT>
</UL>

<UL>
<UL><B><I><FONT FACE="Times New Roman"><FONT SIZE=+1>Warning:</FONT></FONT></I></B>
<BR><FONT FACE="Times New Roman"><FONT SIZE=+1>This calling convention
is incompatible with the one normally used on Unix, so you cannot use it
if you need to call libraries compiled with the Unix compiler.</FONT></FONT></UL>
&nbsp;
<DT>
<FONT FACE="Times New Roman"><FONT SIZE=+1>Also, you must provide function
prototypes for all functions that take variable numbers of arguments (including
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>printf</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>);
otherwise incorrect code will be generated for calls to those functions.</FONT></FONT></DT>

<DT>
<FONT FACE="Times New Roman"><FONT SIZE=+1>In addition, seriously incorrect
code will result if you call a function with too many arguments. (Normally,
extra arguments are harmlessly ignored.)</FONT></FONT></DT>
</UL>

<DT>
<FONT FACE="Courier New"><FONT SIZE=+0>-mreg-alloc=<I>regs</I></FONT></FONT></DT>

<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Control the default allocation
order of integer registers. The string, </FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>regs</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>,
is a series of letters specifying a register. The supported letters use
the following allocations: </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>a</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
allocates EAX; </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>b</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
allocates EBX; </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>c</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
allocates ECX; </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>d</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
allocates EDX; </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>S</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
allocates ESI; </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>D</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
allocates EDI; and </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>B</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
allocates EBP.</FONT></FONT>
<BR>&nbsp;</UL>

<DT>
<FONT FACE="Courier New"><FONT SIZE=+0>-mregparm=<I>num</I></FONT></FONT></DT>

<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Control how many registers
are used to pass integer arguments. By default, no registers are used to
pass arguments, and at most 3 registers can be used. You can control this
behavior for a specific function by using the function attribute </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>regparm</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.
See <A HREF="gccDeclaring_Attributes_of_Function.html">Declaring attributes
of functions</A>.</FONT></FONT></UL>
&nbsp;
<UL>
<UL><B><I><FONT FACE="Times New Roman"><FONT SIZE=+1>Warning:</FONT></FONT></I></B>
<BR><FONT FACE="Times New Roman"><FONT SIZE=+1>If you use this switch,
and </FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>num</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>
is nonzero, then you must build all modules with the same value, including
any libraries. This includes the system libraries and startup modules.</FONT></FONT>
<BR>&nbsp;</UL>
</UL>
</UL>

<UL>
<DT>
<FONT FACE="Courier New"><FONT SIZE=+0>-malign-loops=<I>num</I></FONT></FONT></DT>

<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Align loops to a 2 raised
to a num byte boundary. If </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-malign-loops</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
is not specified, the default is 2.</FONT></FONT>
<BR>&nbsp;</UL>

<DT>
<FONT FACE="Courier New"><FONT SIZE=+0>-malign-jumps=<I>num</I></FONT></FONT></DT>

<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Align instructions that
are only jumped to a 2 raised to a </FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>num</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>
byte boundary. If </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-malign-jumps</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
is not specified, the default is 2 if optimizing for a 386, and 4 if optimizing
for a 486.</FONT></FONT>
<BR>&nbsp;</UL>

<DT>
<FONT FACE="Courier New"><FONT SIZE=+0>-malign-functions=<I>num</I></FONT></FONT></DT>

<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Align the start of functions
to a 2 raised to </FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>num</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>
byte boundary.</FONT></FONT>
<DT>
<FONT FACE="Times New Roman"><FONT SIZE=+1>If </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-malign-jumps</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
is not specified, the default is 2 if optimizing for a 386, and 4 if optimizing
for a 486.</FONT></FONT></DT>
</UL>
</UL>

<CENTER>
<HR SIZE=3 WIDTH="100%"></CENTER>

<CENTER><A HREF="#Top">Top</A>|<A HREF="gcc.html">Contents</A>|<A HREF="gccindex.html">Index</A>|<A HREF="gccIBM_RT_Options.html">Previous</A>|<A HREF="gccIntel_960_Options.html">Next</A></CENTER>

</BODY>
</HTML>
