<HTML>
<HEAD>
   <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
   <META NAME="GENERATOR" CONTENT="Mozilla/4.04 [en] (Win95; I) [Netscape]">
   <TITLE>Pattern Rule Examples</TITLE>
</HEAD>
<BODY>
<A NAME="Top"></A><A HREF="make.html">Contents</A>|<A HREF="makeindex.html">Index</A>|<A HREF="makeIntroduction_to_Pattern_Rules.html">Previous</A>|<A HREF="makeAutomatic_Variables.html">Next</A>
<BR><A NAME="off_2164280"></A><A NAME="e1ce8111"></A><B><FONT FACE="Futura Md BT"><FONT SIZE=+3>Pattern
rule examples</FONT></FONT></B>
<BR>
<HR SIZE=3 WIDTH="100%"><FONT FACE="Times New Roman"><FONT SIZE=+1>The
following are some examples of pattern rules actually predefined in </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>.
First, the rule that compiles ‘</FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>.c</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>’
files into ‘</FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>.o</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>’
files:</FONT></FONT>
<BR>&nbsp;
<UL><FONT FACE="Courier New"><FONT SIZE=+0><B>%</B>.o : <B>%</B>.c</FONT></FONT>
<BR><FONT FACE="Courier New"><FONT SIZE=+0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<B>$</B>(CC) -c <B>$</B>(CFLAGS) <B>$</B>(CPPFLAGS) <B>$&lt;</B> -o <B>$@</B></FONT></FONT></UL>


<P><FONT FACE="Times New Roman"><FONT SIZE=+1>defines a rule that can make
any file ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0><I>x.</I><B>o</B></FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
from ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0><I>x.</I><B>c</B></FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’.
The command uses the automatic variables ‘</FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>$@</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>’
and ‘</FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>$&lt;</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>’
to substitute the names of the target file and the source file in each
case where the rule applies (see <FONT COLOR="#008000"><A HREF="makeAutomatic_Variables.html">Automatic
variables</A></FONT>).</FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>The following is a second
built-in rule:</FONT></FONT>
<BR>&nbsp;
<UL><FONT FACE="Courier New"><FONT SIZE=+0><B>%</B> :: RCS/<B>%</B>,v</FONT></FONT>
<BR><FONT FACE="Courier New"><FONT SIZE=+0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<B>$</B>(CO) <B>$</B>(COFLAGS) <B>$&lt;</B></FONT></FONT></UL>


<P><FONT FACE="Times New Roman"><FONT SIZE=+1>This statement defines a
rule that can make any file ‘</FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>x</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>’
whatsoever from a corresponding file ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0><I>x</I>,v</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
in the subdirectory ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>RCS</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’.
Since the target is ‘</FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>%</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>’,
this rule will apply to any file whatever, provided the appropriate dependency
file exists. The double colon makes the rule <I>terminal</I>, meaning that
its dependency may not be an intermediate file (see <FONT COLOR="#008000"><A HREF="makeMatchAnything_Pattern_Rules.html">Match-anything
pattern rules</A></FONT>).</FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>The following pattern rule
has two targets:</FONT></FONT>
<BR>&nbsp;
<UL><FONT FACE="Courier New"><FONT SIZE=+0><B>%</B>.tab.c <B>%</B>.tab.h:
<B>%</B>.y</FONT></FONT>
<BR><FONT FACE="Courier New"><FONT SIZE=+0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
bison -d <B>$&lt;</B></FONT></FONT></UL>


<P><FONT FACE="Times New Roman"><FONT SIZE=+1>This tells make that the
command ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>bison -d<I>x</I>.y</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
will make both ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0><I>x.</I>tab.c</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
and ‘</FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>x</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>.</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>tab.h</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’.
If the file ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>foo</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
depends on the files ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>parse.tab.o</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
and ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>scan.o</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
and the file ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>scan.o</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
depends on the file ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>parse.tab.h</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’,
when ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>parse.y</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
is changed, the command ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>bison
-d parse.y</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’ will
be executed only once, and the dependencies of both ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>parse.tab.o</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
and ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>scan.o</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
will be satisfied. (Presumably the file ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>parse.tab.o</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
will be recompiled from ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>parse.tab.c</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
and the file ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>scan.o</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
from ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>scan.c</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’,
while ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>foo</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
is linked from ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>parse.tab.o</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’,
‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>scan.o</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’,
and its other dependencies, and it will execute happily ever after.)</FONT></FONT>
<CENTER>
<HR SIZE=3 WIDTH="100%"></CENTER>

<CENTER><A HREF="#Top">Top</A>|<A HREF="make.html">Contents</A>|<A HREF="makeindex.html">Index</A>|<A HREF="makeIntroduction_to_Pattern_Rules.html">Previous</A>|<A HREF="makeAutomatic_Variables.html">Next</A></CENTER>

</BODY>
</HTML>
