<HTML>
<HEAD>
   <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
   <META NAME="GENERATOR" CONTENT="Mozilla/4.04 [en] (Win95; I) [Netscape]">
   <TITLE>Utilities in Makefiles</TITLE>
</HEAD>
<BODY>
<A NAME="Top"></A><A HREF="make.html">Contents</A>|<A HREF="makeindex.html">Index</A>|<A HREF="makeGeneral_Conventions_for_Makefile.html">Previous</A>|<A HREF="makeStandard_Targets_for_Users.html">Next</A>
<BR><A NAME="off_2622683"></A><A NAME="1f6c5bd8"></A><B><FONT FACE="Futura Md BT"><FONT SIZE=+3>Utilities
in makefiles</FONT></FONT></B>
<BR>
<HR SIZE=3 WIDTH="100%"><FONT FACE="Times New Roman"><FONT SIZE=+1>Write
the Makefile commands (and any shell scripts, such as </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>configure</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>)
to run in </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>sh</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
not in </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>csh</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.
Don’t use any special features of </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>ksh</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
or </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>bash</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.</FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>The </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>configure</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
script and the Makefile rules for building and installation should not
use any utilities directly except the following:</FONT></FONT>
<BR>&nbsp;
<UL><FONT FACE="Courier New"><FONT SIZE=+0>cat cmp cp echo egrep expr grep</FONT></FONT>
<BR><FONT FACE="Courier New"><FONT SIZE=+0>ln mkdir mv pwd rm rmdir sed
test touch</FONT></FONT></UL>


<P><FONT FACE="Times New Roman"><FONT SIZE=+1>Stick to the generally supported
options for these programs. For example, don’t use ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>mkdir
-p</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’, convenient
as it may be, because most systems don’t support it. The Makefile rules
for building and installation can also use compilers and related programs,
but should do so via </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
variables so that the user can substitute alternatives.</FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>The following are some of
the programs.</FONT></FONT>
<BR>&nbsp;
<UL><FONT FACE="Courier New"><FONT SIZE=+0>ar bison cc flex install ld
lex</FONT></FONT>
<BR><FONT FACE="Courier New"><FONT SIZE=+0>make makeinfo ranlib texi2dvi
yacc</FONT></FONT>
<BR>&nbsp;</UL>
<FONT FACE="Times New Roman"><FONT SIZE=+1>Use the following </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
variables:</FONT></FONT>
<BR>&nbsp;
<UL><FONT FACE="Courier New"><FONT SIZE=+0>$(AR) $(BISON) $(CC) $(FLEX)
$(INSTALL) $(LD) $(LEX)</FONT></FONT>
<BR><FONT FACE="Courier New"><FONT SIZE=+0>$(MAKE) $(MAKEINFO) $(RANLIB)
$(TEXI2DVI) $(YACC)</FONT></FONT></UL>


<P><FONT FACE="Times New Roman"><FONT SIZE=+1>When you use </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>ranlib</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
you should make sure nothing bad happens if the system does not have </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>ranlib</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.
Arrange to ignore an error from that command, and print a message before
the command to tell the user that failure of the </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>ranlib</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
command does not mean a problem.</FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>If you use symbolic links,
you should implement a fallback for systems that don’t have symbolic links.</FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>It is acceptable to use other
utilities in Makefile portions (or scripts) intended only for particular
systems where you know those utilities to exist.</FONT></FONT>
<CENTER>
<HR SIZE=3 WIDTH="100%"></CENTER>

<CENTER><A HREF="#Top">Top</A>|<A HREF="make.html">Contents</A>|<A HREF="makeindex.html">Index</A>|<A HREF="makeGeneral_Conventions_for_Makefile.html">Previous</A>|<A HREF="makeStandard_Targets_for_Users.html">Next</A></CENTER>

</BODY>
</HTML>
