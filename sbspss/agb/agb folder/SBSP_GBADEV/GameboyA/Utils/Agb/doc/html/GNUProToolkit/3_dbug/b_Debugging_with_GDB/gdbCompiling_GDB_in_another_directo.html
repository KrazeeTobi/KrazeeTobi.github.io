<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.51 [en] (Win95; I) [Netscape]">
   <title>Compiling GDB in another directory</title>
</head>
<body>
<a NAME="Top"></a><a href="gdb.html">Contents</a>|<a href="gdbindex.html">Index</a>|<a href="gdbInstalling_GDB.html">Previous</a>|<a href="gdbSpecifying_names_for_hosts_and_t.html">Next</a>
<br><a NAME="off_164212"></a><a NAME="501ed560"></a><b><font face="Futura Md BT"><font color="#000000"><font size=+3>Compiling
GDB in another directory&nbsp;</font></font></font></b>
<hr SIZE=6 WIDTH="100%">
<br><font face="Times New Roman"><font size=+1>If you want to run GDB versions
for several host or target machines, you need a different </font></font><font face="Courier New"><font size=+0>gdb</font></font><font face="Times New Roman"><font size=+1>
compiled for each combination of host and target. </font></font><font face="Courier New"><font size=+0>configure</font></font><font face="Times New Roman"><font size=+1>
is designed to make this easy by allowing you to generate each configuration
in a separate subdirectory, rather than in the source directory. If your
make program handles the ‘</font></font><font face="Courier New"><font size=+0>VPATH</font></font><font face="Times New Roman"><font size=+1>’
feature (GNU </font></font><font face="Courier New"><font size=+0>make</font></font><font face="Times New Roman"><font size=+1>
does; for more on the </font></font><font face="Courier New"><font size=+0>VPATH</font></font><font size=+1><font face="Times New Roman">
option, see <a href="../../5_ut/d_UsingMake/make.html"><i>Using</i> </a></font><tt><a href="../../5_ut/d_UsingMake/make.html">make</a></tt><font face="Times New Roman">
in <b><i>GNUPro Utilities</i></b>), running </font></font><font face="Courier New"><font size=+0>make</font></font><font face="Times New Roman"><font size=+1>
in each of these directories builds the </font></font><font face="Courier New"><font size=+0>gdb</font></font><font face="Times New Roman"><font size=+1>
program specified there.</font></font>
<p><font face="Times New Roman"><font size=+1>To build </font></font><font face="Courier New"><font size=+0>gdb</font></font><font face="Times New Roman"><font size=+1>
in a separate directory, run configure with the ‘</font></font><font face="Courier New"><font size=+0>--srcdir</font></font><font face="Times New Roman"><font size=+1>’
option to specify where to find the source. (You also need to specify a
path to find configure itself from your working directory. If the path
to </font></font><font face="Courier New"><font size=+0>configure</font></font><font face="Times New Roman"><font size=+1>
would be the same as the argument to ‘</font></font><font face="Courier New"><font size=+0>--srcdir</font></font><font face="Times New Roman"><font size=+1>’,
you can leave out the ‘</font></font><font face="Courier New"><font size=+0>--srcdir</font></font><font face="Times New Roman"><font size=+1>’
option; it is assumed.) For example, you can build GDB in a separate directory
for a Sun 4 using the following input:</font></font>
<br>&nbsp;
<ul>
<pre><font face="Courier New"><font size=+1>cd <i>gdb location</i></font></font></pre>

<pre><font face="Courier New"><font size=+1>mkdir ../gdb-sun4</font></font></pre>

<pre><font face="Courier New"><font size=+1>cd ../gdb-sun4</font></font></pre>

<pre><font face="Courier New"><font size=+1>../<i>gdb version-number</i>/configure sun4</font></font></pre>

<pre><font face="Courier New"><font size=+1>make</font></font></pre>
</ul>
<font face="Times New Roman"><font size=+1>When </font></font><font face="Courier New"><font size=+0>configure</font></font><font face="Times New Roman"><font size=+1>
builds a configuration using a remote source directory, it creates a tree
for the binaries with the same structure (and using the same names) as
the tree under the source directory. In the example, you’d find the Sun
4 library ‘</font></font><font face="Courier New"><font size=+0>libiberty.a</font></font><font face="Times New Roman"><font size=+1>’
in the directory ‘</font></font><font face="Courier New"><font size=+0>gdb-sun4/libiberty</font></font><font face="Times New Roman"><font size=+1>’,
and GDB itself in ‘</font></font><font face="Courier New"><font size=+0>gdb-sun4/gdb</font></font><font face="Times New Roman"><font size=+1>’.</font></font>
<p><font face="Times New Roman"><font size=+1>One popular reason to build
several GDB configurations in separate directories is to configure GDB
for cross-compiling (where GDB runs on one machine—the <i>host</i>—while
debugging programs that run on another machine—the <i>target</i>).</font></font>
<p><font face="Times New Roman"><font size=+1>You specify a cross-debugging
target by giving the ‘</font></font><font face="Courier New"><font size=+0>--target=<i>target</i></font></font><font face="Times New Roman"><font size=+1>’
option to </font></font><font face="Courier New"><font size=+0>configure</font></font><font face="Times New Roman"><font size=+1>.</font></font>
<p><font face="Times New Roman"><font size=+1>When you run </font></font><font face="Courier New"><font size=+0>make</font></font><font face="Times New Roman"><font size=+1>
to build a program or library, you must run it in a configured directory—whatever
directory you were in when you called </font></font><font face="Courier New"><font size=+0>configure</font></font><font face="Times New Roman"><font size=+1>
(or one of its subdirectories).</font></font>
<p><font face="Times New Roman"><font size=+1>The </font></font><font face="Courier New"><font size=+0>Makefile</font></font><font face="Times New Roman"><font size=+1>
that </font></font><font face="Courier New"><font size=+0>configure</font></font><font face="Times New Roman"><font size=+1>
generates in each source directory also runs recursively.</font></font>
<p><font face="Times New Roman"><font size=+1>If you type </font></font><font face="Courier New"><font size=+0>make</font></font><font face="Times New Roman"><font size=+1>
in a source directory such as ‘</font></font><font face="Courier New"><font size=+0>gdb-4.17-98r2</font></font><font face="Times New Roman"><font size=+1>’
(or in a separate directory configured with ‘</font></font><font face="Courier New"><font size=+0>--srcdir=<i>dirname</i>/gdb-4.17-98r2</font></font><font face="Times New Roman"><font size=+1>’),
you will build all the required libraries, and then build GDB.</font></font>
<p><font face="Times New Roman"><font size=+1>When you have multiple hosts
or targets configured in separate directories, you can run </font></font><font face="Courier New"><font size=+0>make</font></font><font face="Times New Roman"><font size=+1>
on them in parallel (for example, if they are NFS-mounted on each of the
hosts); they will not interfere with each other.</font></font>
<br>
<hr SIZE=3 WIDTH="100%">
<center><a href="#Top">Top</a>|<a href="gdb.html">Contents</a>|<a href="gdbindex.html">Index</a>|<a href="gdbContributors_to_GDB.html">Previous</a>|<a href="gdbCompiling_GDB_in_another_directo.html">Next</a></center>

</body>
</html>
