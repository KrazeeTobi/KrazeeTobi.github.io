<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.51 [en] (Win95; I) [Netscape]">
   <title>GDB and Hitachi microprocessors</title>
</head>
<body>
<a NAME="Top"></a><a href="gdb.html">Contents</a>|<a href="gdbindex.html">Index</a>|<a href="gdbGDB_and_SPARClet.html">Previous</a>|<a href="gdbGDB_and_remote_MIPS_boards.html">Next</a>
<br><a NAME="off_2820090"></a><a NAME="bbdd382c"></a><b><font face="Futura Md BT"><font size=+3>GDB
and Hitachi microprocessors</font></font></b>
<br>
<hr SIZE=3 WIDTH="100%">
<br><font face="Times New Roman"><font size=+1>The following documentaton
discusses using GDB with Hitachi microprocessors.</font></font>
<ul>
<ul>
<ul>
<li>
<font face="Times New Roman"><font size=+1><a href="#Connecting">Connecting
to Hitachi boards</a></font></font></li>

<li>
<font face="Times New Roman"><font size=+1><a href="#E7K">Using the E7000
in-circuit emulator</a></font></font></li>

<li>
<font face="Times New Roman"><font size=+1><a href="#Special_commands">Special
GDB commands for Hitachi micros</a></font></font></li>
</ul>
</ul>
</ul>
<font face="Times New Roman"><font size=+1>GDB needs to know the following
things to talk to your Hitachi SH, H8/300, or H8/500.</font></font>
<ul>
<ul>
<ul>
<li>
<font face="Times New Roman"><font size=+1>That you want to use ‘</font></font><font face="Courier New"><font size=+0>target
hms</font></font><font face="Times New Roman"><font size=+1>’, the remote
debugging interface for Hitachi microprocessors, or ‘</font></font><font face="Courier New"><font size=+0>target
e7000</font></font><font face="Times New Roman"><font size=+1>’, the in-circuit
emulator for the Hitachi SH and the Hitachi 300H. (‘</font></font><font face="Courier New"><font size=+0>target
hms</font></font><font face="Times New Roman"><font size=+1>’ is the default
when GDB is configured specifically for the Hitachi SH, H8/300, or H8/500.)</font></font></li>

<li>
<font face="Times New Roman"><font size=+1>What serial device connects
your host to your Hitachi board (the first serial device available on your
host is the default).</font></font></li>

<li>
<font face="Times New Roman"><font size=+1>What speed to use over the serial
device.</font></font></li>
</ul>
</ul>
</ul>
<a NAME="Connecting"></a><b><i><font face="Times New Roman"><font size=+2>Connecting
to Hitachi boards</font></font></i></b>
<p><font face="Times New Roman"><font size=+1>Use the special GDB command
‘</font></font><font face="Courier New"><font size=+0>device<i>port</i></font></font><font face="Times New Roman"><font size=+1>’
if you need to explicitly set the serial device. The default, </font></font><i><font face="Courier New"><font size=+0>port</font></font></i><font face="Times New Roman"><font size=+1>,
is the first available port on your host. This is only necessary on Unix
hosts, where it is typically something like </font></font><font face="Courier New"><font size=+0>/dev/ttya</font></font><font face="Times New Roman"><font size=+1>.</font></font>
<p><font face="Times New Roman"><font size=+1>GDB has another special command
to set the communications speed: ‘</font></font><font face="Courier New"><font size=+0>speed
<i>bps</i></font></font><font face="Times New Roman"><font size=+1>’.
This command also is only used from Unix hosts; on DOS hosts, set the line
speed as usual from outside GDB with the DOS </font></font><font face="Courier New"><font size=+0>mode</font></font><font face="Times New Roman"><font size=+1>command
(for instance, ‘</font></font><font face="Courier New"><font size=+0>mode
com2:9600,n,8,1,p</font></font><font face="Times New Roman"><font size=+1>’
for a 9600 bps connection).</font></font>
<p><font face="Times New Roman"><font size=+1>The ‘</font></font><font face="Courier New"><font size=+0>device</font></font><font face="Times New Roman"><font size=+1>’
and ‘</font></font><font face="Courier New"><font size=+0>speed</font></font><font face="Times New Roman"><font size=+1>’
commands are available only when you use a Unix host to debug your Hitachi
microprocessor programs. If you use a DOS host, GDB depends on an auxiliary
terminate-and-stay-resident program called </font></font><font face="Courier New"><font size=+0>asynctsr</font></font><font face="Times New Roman"><font size=+1>
to communicate with the development board through a PC serial port. You
must also use the DOS mode command to set up the serial port on the DOS
side.</font></font>
<p><a NAME="E7K"></a><b><i><font face="Times New Roman"><font size=+2>Using
the E7000 in-circuit emulator</font></font></i></b>
<p><font face="Times New Roman"><font size=+1>You can use the E7000 in-circuit
emulator to develop code for either the Hitachi SH or the H8/300H. Use
one of these forms of the ‘</font></font><font face="Courier New"><font size=+0>target
e7000</font></font><font face="Times New Roman"><font size=+1>’ command
to connect GDB to your E7000.</font></font>
<ul><font face="Courier New"><font size=+0>target e7000 <i>port speed</i></font></font>
<ul><font face="Times New Roman"><font size=+1>Use this form if your E7000
is connected to a serial port. The </font></font><i><font face="Courier New"><font size=+0>port</font></font></i><font face="Times New Roman"><font size=+1>
argument identifies what serial port to use (for example, ‘</font></font><font face="Courier New"><font size=+0>com2</font></font><font face="Times New Roman"><font size=+1>’).
The third argument is the line speed in bits per second (for example, ‘</font></font><font face="Courier New"><font size=+0>9600</font></font><font face="Times New Roman"><font size=+1>’).</font></font></ul>
<font face="Courier New"><font size=+0>target e7000<i>hostname</i></font></font>
<ul><font face="Times New Roman"><font size=+1>If your E7000 is installed
as a host on a TCP/IP network, you can just specify its </font></font><i><font face="Courier New"><font size=+0>hostname</font></font></i><font face="Times New Roman"><font size=+1>;
GDB uses </font></font><font face="Courier New"><font size=+0>telnet</font></font><font face="Times New Roman"><font size=+1>
to connect.</font></font></ul>
</ul>
<a NAME="Special_commands"></a><b><i><font face="Times New Roman"><font size=+2>Special
GDB commands for Hitachi micros</font></font></i></b>
<p><font face="Times New Roman"><font size=+1>Some GDB commands are available
only on the H8/300 or the H8/500 configurations.</font></font>
<br>&nbsp;
<ul><font face="Courier New"><font size=+0>set machine h8300</font></font>
<br><font face="Courier New"><font size=+0>set machine h8300h</font></font>
<ul><font face="Times New Roman"><font size=+1>Condition GDB for one of
the two variants of the H8/300 architecture with ‘</font></font><font face="Courier New"><font size=+0>set
machine</font></font><font face="Times New Roman"><font size=+1>’. You
can use ‘</font></font><font face="Courier New"><font size=+0>show machine</font></font><font face="Times New Roman"><font size=+1>’
to check which variant is currently in effect.</font></font></ul>
<font face="Courier New"><font size=+0>set memory <i>mod</i></font></font>
<br><font face="Courier New"><font size=+0>show memory</font></font>
<ul><font face="Times New Roman"><font size=+1>Specify which H8/500 memory
model (</font></font><i><font face="Courier New"><font size=+0>mod</font></font></i><font face="Times New Roman"><font size=+1>)
you are using with ‘</font></font><font face="Courier New"><font size=+0>set
memory</font></font><font face="Times New Roman"><font size=+1>’; check
which memory model is in effect with ‘</font></font><font face="Courier New"><font size=+0>show
memory</font></font><font face="Times New Roman"><font size=+1>’. The accepted
values for </font></font><i><font face="Courier New"><font size=+0>mod</font></font></i><font face="Times New Roman"><font size=+1>
are </font></font><font face="Courier New"><font size=+0>small</font></font><font face="Times New Roman"><font size=+1>,
</font></font><font face="Courier New"><font size=+0>big</font></font><font face="Times New Roman"><font size=+1>,
</font></font><font face="Courier New"><font size=+0>medium</font></font><font face="Times New Roman"><font size=+1>,
and </font></font><font face="Courier New"><font size=+0>compact</font></font><font face="Times New Roman"><font size=+1>.</font></font></ul>
</ul>

<hr SIZE=3 WIDTH="100%">
<center><a href="#Top">Top</a>|<a href="gdb.html">Contents</a>|<a href="gdbindex.html">Index</a>|<a href="gdbGDB_and_SPARClet.html">Previous</a>|<a href="gdbGDB_and_remote_MIPS_boards.html">Next</a></center>

</body>
</html>
