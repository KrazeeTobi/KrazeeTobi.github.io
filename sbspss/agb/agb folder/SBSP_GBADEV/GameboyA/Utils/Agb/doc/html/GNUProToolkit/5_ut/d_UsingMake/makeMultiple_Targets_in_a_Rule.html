<HTML>
<HEAD>
   <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
   <META NAME="GENERATOR" CONTENT="Mozilla/4.04 [en] (Win95; I) [Netscape]">
   <TITLE>Multiple Targets in a Rule</TITLE>
</HEAD>
<BODY>
<A NAME="Top"></A><A HREF="make.html">Contents</A>|<A HREF="makeindex.html">Index</A>|<A HREF="makeSpecial_Builtin_Target_Names.html">Previous</A>|<A HREF="makeMultiple_Rules_for_One_Target.html">Next</A>
<BR><A NAME="off_657263"></A><A NAME="5c3a074c"></A><B><FONT FACE="Futura Md BT"><FONT SIZE=+3>Multiple
targets in a rule</FONT></FONT></B>
<BR>
<HR SIZE=3 WIDTH="100%"><FONT FACE="Times New Roman"><FONT SIZE=+1>A rule
with multiple targets is equivalent to writing many rules, each with one
target, and all identical aside from that. The same commands apply to all
the targets, but their effects may vary because you can substitute the
actual target name into the command using ‘</FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>$@</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>’.
The rule contributes the same dependencies to all the targets also.</FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>This is useful in two cases.</FONT></FONT>
<UL>
<UL>
<UL>
<LI>
<FONT FACE="Times New Roman"><FONT SIZE=+1>You want just dependencies,
no commands. Use the following for an example.</FONT></FONT></LI>

<UL><FONT FACE="Courier New"><FONT SIZE=+0></FONT></FONT>

<P><FONT FACE="Courier New"><FONT SIZE=+0>kbd.o command.o files.o: command.h</FONT></FONT></UL>
</UL>
</UL>
</UL>

<UL>
<UL>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>This input gives an additional
dependency to each of the three object files mentioned.</FONT></FONT></UL>
</UL>
</UL>

<UL>
<UL>
<UL>
<LI>
<FONT FACE="Times New Roman"><FONT SIZE=+1>Similar commands work for all
the targets. The commands do not need to be absolutely identical, since
the automatic variable ‘</FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>$@</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>’
can be used to substitute the particular target to be remade into the commands
(see <FONT COLOR="#008000"><A HREF="makeAutomatic_Variables.html">Automatic
Variables</A></FONT>). Use the following for an example.</FONT></FONT></LI>

<UL><FONT FACE="Courier New"><FONT SIZE=+0></FONT></FONT>

<P><FONT FACE="Courier New"><FONT SIZE=+0>bigoutput littleoutput : text.g</FONT></FONT></UL>
</UL>
<FONT FACE="Courier New"><FONT SIZE=+0><B>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</B>generate text.g -$(subst output,,$@) > $@</FONT></FONT>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1></FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>This input is equivalent
to the next example.</FONT></FONT></UL>
</UL>
</UL>

<UL>
<UL>
<UL>
<UL><FONT FACE="Courier New"><FONT SIZE=+0>bigoutput : text.g</FONT></FONT>
<BR><FONT FACE="Courier New"><FONT SIZE=+0><B>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</B>generate text.g -big > bigoutput</FONT></FONT>
<BR><FONT FACE="Courier New"><FONT SIZE=+0>littleoutput : text.g</FONT></FONT>
<BR><FONT FACE="Courier New"><FONT SIZE=+0><B>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</B>generate text.g -little > littleoutput</FONT></FONT></UL>
</UL>
</UL>
</UL>

<UL>
<UL>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Here we assume the hypothetical
program, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>generate</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
makes two types of output, one if given ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-big</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
and one if given ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-little</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’.
See <FONT COLOR="#008000"><A HREF="makeFunctions_for_String_Substitutio.html">Functions
for string substitution and analysis</A></FONT> for an explanation of the
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>subst</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
function.</FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>Suppose you would like to
vary the dependencies according to the target, much as the variable ‘</FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>$@</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>’
allows you to vary the commands. You cannot do this with multiple targets
in an ordinary rule, but you can do it with a <I>static pattern rule</I>.
See <FONT COLOR="#008000"><A HREF="makeStatic_Pattern_Rules.html">Static
pattern rules</A></FONT>.</FONT></FONT></UL>
</UL>
</UL>

<CENTER>
<HR SIZE=3 WIDTH="100%"></CENTER>

<CENTER><A HREF="#Top">Top</A>|<A HREF="make.html">Contents</A>|<A HREF="makeindex.html">Index</A>|<A HREF="makeSpecial_Builtin_Target_Names.html">Previous</A>|<A HREF="makeMultiple_Rules_for_One_Target.html">Next</A></CENTER>

</BODY>
</HTML>
