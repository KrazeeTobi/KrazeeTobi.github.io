<HTML>
<HEAD>
   <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
   <META NAME="GENERATOR" CONTENT="Mozilla/4.04 [en] (Win95; I) [Netscape]">
   <TITLE>Variables from the Environment</TITLE>
</HEAD>
<BODY>
<A NAME="Top"></A><A HREF="make.html">Contents</A>|<A HREF="makeindex.html">Index</A>|<A HREF="makeDefining_Variables_Verbatim.html">Previous</A>|<A HREF="makeConditional_Parts_of_Makefiles.html">Next</A>
<BR><A NAME="off_1346491"></A><A NAME="55ce9f5a"></A><B><FONT FACE="Futura Md BT"><FONT SIZE=+3>Variables
from the environment</FONT></FONT></B>
<BR>
<HR SIZE=3 WIDTH="100%"><FONT FACE="Times New Roman"><FONT SIZE=+1>Variables
in </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
can come from the environment in which </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
is run. Every environment variable that </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
sees when it starts up is transformed into a </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
variable with the same name and value. But an explicit assignment in the
makefile, or with a command argument, overrides the environment. (If the
‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-e</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
flag is specified, then values from the environment override assignments
in the makefile. See <FONT COLOR="#008000"><A HREF="makeSummary_of_Options.html">Summary
of options</A></FONT>. But this is not recommended practice.)</FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>Thus, by setting the variable
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>CFLAGS</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
in your environment, you can cause all C compilations in most makefiles
to use the compiler switches you prefer. This is safe for variables with
standard or conventional meanings because you know that no makefile will
use them for other things. (But this is not totally reliable; some makefiles
set </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>CFLAGS</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
explicitly and therefore are not affected by the value in the environment.)</FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>When </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
is invoked recursively, variables defined in the outer invocation can be
passed to inner invocations through the environment (see <FONT COLOR="#008000"><A HREF="makeRecursive_Use_of__make.html">Recursive
use of </A></FONT></FONT></FONT><B><FONT FACE="Courier New"><FONT COLOR="#008000"><FONT SIZE=+0><A HREF="makeRecursive_Use_of__make.html">make</A></FONT></FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>).
By default, only variables that came from the environment or the command
line are passed to recursive invocations. You can use the </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>export</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
directive to pass other variables. See <FONT COLOR="#008000"><A HREF="makeCommunicating_Variables_to_a_Sub.html">Communicating
variables to a sub-</A></FONT></FONT></FONT><B><FONT FACE="Courier New"><FONT COLOR="#008000"><FONT SIZE=+0><A HREF="makeCommunicating_Variables_to_a_Sub.html">make</A></FONT></FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
for full details.</FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>Other use of variables from
the environment is not recommended. It is not wise for makefiles to depend
for their functioning on environment variables set up outside their control,
since this would cause different users to get different results from the
same makefile. This is against the whole purpose of most makefiles.</FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>Such problems would be especially
likely with the variable, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>SHELL</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
which is normally present in the environment to specify the user’s choice
of interactive shell. It would be very undesirable for this choice to affect
</FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>.
So </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
ignores the environment value of </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>SHELL</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.</FONT></FONT>
<CENTER>
<HR SIZE=3 WIDTH="100%"></CENTER>

<CENTER><A HREF="#Top">Top</A>|<A HREF="make.html">Contents</A>|<A HREF="makeindex.html">Index</A>|<A HREF="makeDefining_Variables_Verbatim.html">Previous</A>|<A HREF="makeConditional_Parts_of_Makefiles.html">Next</A></CENTER>

</BODY>
</HTML>
