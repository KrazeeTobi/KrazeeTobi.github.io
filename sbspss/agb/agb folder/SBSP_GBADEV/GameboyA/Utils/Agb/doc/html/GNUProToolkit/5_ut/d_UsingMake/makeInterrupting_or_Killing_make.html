<HTML>
<HEAD>
   <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
   <META NAME="GENERATOR" CONTENT="Mozilla/4.04 [en] (Win95; I) [Netscape]">
   <TITLE>Interrupting or Killing make</TITLE>
</HEAD>
<BODY>
<A NAME="Top"></A><A HREF="make.html">Contents</A>|<A HREF="makeindex.html">Index</A>|<A HREF="makeErrors_in_Commands.html">Previous</A>|<A HREF="makeRecursive_Use_of__make.html">Next</A>
<BR><A NAME="off_918705"></A><A NAME="938d502b"></A><B><FONT SIZE=+3><FONT FACE="Futura Md BT">Interrupting
or killing </FONT><FONT FACE="Courier New">make</FONT></FONT></B>
<BR>
<HR SIZE=3 WIDTH="100%"><FONT FACE="Times New Roman"><FONT SIZE=+1>If </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
gets a fatal signal while a command is executing, it may delete the target
file that the command was supposed to update. This is done if the target
file’s last-modification time has changed since </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
first checked it.</FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>The purpose of deleting the
target is to make sure that it is remade from scratch when </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
is next run. Why is this? Suppose you use </FONT></FONT><B><FONT FACE="Arial"><FONT SIZE=+0>Ctrl-c</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
while a compiler is running, and it has begun to write an object file ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>foo.o</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’.
The </FONT></FONT><B><FONT FACE="Arial"><FONT SIZE=+0>Ctrl-c</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
kills the compiler, resulting in an incomplete file whose last-modification
time is newer than the source file ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>foo.c</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’.
But </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
also receives the </FONT></FONT><B><FONT FACE="Arial"><FONT SIZE=+0>Ctrl-c</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
signal and deletes this incomplete file. If </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
did not do this, the next invocation of </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
would think that ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>foo.o</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
did not require updating—resulting in a strange error message from the
linker when it tries to link an object file half of which is missing.</FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>You can prevent the deletion
of a target file in this way by making the special target, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>.PRECIOUS</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
depend on it. Before remaking a target, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
checks to see whether it appears on the dependencies of </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>.PRECIOUS</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
and thereby decides whether the target should be deleted if a signal happens.
Some reasons why you might do this are that the target is updated in some
atomic fashion, or exists only to record a modification-time (its contents
do not matter), or must exist at all times to prevent other sorts of trouble.</FONT></FONT>
<CENTER>
<HR SIZE=3 WIDTH="100%"></CENTER>

<CENTER><A HREF="#Top">Top</A>|<A HREF="make.html">Contents</A>|<A HREF="makeindex.html">Index</A>|<A HREF="makeErrors_in_Commands.html">Previous</A>|<A HREF="makeRecursive_Use_of__make.html">Next</A></CENTER>

</BODY>
</HTML>
