<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.51 [en] (Win95; I) [Netscape]">
   <title>Installing GNU CC on the Sun</title>
</head>
<body>
<a href="gcc.html">Contents</a>|<a href="gccindex.html">Index</a>|<a href="gcccollect2.html">Previous</a>|<a href="gccInstalling_GNU_CC_on_VMS.html">Next</a>
<br><a NAME="off_3048111"></a><a NAME="dc753540"></a><b><font face="Futura Md BT"><font color="#000000"><font size=+3>Installing
GNU CC on the Sun&nbsp;</font></font></font></b>
<hr SIZE=6 WIDTH="100%">
<br><font face="Times New Roman"><font size=+1>On Solaris (version 2.1),
do not use the linker or other tools in ‘</font></font><font face="Courier New"><font size=+0>/usr/ucb</font></font><font face="Times New Roman"><font size=+1>’
to build GNU CC. Use ‘</font></font><font face="Courier New"><font size=+0>/usr/ccs/bin</font></font><font face="Times New Roman"><font size=+1>’.</font></font>
<p><font face="Times New Roman"><font size=+1>Make sure the environment
variable </font></font><font face="Courier New"><font size=+0>FLOAT_OPTION</font></font><font face="Times New Roman"><font size=+1>
is not set when you compile ‘</font></font><font face="Courier New"><font size=+0>libgcc.a</font></font><font face="Times New Roman"><font size=+1>’.
If this option were set to </font></font><font face="Courier New"><font size=+0>f68881</font></font><font face="Times New Roman"><font size=+1>
when ‘</font></font><font face="Courier New"><font size=+0>libgcc.a</font></font><font face="Times New Roman"><font size=+1>’
is compiled, the resulting code would demand to be linked with a special
startup file and would not link properly without special pains.</font></font>
<p><font face="Times New Roman"><font size=+1>There is a bug in </font></font><font face="Courier New"><font size=+0>alloca</font></font><font face="Times New Roman"><font size=+1>
in certain versions of the Sun library. To avoid this bug, install the
binaries of GNU CC that were compiled by GNU CC. They use </font></font><font face="Courier New"><font size=+0>alloca</font></font><font face="Times New Roman"><font size=+1>
as a built-in function and never the one in the library.</font></font>
<p><font face="Times New Roman"><font size=+1>Some versions of the Sun
compiler crash when compiling GNU CC. The problem is a segmentation fault
in </font></font><font face="Courier New"><font size=+0>cpp</font></font><font face="Times New Roman"><font size=+1>.
This problem seems to be due to the bulk of data in the environment variables.
You may be able to avoid it by using the following command to compile GNU
CC with Sun CC:</font></font>
<ul>
<pre><font face="Courier New"><font size=+1>make CC="TERMCAP=x OBJS=x LIBFUNCS=x STAGESTUFF=x cc"</font></font></pre>
</ul>
<font face="Times New Roman"><font size=+1>SunOS 4.1.3 and 4.1.3 U1 have
bugs that can cause intermittent core dumps when compiling GNU CC. A common
symptom is an internal compiler error which does not recur if you run it
again. To fix the problem, install Sun recommended patch 100726 (for SunOS
4.1.3) or 101508 (for SunOS 4.1.3 U1), or upgrade to a later SunOS release.</font></font>
</body>
</html>
