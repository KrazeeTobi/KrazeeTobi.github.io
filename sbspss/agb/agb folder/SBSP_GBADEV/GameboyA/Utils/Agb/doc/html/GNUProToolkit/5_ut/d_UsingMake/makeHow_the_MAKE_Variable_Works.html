<HTML>
<HEAD>
   <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
   <META NAME="GENERATOR" CONTENT="Mozilla/4.04 [en] (Win95; I) [Netscape]">
   <TITLE>How the MAKE Variable Works</TITLE>
</HEAD>
<BODY>
<A NAME="Top"></A><A HREF="make.html">Contents</A>|<A HREF="makeindex.html">Index</A>|<A HREF="makeRecursive_Use_of__make.html">Previous</A>|<A HREF="makeCommunicating_Variables_to_a_Sub.html">Next</A>
<BR><A NAME="off_950813"></A><A NAME="e0b2f0fb"></A><B><FONT SIZE=+3><FONT FACE="Futura Md BT">How
the </FONT><FONT FACE="Courier New">MAKE</FONT><FONT FACE="Futura Md BT">
variable works</FONT></FONT></B>
<BR>
<HR SIZE=3 WIDTH="100%"><FONT FACE="Times New Roman"><FONT SIZE=+1>Recursive
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
commands should always use the variable, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>MAKE</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
not the explicit command name, ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’,
as shown in the following example.</FONT></FONT>

<P><FONT FACE="Courier New"><FONT SIZE=+0>subsystem:</FONT></FONT>
<BR><FONT FACE="Times New Roman"><FONT SIZE=+1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>cd subdir; $(MAKE)</FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>The value of this variable
is the file name with which </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
was invoked. If this file name was ‘</FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>/bin/make</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>’,
then the command executed is ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>cd
subdir; /bin/make</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’.
If you use a special version of </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
to run the top-level makefile, the same special version will be executed
for recursive invocations. As a special feature, using the variable, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>MAKE</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
in the commands of a rule alters the effects of the ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-t</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
(‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>--touch</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’),
‘-</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>n</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
(‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>--just-print</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’),
or ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-q</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
(‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>--question</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’)
options. Using the </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>MAKE</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
variable has the same effect as using a ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>+</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
character at the beginning of the command line. See <FONT COLOR="#008000"><A HREF="makeInstead_of_Executing_the_Command.html">Instead
of executing the commands</A></FONT>.</FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>Consider the command ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>make
-t</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’ for example.
(The ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-t</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
option marks targets as up to date without actually running any commands;
see <FONT COLOR="#008000"><A HREF="makeInstead_of_Executing_the_Command.html">Instead
of executing the commands</A></FONT>.) Following the usual definition of
‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-t</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’,
a ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>make -t</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
command would create a file named ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>subsystem</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
and do nothing else.</FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>What you really want it to
do is run ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>cd subdir;
make -t</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’ although
that would require executing the command, and ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-t</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
says not to execute commands.</FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>The special feature makes
this do what you want: whenever a com-mand line of a rule contains the
variable, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>MAKE</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
the flags ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-t</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’,
‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-n</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
and ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-q</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
do not apply to that line. Command lines containing </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>MAKE</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
are executed normally despite the presence of a flag that causes most commands
not to be run. The usual </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>MAKEFLAGS</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
mechanism passes the flags to the sub-</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
(see <FONT COLOR="#008000"><A HREF="makeCommunicating_Options_to_a_Subma.html">Communicating
options to a sub-</A></FONT></FONT></FONT><B><FONT FACE="Courier New"><FONT COLOR="#008000"><FONT SIZE=+0><A HREF="makeCommunicating_Options_to_a_Subma.html">make</A></FONT></FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>),
so that your request to touch the files, or print the commands, is propagated
to the subsystem.</FONT></FONT>
<CENTER>
<HR SIZE=3 WIDTH="100%"></CENTER>

<CENTER><A HREF="#Top">Top</A>|<A HREF="make.html">Contents</A>|<A HREF="makeindex.html">Index</A>|<A HREF="makeRecursive_Use_of__make.html">Previous</A>|<A HREF="makeCommunicating_Variables_to_a_Sub.html">Next</A></CENTER>

</BODY>
</HTML>
