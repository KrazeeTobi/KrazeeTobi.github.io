<HTML>
<HEAD>
<TITLE>Comparing Directories</TITLE>
</HEAD><BODY>
<A HREF= "dif.html">Contents</A>|<A HREF= "difindex.html">Index</A>|<A HREF="difAn_Example_of_Ifthenelse_Format.html">Previous</A>|<A HREF="difMaking_diff_Output_Prettier.html">Next</A>
<P>
<A NAME="off_591784"></A><A NAME="c0cc58f4"></A><FONT FACE="Times New Roman" SIZE="6"><B>Comparing Directories
<P>
</B></FONT><FONT FACE="Times New Roman" SIZE="4">You can use </FONT><FONT FACE="Courier New" SIZE="3">diff</FONT><FONT FACE="Times New Roman" SIZE="4"> to compare some or all of the files in two directory trees. When both file
name arguments to </FONT><FONT FACE="Courier New" SIZE="3">diff</FONT><FONT FACE="Times New Roman" SIZE="4"> are directories, it compares each file that is contained in both directories,
ex-amining file names in alphabetical order. Normally </FONT><FONT FACE="Courier New" SIZE="3">diff</FONT><FONT FACE="Times New Roman" SIZE="4"> is silent about pairs of files that contain no differences, but if you use
the '</FONT><FONT FACE="Courier New" SIZE="3">-s</FONT><FONT FACE="Times New Roman" SIZE="4">' or'</FONT><FONT FACE="Courier New" SIZE="3">--report-identical-files</FONT><FONT FACE="Times New Roman" SIZE="4">' option, it reports pairs of identical files. Normally diff reports
subdirectories common to both directories without comparing subdirectories' files, but
if you use the '</FONT><FONT FACE="Courier New" SIZE="3">-r</FONT><FONT FACE="Times New Roman" SIZE="4">' or '</FONT><FONT FACE="Courier New" SIZE="3">--recursive</FONT><FONT FACE="Times New Roman" SIZE="4">' option, it compares every corresponding pair of files in the directory
trees, as many levels deep as they go. 
<P>
For file names that are in only one of the directories, </FONT><FONT FACE="Courier New" SIZE="3">diff</FONT><FONT FACE="Times New Roman" SIZE="4"> normally does not show the contents of the file that exists; it reports only
that the file exists in that directory and not in the other. You can make </FONT><FONT FACE="Courier New" SIZE="3">diff</FONT><FONT FACE="Times New Roman" SIZE="4"> act as though the file existed but was empty in the other directory, so that
it outputs the entire contents of the file that actually exists. (It is output
as either an insertion or a deletion, depending on whether it is in the first
or the second directory given.) To do this, use the '</FONT><FONT FACE="Courier New" SIZE="3">-N</FONT><FONT FACE="Times New Roman" SIZE="4">' or '</FONT><FONT FACE="Courier New" SIZE="3">--new-file</FONT><FONT FACE="Times New Roman" SIZE="4">' option. 
<P>
If the older directory contains one or more large files that are not in the
newer directory, you can make the patch smaller by using the '</FONT><FONT FACE="Courier New" SIZE="3">-P</FONT><FONT FACE="Times New Roman" SIZE="4">' or 
<BR>'</FONT><FONT FACE="Courier New" SIZE="3">--unidirectional-new-file</FONT><FONT FACE="Times New Roman" SIZE="4">' option instead of '</FONT><FONT FACE="Courier New" SIZE="3">-N</FONT><FONT FACE="Times New Roman" SIZE="4">'. This option is like '</FONT><FONT FACE="Courier New" SIZE="3">-N</FONT><FONT FACE="Times New Roman" SIZE="4">' except that it only inserts the contents of files that appear in the second
directory but not the first (that is, files that were added). At the top of the
patch, write instructions for the user applying the patch to remove the files
that were deleted before applying the patch. See </FONT><FONT FACE="Times New Roman" COLOR="#008000" SIZE="4"><A HREF="difTips_for_Making_Patch_Distributi.html">Tips for Making Patch Distributions</A></FONT><FONT FACE="Times New Roman" SIZE="4"> for more discussion of making patches for distribution. 
<P>
To ignore some files while comparing directories, use the '</FONT><FONT FACE="Courier New" SIZE="3">-x</FONT><FONT FACE="Times New Roman" SIZE="4"> </FONT><FONT FACE="Courier New" SIZE="3"><I>pattern</I></FONT><FONT FACE="Times New Roman" SIZE="4">' or '</FONT><FONT FACE="Courier New" SIZE="3">--exclude=<I>pattern</I></FONT><FONT FACE="Times New Roman" SIZE="4">' option. This option ignores any files or subdi-rectories whose base names
match the shell pattern pattern. Unlike in the shell, a period at the start of
the base of a file name matches a wildcard at the start of a pattern. You should
enclose pattern in quotes so that the shell does not expand it. For example,
the option '</FONT><FONT FACE="Courier New" SIZE="3">-x</FONT><FONT FACE="Times New Roman" SIZE="4"> </FONT><FONT FACE="Courier New" SIZE="3">'*.[ao]'</FONT><FONT FACE="Times New Roman" SIZE="4">' ignores any file whose name ends with '</FONT><FONT FACE="Courier New" SIZE="3">.a</FONT><FONT FACE="Times New Roman" SIZE="4">' or '</FONT><FONT FACE="Courier New" SIZE="3">.o</FONT><FONT FACE="Times New Roman" SIZE="4">'.
<P>
This option accumulates if you specify it more than once. For example, using
the options '</FONT><FONT FACE="Courier New" SIZE="3">-x</FONT><FONT FACE="Times New Roman" SIZE="4"> </FONT><FONT FACE="Courier New" SIZE="3">'RCS' -x '*,v'</FONT><FONT FACE="Times New Roman" SIZE="4">' ignores any file or subdirectory whose base name is '</FONT><FONT FACE="Courier New" SIZE="3">RCS</FONT><FONT FACE="Times New Roman" SIZE="4">' or ends with '</FONT><FONT FACE="Courier New" SIZE="3">,v</FONT><FONT FACE="Times New Roman" SIZE="4">'.
<P>
If you need to give this option many times, you can instead put the patterns
in a file, one pattern per line, using the '</FONT><FONT FACE="Courier New" SIZE="3">-X</FONT><FONT FACE="Times New Roman" SIZE="4"> </FONT><FONT FACE="Courier New" SIZE="3"><I>file'</I></FONT><FONT FACE="Times New Roman" SIZE="4"> or '</FONT><FONT FACE="Courier New" SIZE="3">--exclude-from=<I>file</I></FONT><FONT FACE="Times New Roman" SIZE="4">' option.
<P>
If you have been comparing two directories and stopped partway through, later
you might want to continue where you left off. You can do this by using the '</FONT><FONT FACE="Courier New" SIZE="3">-S</FONT><FONT FACE="Times New Roman" SIZE="4"> </FONT><FONT FACE="Courier New" SIZE="3"><I>file</I></FONT><FONT FACE="Times New Roman" SIZE="4">' or'</FONT><FONT FACE="Courier New" SIZE="3">--starting-file=<I>file</I></FONT><FONT FACE="Times New Roman" SIZE="4">' option. This compares only the file, </FONT><FONT FACE="Courier New" SIZE="3"><I>file</I></FONT><FONT FACE="Times New Roman" SIZE="4">, and all alphabetically subsequent files in the topmost directory level.
<P>
</FONT></BODY>
</HTML>