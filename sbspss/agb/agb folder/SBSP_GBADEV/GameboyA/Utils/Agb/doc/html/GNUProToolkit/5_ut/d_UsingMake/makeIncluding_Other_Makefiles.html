<HTML>
<HEAD>
   <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
   <META NAME="GENERATOR" CONTENT="Mozilla/4.04 [en] (Win95; I) [Netscape]">
   <TITLE>Including Other Makefiles</TITLE>
</HEAD>
<BODY>
<A NAME="Top"></A><A HREF="make.html">Contents</A>|<A HREF="makeindex.html">Index</A>|<A HREF="makeWhat_Name_to_Give_Your_Makefile.html">Previous</A>|<A HREF="makeThe_Variable_MAKEFILES.html">Next</A>
<BR><A NAME="off_296407"></A><A NAME="fadc3e78"></A><B><FONT FACE="Futura Md BT"><FONT SIZE=+3>Including
other makefiles</FONT></FONT></B>
<BR>
<HR SIZE=3 WIDTH="100%"><FONT FACE="Times New Roman"><FONT SIZE=+1>The
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>include</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
directive tells </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
to suspend reading the current make-file and read one or more other makefiles
before continuing. The directive is a line in the makefile that looks like
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>include <I>filenames</I>...</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.</FONT></FONT>

<P><I><FONT FACE="Courier New"><FONT SIZE=+0>filenames</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>
can contain shell file name patterns. Extra spaces are allowed and ignored
at the beginning of the line, but a tab is not allowed. (If the line begins
with a tab, it will be considered a command line.) Whitespace is required
between </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>include</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
and the file names, and between file names; extra whitespace is ignored
there and at the end of the directive. A comment starting with ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>#</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
is allowed at the end of the line. If the file names contain any variable
or function references, they are expanded. See <FONT COLOR="#008000"><A HREF="makeHow_to_Use_Variables.html">How
to use variables</A></FONT>.</FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>For example, if you have
three ‘</FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>.mk</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>’
files, ‘</FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>a.mk</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>’,
‘</FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>b.mk</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>’,
and ‘</FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>c.mk</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>’,
and </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>$(bar)</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
expands to </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>bish bash</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
then the expression, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>include
foo *.mk $(bar)</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
is equivalent to </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>include
foo a.mk b.mk c.mk bish bash</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.</FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>When </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
processes an </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>include</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
directive, it suspends reading of the containing makefile and reads from
each listed file in turn. When that is finished, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
resumes reading the makefile in which the directive appears. One occasion
for using </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>include</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
directives is when several programs, handled by individual makefiles in
various directories, need to use a common set of variable definitions (see
<FONT COLOR="#008000"><A HREF="makeSetting_Variables.html">Setting variables</A></FONT>)
or pattern rules (see <FONT COLOR="#008000"><A HREF="makeDefining_and_Redefining_Pattern_.html">Defining
and redefining pattern rules</A></FONT>).</FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>Another such occasion is
when you want to generate dependencies from source files automatically;
the dependencies can be put in a file that is included by the main makefile.
This practice is generally cleaner than that of somehow appending the dependencies
to the end of the main makefile as has been traditionally done with other
versions of </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>.
See <FONT COLOR="#008000"><A HREF="makeGenerating_Dependencies_Automati.html">Generating
dependencies automatically</A></FONT>.</FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>If the specified </FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>name</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>
does not start with a slash, and the file is not found in the current directory,
several other directories are searched. First, any directories you have
specified with the ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-I</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
or the ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>--include-dir</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
options are searched (see <FONT COLOR="#008000"><A HREF="makeSummary_of_Options.html">Summary
of options</A></FONT>). Then the directories (if they exist) are searched,
in the following order.</FONT></FONT>
<UL>

<P><FONT FACE="Arial"><FONT SIZE=+1>1.</FONT></FONT>
<BR><FONT FACE="Times New Roman"><FONT SIZE=+1>‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0><I>prefix</I><B>/include</B></FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
(normally, ‘</FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>/usr/local/include</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>’)</FONT></FONT>

<P><FONT FACE="Arial"><FONT SIZE=+1>2.</FONT></FONT>
<BR><FONT FACE="Times New Roman"><FONT SIZE=+1>‘</FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>/usr/gnu/include</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>’,</FONT></FONT>

<P><FONT FACE="Arial"><FONT SIZE=+1>3.</FONT></FONT>
<BR><FONT FACE="Times New Roman"><FONT SIZE=+1>‘</FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>/usr/local/include</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>’,
‘</FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>/usr/include</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>’.</FONT></FONT></UL>


<P><FONT FACE="Times New Roman"><FONT SIZE=+1>If an included makefile cannot
be found in any of these directories, a warning message is generated, but
it is not an immediately fatal error; processing of the makefile containing
the </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>include</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
continues. Once it has finished reading makefiles, </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
will try to remake any that are out of date or don’t exist. See <FONT COLOR="#008000"><A HREF="makeHow_Makefiles_Are_Remade.html">How
makefiles Are remade</A></FONT>. Only after it has tried to find a way
to remake a makefile and failed, will </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
diagnose the missing makefile as a fatal error.</FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>If you want </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
to simply ignore a makefile which does not exist and cannot be remade,
with no error message, use the </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-include</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
directive instead of </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>include</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
as in </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-include</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0><I>filenames</I><B>...</B></FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.
This acts like </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>include</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
in every way except that there is no error (not even a warning) if any
of the filenames do not exist.</FONT></FONT>
<CENTER>
<HR SIZE=3 WIDTH="100%"></CENTER>

<CENTER><A HREF="#Top">Top</A>|<A HREF="make.html">Contents</A>|<A HREF="makeindex.html">Index</A>|<A HREF="makeWhat_Name_to_Give_Your_Makefile.html">Previous</A>|<A HREF="makeThe_Variable_MAKEFILES.html">Next</A></CENTER>

</BODY>
</HTML>
