<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
   <TITLE>strtok[get next token from a string]</TITLE>
   <META NAME="GENERATOR" CONTENT="Mozilla/3.01Gold (Win95; I) [Netscape]">
</HEAD>
<BODY>

<P><A HREF="libc.html">Contents</A>|<A HREF="libcindex.html">Index</A>|<A HREF="libcstrstrfind_string_segment.html">Previous</A>|<A HREF="libcstrxfrmtransform_string.html">Next</A>
</P>

<P><A NAME="off_1639546"></A><A NAME="241ffd1b"></A><A NAME="off_1639546"></A><A NAME="241ffd1b"></A><A NAME="off_1639546"></A><A NAME="241ffd1b"></A><FONT SIZE=+3><FONT FACE="Courier New">strtok
<BR>
</FONT><FONT FACE="Times New Roman">[get next token from a string] </FONT></FONT></P>

<PRE><B><FONT FACE="Times New Roman"><FONT SIZE=+2>SYNOPSIS 
</FONT></FONT></B><FONT FACE="Courier New"><FONT SIZE=+1>#include &lt;string.h&gt; 
char *strtok(char *<I>source</I>, const char *<I>delimiters</I>) 
char *strtok_r(char *<I>source</I>, const char 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<I>delimiters</I>, char **<I>lasts</I>) </FONT></FONT></PRE>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1><B>DESCRIPTION <BR>
</B>A series of calls to </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>strtok</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
break the string starting at </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>*<I>source</I></FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
into a sequence of tokens. The tokens are delimited from one another by
characters from the string at </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>*<I>delimiters</I></FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
at the outset. The first call to </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>strtok</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
normally has a string address as the first argument; subsequent calls can
use </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>NULL</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
as the first argument, to continue searching the same string. You can continue
searching a single string with different delimiters by using a different
delimiter string on each call. </FONT></FONT></P>

<P><FONT FACE="Courier New"><FONT SIZE=+0>strtok</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
begins by searching for any character not in the </FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>delimiters</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>
string: the first such character is the beginning of a token (and its ad-dress
will be the result of the </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>strtok</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
call). </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>strtok</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
then continues searching until it finds another delimiter character; it
replaces that character by </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>NULL</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
and returns. (If </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>strtok</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
comes to the end of the </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>*<I>source</I></FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
string without finding any more delimiters, the entire remainder of the
string is treated as the next token). </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>strtok</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
starts its search at </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>*</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>source,
unless you pass </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>NULL</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
as the first argument; if </FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>source</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>
is </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>NULL</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>strtok</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
continues searching from the end of the last search. Exploiting the </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>NULL</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
first argument leads to non-reentrant code. You can easily circumvent this
problem by saving the last delimiter address in your application, and always
using it to pass a non-null </FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>source</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>
argument. </FONT></FONT></P>

<P><B><FONT FACE="Times New Roman"><FONT SIZE=+1>RETURNS <BR>
</FONT></FONT></B><FONT FACE="Courier New"><FONT SIZE=+0>strtok</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
returns a pointer to the next token, or </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>NULL</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
if no more tokens can be found. </FONT></FONT></P>

<P><B><FONT FACE="Times New Roman"><FONT SIZE=+1>COMPLIANCE <BR>
</FONT></FONT></B><FONT FACE="Courier New"><FONT SIZE=+0>strtok</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
is ANSI C. </FONT></FONT></P>

<P><FONT FACE="Courier New"><FONT SIZE=+0>strtok</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
requires no supporting OS subroutines. </FONT></FONT></P>

</BODY>
</HTML>
