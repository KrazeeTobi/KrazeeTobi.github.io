<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.51 [en] (Win95; I) [Netscape]">
   <title>Setting watchpoints</title>
</head>
<body>
<a NAME="Top"></a><a href="gdb.html">Contents</a>|<a href="gdbindex.html">Index</a>|<a href="gdbSetting_breakpoints.html">Previous</a>|<a href="gdbBreakpoints_and_exceptions.html">Next</a>
<br><a NAME="off_821877"></a><a NAME="21268c31"></a><b><font face="Futura Md BT"><font color="#000000"><font size=+3>Setting
watchpoints&nbsp;</font></font></font></b>
<hr SIZE=3 WIDTH="100%">
<br><font face="Times New Roman"><font size=+1>You can use a watchpoint
to stop execution whenever the value of an expression changes, without
having to predict a particular place where this may happen.</font></font>
<p><font face="Times New Roman"><font size=+1>Watchpoints currently execute
two orders of magnitude more slowly than other breakpoints, but this can
be well worth it to catch errors where you have no clue what part of your
program is the culprit.</font></font>
<br>&nbsp;
<ul><font face="Courier New"><font size=+0>watch</font></font><i><tt><font size=+1>expr</font></tt></i>
<ul><font size=+1><font face="Times New Roman">Set a watchpoint for an
expression, </font><i><tt>expr</tt></i><font face="Times New Roman">. GDB
will break when </font><i><tt>expr</tt></i><font face="Times New Roman">
is written into by the program and its value changes. This can be used
with the new trap-generation provided by SPARClite DSU. DSU will generate
traps when a program accesses some date or instruction address that is
assigned to the debug registers. For the data addresses, DSU facilitates
the </font></font><font face="Courier New"><font size=+0>watch</font></font><font face="Times New Roman"><font size=+1>
command. However the hardware breakpoint registers can only take two data
watchpoints, and both watchpoints must be the same kind. For example, you
can set two watchpoints with </font></font><font face="Courier New"><font size=+0>watch</font></font><font face="Times New Roman"><font size=+1>
commands, two with </font></font><font face="Courier New"><font size=+0>rwatch</font></font><font face="Times New Roman"><font size=+1>
commands, or two with </font></font><font face="Courier New"><font size=+0>awatch</font></font><font face="Times New Roman"><font size=+1>
commands, but you cannot set one watchpoint with one command and the other
with a different command. GDB will reject the command if you try to mix
watchpoints. Delete or disable unused watchpoint commands before setting
new ones.</font></font></ul>
<font face="Courier New"><font size=+0>rwatch<i>expr</i></font></font>
<ul><font face="Times New Roman"><font size=+1>Set a watchpoint that will
break when watch </font></font><i><font face="Courier New"><font size=+0>args</font></font></i><font face="Times New Roman"><font size=+1>
is read by the program. If you use both watchpoints, both must be set with
the </font></font><font face="Courier New"><font size=+0>rwatch</font></font><font face="Times New Roman"><font size=+1>
command.</font></font></ul>
<font face="Courier New"><font size=+0>awatch<i>expr</i></font></font>
<ul><font face="Times New Roman"><font size=+1>Set a watchpoint that will
break when </font></font><i><font face="Courier New"><font size=+0>args</font></font></i><font face="Times New Roman"><font size=+1>
is read and written into by the program. If you use both watchpoints, both
must be set with the </font></font><font face="Courier New"><font size=+0>awatch</font></font><font face="Times New Roman"><font size=+1>
command.</font></font></ul>
<font face="Courier New"><font size=+0>infowatchpoints</font></font>
<ul><font face="Times New Roman"><font size=+1>This command prints a list
of watchpoints, breakpoints and catchpoints; it is the same as </font></font><font face="Courier New"><font size=+0>info
break</font></font><font face="Times New Roman"><font size=+1>.</font></font></ul>
<font face="Times New Roman"><font size=+1><b><i>Warning</i></b>:</font></font>
<br><font face="Times New Roman"><font size=+1>In multi-thread programs,
watchpoints have only limited usefulness. With the current watchpoint implementation,
GDB can only watch the value of an expression in a <i>single thread</i>.
If you are confident that the expression can only change due to the current
thread’s activity (and if you are also confident that no other thread can
become current), then you can use watchpoints as usual. However, GDB may
not notice when a non-current thread’s activity changes the expression.</font></font></ul>

<hr SIZE=3 WIDTH="100%">
<center><a href="#Top">Top</a>|<a href="gdb.html">Contents</a>|<a href="gdbindex.html">Index</a>|<a href="gdbSetting_breakpoints.html">Previous</a>|<a href="gdbBreakpoints_and_exceptions.html">Next</a></center>

</body>
</html>
