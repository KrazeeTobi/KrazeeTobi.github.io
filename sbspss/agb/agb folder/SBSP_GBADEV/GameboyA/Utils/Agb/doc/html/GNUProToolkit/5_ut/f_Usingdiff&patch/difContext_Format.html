<HTML>
<HEAD>
<TITLE>Context Format</TITLE>
</HEAD><BODY>
<A HREF= "dif.html">Contents</A>|<A HREF= "difindex.html">Index</A>|<A HREF="difShowing_Differences_in_Their_Con.html">Previous</A>|<A HREF="difUnified_Format.html">Next</A>
<P>
<A NAME="off_294912"></A><A NAME="2eb97dd9"></A><FONT FACE="Times New Roman" SIZE="6"><B>Context Format
<P>
</B></FONT><FONT FACE="Times New Roman" SIZE="4">The context output format shows several lines of context around the lines that
differ. It is the standard format for distributing updates to source code. 
<P>
To select this output format, use the '</FONT><FONT FACE="Courier New" SIZE="3">-C <I>lines</I></FONT><FONT FACE="Times New Roman" SIZE="4">', '</FONT><FONT FACE="Courier New" SIZE="3">--context[=<I>lines</I>]</FONT><FONT FACE="Times New Roman" SIZE="4">', or '</FONT><FONT FACE="Courier New" SIZE="3">-c</FONT><FONT FACE="Times New Roman" SIZE="4">' option. The argument </FONT><FONT FACE="Courier New" SIZE="3"><I>lines</I></FONT><FONT FACE="Times New Roman" SIZE="4"> that some of these options take is the number of lines of context to show. If
you do not specify lines,it defaults to three. For proper operation, </FONT><FONT FACE="Courier New" SIZE="3">patch</FONT><FONT FACE="Times New Roman" SIZE="4"> typically needs at least two lines of context.
<P>
</FONT><FONT FACE="Times New Roman" SIZE="5"><B>Detailed Description of Context Format
<P>
</B></FONT><FONT FACE="Times New Roman" SIZE="4">The context output format starts with a two-line header, which looks like the
following.
<P>
</FONT><FONT FACE="Courier New" SIZE="3"><B>*** from-file from-file-modification-time 
<BR>--- to-file to-file-modification time
<P>
</B></FONT><FONT FACE="Times New Roman" SIZE="4">You can change the header's content with the '</FONT><FONT FACE="Courier New" SIZE="3">-L</FONT><FONT FACE="Times New Roman" SIZE="4"> </FONT><FONT FACE="Courier New" SIZE="3"><I>label</I></FONT><FONT FACE="Times New Roman" SIZE="4">' or '</FONT><FONT FACE="Courier New" SIZE="3">--label=<I>label</I></FONT><FONT FACE="Times New Roman" SIZE="4">' option; see </FONT><FONT FACE="Times New Roman" COLOR="#008000" SIZE="4"><A HREF="difShowing_Alternate_File_Names.html">Showing Alternate File Names</A></FONT><FONT FACE="Times New Roman" SIZE="4">. Next come one or more hunks of differences; each hunk shows one area where
the files differ. Context format hunks look like the following.
<P>
</FONT><FONT FACE="Courier New" SIZE="3"><B>*************** 
<BR>*** from-file-line-range **** 
<BR>   from-file-line 
<BR>   from-file-line ...
<BR>--- to-file-line-range ---- 
<BR>   to-file-line
<BR>   to-file-line...
<P>
</B></FONT><FONT FACE="Times New Roman" SIZE="4">The lines of context around the lines that differ start with two space
characters. The lines that differ between the two files start with one of the
following indicator characters, followed by a space character:
<P>
'</FONT><FONT FACE="Courier New" SIZE="3"><B>!</B></FONT><FONT FACE="Times New Roman" SIZE="4">'  
<BR>A line that is part of a group of one or more lines that changed between the
two files. There is a corresponding group of lines marked with '!' in the part
of this hunk for the other file.
<P>
'</FONT><FONT FACE="Courier New" SIZE="3"><B>+</B></FONT><FONT FACE="Times New Roman" SIZE="4">'  
<BR>An &quot;inserted&quot; line in the second file that corresponds to nothing in the first
file.
<P>
'</FONT><FONT FACE="Courier New" SIZE="3"><B>-</B></FONT><FONT FACE="Times New Roman" SIZE="4">'  
<BR>A &quot;deleted&quot; line in the first file that corresponds to nothing in the second
file.
<P>
If all of the changes in a hunk are insertions, the lines of </FONT><FONT FACE="Courier New" SIZE="3"><I>from-file</I></FONT><FONT FACE="Times New Roman" SIZE="4"> are omitted. If all of the changes are deletions, the lines of </FONT><FONT FACE="Courier New" SIZE="3"><I>to-file</I></FONT><FONT FACE="Times New Roman" SIZE="4"> are omitted.
<P>
</FONT><FONT FACE="Times New Roman" SIZE="5"><B>An Example of Context Format
<P>
</B></FONT><FONT FACE="Times New Roman" SIZE="4">The following is the output of '</FONT><FONT FACE="Courier New" SIZE="3">diff -c lao tzu</FONT><FONT FACE="Times New Roman" SIZE="4">' (see </FONT><FONT FACE="Times New Roman" COLOR="#008000" SIZE="4"><A HREF="difTwo_Sample_Input_Files.html">Two Sample Input Files</A></FONT><FONT FACE="Times New Roman" SIZE="4"> for the complete contents of the two files). Notice that up to three lines
that are not different are shown around each line that is different; they are the
context lines. Also notice that the first two hunks have run together, because
their contents overlap.
<P>
</FONT><FONT FACE="Courier New" SIZE="3"><B>*** lao Sat Jan 26 23:30:39 1991 
<BR>--- tzu Sat Jan 26 23:30:50 1991 
<BR>*************** 
<BR>*** 1,7 **** 
<BR>- The Way that can be told of is not the eternal Way; 
<BR>- The name that can be named is not the eternal name.
<BR>   The Nameless is the origin of Heaven and Earth;  
<BR>! The Named is the mother of all things. 
<BR>   Therefore let there always be non-being, 
<BR>    so we may see their subtlety, 
<BR>   And let there always be being, 
<BR>--- 1,6 ---- 
<BR>  The Nameless is the origin of Heaven and Earth; 
<BR>! The named is the mother of all things. 
<BR>! 
<BR>   Therefore let there always be non-being,
<BR>    so we may see their subtlety, 
<BR>   And let there always be being, 
<BR>*************** 
<BR>*** 9,11 **** 
<BR>--- 8,13 ---- 
<BR>   The two are the same, 
<BR>   But after they are produced, 
<BR>      they have different names. 
<BR>+ They both may be called deep and profound. 
<BR>+ Deeper and more profound, 
<BR>+ The door of all subtleties!
<P>
</B></FONT><FONT FACE="Times New Roman" SIZE="5"><B>An Example of Context Format with Less Context
<P>
</B></FONT><FONT FACE="Times New Roman" SIZE="4">Here is the output of 'diff --context=1 lao tzu' (see </FONT><FONT FACE="Times New Roman" COLOR="#008000" SIZE="4"><A HREF="difTwo_Sample_Input_Files.html">Two Sample Input Files</A></FONT><FONT FACE="Times New Roman" SIZE="4"> for the complete contents of the two files). Notice that at most one context
line is reported here.
<P>
</FONT><FONT FACE="Courier New" SIZE="3"><B>*** lao Sat Jan 26 23:30:39 1991 
<BR>--- tzu Sat Jan 26 23:30:50 1991 
<BR>*************** 
<BR>*** 1,5 **** 
<BR>- The Way that can be told of is not the eternal Way; 
<BR>- The name that can be named is not the eternal name. 
<BR>  The Nameless is the origin of Heaven and Earth; 
<BR>! The Named is the mother of all things. 
<BR>  Therefore let there always be non-being, 
<BR>--- 1,4 ---- 
<BR>  The Nameless is the origin of Heaven and Earth; 
<BR>! The named is the mother of all things. 
<BR>! 
<BR>  Therefore let there always be non-being, 
<BR>*************** 
<BR>*** 11 **** 
<BR>--- 10,13 ---- 
<BR>    they have different names. 
<BR>+ They both may be called deep and profound.
<BR>+ Deeper and more profound, 
<BR>+ The door of all subtleties!
<P>
</B></FONT></BODY>
</HTML>