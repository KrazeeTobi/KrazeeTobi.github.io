<HTML>
<HEAD>
   <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
   <META NAME="GENERATOR" CONTENT="Mozilla/4.04 [en] (Win95; I) [Netscape]">
   <TITLE>h8/300 Dependent Features</TITLE>
</HEAD>
<BODY>
<A NAME="Top"></A><A HREF="as.html">Contents</A>|<A HREF="asindex.html">Index</A>|<A HREF="asD10V.html">Previous</A>|<A HREF="ash8500_Dependent_Features.html">Next</A>
<BR><A NAME="off_1180566"></A><A NAME="ddd39d0e"></A><B><FONT FACE="Futura Md BT"><FONT SIZE=+3>H8/300
dependent features</FONT></FONT></B>
<BR>
<HR SIZE=3 WIDTH="100%"><FONT FACE="Times New Roman"><FONT COLOR="#000000"><FONT SIZE=+1>See
the following documentation for the Hitachi H8/300 architecture’s features
and options for the assembler.</FONT></FONT></FONT>
<UL>
<UL>
<UL>
<LI>
<FONT FACE="Times New Roman"><FONT SIZE=+1><FONT COLOR="#008000"><A HREF="ash8300_Dependent_Features.html#6220c9b5">Options
for H8/300</A></FONT><FONT COLOR="#000000"></FONT></FONT></FONT></LI>

<LI>
<FONT FACE="Times New Roman"><FONT SIZE=+1><FONT COLOR="#008000"><A HREF="ash8300_Dependent_Features.html#45aa69a8">Syntax
for H8/300</A></FONT><FONT COLOR="#000000"></FONT></FONT></FONT></LI>

<LI>
<FONT FACE="Times New Roman"><FONT SIZE=+1><FONT COLOR="#008000"><A HREF="ash8300_Dependent_Features.html#3ba9506a">Special
characters for H8/300</A></FONT><FONT COLOR="#000000"></FONT></FONT></FONT></LI>

<LI>
<FONT FACE="Times New Roman"><FONT SIZE=+1><FONT COLOR="#008000"><A HREF="ash8300_Dependent_Features.html#cc3f7c5c">Register
names for H8/300</A></FONT><FONT COLOR="#000000"></FONT></FONT></FONT></LI>

<LI>
<FONT FACE="Times New Roman"><FONT SIZE=+1><FONT COLOR="#008000"><A HREF="ash8300_Dependent_Features.html#71618ff5">Addressing
modes for H8/300</A></FONT><FONT COLOR="#000000"></FONT></FONT></FONT></LI>

<LI>
<FONT FACE="Times New Roman"><FONT SIZE=+1><FONT COLOR="#008000"><A HREF="ash8300_Dependent_Features.html#4f5cc161">Floating
point for H8/300</A></FONT><FONT COLOR="#000000"></FONT></FONT></FONT></LI>

<LI>
<FONT FACE="Times New Roman"><FONT SIZE=+1><FONT COLOR="#008000"><A HREF="ash8300_Dependent_Features.html#dd8c7392">Machine
directives for H8/300</A></FONT><FONT COLOR="#000000"></FONT></FONT></FONT></LI>

<LI>
<FONT FACE="Times New Roman"><FONT SIZE=+1><FONT COLOR="#008000"><A HREF="ash8300_Dependent_Features.html#edced976">Opcodes
for H8/300</A></FONT><FONT COLOR="#000000"></FONT></FONT></FONT></LI>
</UL>
</UL>
</UL>


<P><A NAME="6220c9b5"></A><B><I><FONT FACE="Times New Roman"><FONT SIZE=+2>Options
for H8/300</FONT></FONT></I></B>

<P><FONT COLOR="#000000"><FONT FACE="Courier New"><FONT SIZE=+0>as</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
has no additional command-line options for the Hitachi H8/300 family.</FONT></FONT></FONT>

<P><A NAME="45aa69a8"></A><B><I><FONT FACE="Times New Roman"><FONT SIZE=+2>Syntax
for H8/300</FONT></FONT></I></B>

<P><FONT FACE="Times New Roman"><FONT COLOR="#000000"><FONT SIZE=+1>The
following documentation refers to the syntax for the Hitachi H8/300.</FONT></FONT></FONT>

<P><A NAME="3ba9506a"></A><B><I><FONT FACE="Times New Roman"><FONT SIZE=+2>Special
characters for H8/300</FONT></FONT></I></B>

<P><FONT COLOR="#000000"><B><FONT FACE="Courier New"><FONT SIZE=+0>;</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
is the line comment character.</FONT></FONT></FONT>

<P><FONT COLOR="#000000"><B><FONT FACE="Courier New"><FONT SIZE=+0>$</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
can be used instead of a newline to separate statements. Therefore <I>you
may not use</I> </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>$</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
<I>in symbol names</I> on the H8/300.</FONT></FONT></FONT>

<P><A NAME="cc3f7c5c"></A><B><I><FONT FACE="Times New Roman"><FONT SIZE=+2>Register
names for H8/300</FONT></FONT></I></B>

<P><FONT COLOR="#000000"><FONT FACE="Times New Roman"><FONT SIZE=+1>You
can use predefined symbols of the form </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>r<I>n</I>h</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
and </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>r<I>n</I>l</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
to refer to the H8/300 registers </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>as</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
sixteen 8-bit general-purpose registers. </FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>n</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>
is a digit from </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>0</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
to </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>7</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>);
for instance, both </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>r0h</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
and </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>r7l</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
are valid register names. You can also use the eight predefined symbols
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>r<I>n</I></FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
to refer to the H8/300 registers as 16-bit registers (you must use this
form for addressing). On the H8/300H, you can also use the eight predefined
symbols </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>er<I>n</I></FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
(</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>er0...er7</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>)
to refer to the 32-bit general purpose registers.</FONT></FONT></FONT>

<P><FONT COLOR="#000000"><FONT FACE="Times New Roman"><FONT SIZE=+1>The
two control registers are called </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>pc</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
(program counter; a 16-bit register, except on the H8/300H where it is
24 bits) and </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>ccr</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
(condition code register; an 8-bit register). </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>r7</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
is used as the stack pointer, and can also be called </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>sp</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.</FONT></FONT></FONT>

<P><A NAME="71618ff5"></A><B><I><FONT FACE="Times New Roman"><FONT SIZE=+2>Addressing
modes for H8/300</FONT></FONT></I></B>

<P><FONT COLOR="#000000"><FONT FACE="Courier New"><FONT SIZE=+0>as</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
understands the following addressing modes for the H8/300.</FONT></FONT></FONT>
<BR>&nbsp;
<UL><FONT FACE="Courier New"><FONT SIZE=+0>r<I>n</I></FONT></FONT>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Register direct</FONT></FONT></UL>


<P><FONT FACE="Courier New"><FONT SIZE=+0>@r<I>n</I></FONT></FONT>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Register indirect</FONT></FONT></UL>


<P><FONT FACE="Courier New"><FONT SIZE=+0>@(<I>d</I>, r<I>n</I>)</FONT></FONT>
<BR><FONT FACE="Courier New"><FONT SIZE=+0>@(<I>d</I>:16, r<I>n</I>)</FONT></FONT>
<BR><FONT FACE="Courier New"><FONT SIZE=+0>@(<I>d</I>:24,</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>r<I>n</I>)</FONT></FONT>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Register indirect: 16-bit
or 24-bit displacement, </FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>d</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>,
from register, </FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>n</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>
(24-bit displacements are only meaningful on the H8/300H)</FONT></FONT></UL>


<P><FONT FACE="Courier New"><FONT SIZE=+0>@r<I>n</I>+</FONT></FONT>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Register indirect with post-increment</FONT></FONT></UL>


<P><FONT FACE="Courier New"><FONT SIZE=+0>@-r<I>n</I></FONT></FONT>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Register indirect with pre-decrement</FONT></FONT></UL>


<P><FONT FACE="Courier New"><FONT SIZE=+0>@<I>aa</I></FONT></FONT>
<BR><FONT FACE="Courier New"><FONT SIZE=+0>@<I>aa</I>:8</FONT></FONT>
<BR><FONT FACE="Courier New"><FONT SIZE=+0>@<I>aa</I>:16</FONT></FONT>
<BR><FONT FACE="Courier New"><FONT SIZE=+0>@<I>aa</I>:24</FONT></FONT>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Absolute address, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>aa</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
(the address size, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>:24</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
only makes sense on the H8/300H)</FONT></FONT></UL>
</UL>

<UL><FONT FACE="Courier New"><FONT SIZE=+0>#<I>xx</I></FONT></FONT>
<BR><FONT FACE="Courier New"><FONT SIZE=+0>#<I>xx</I>:8</FONT></FONT>
<BR><FONT FACE="Courier New"><FONT SIZE=+0>#<I>xx</I>:16</FONT></FONT>
<BR><FONT FACE="Courier New"><FONT SIZE=+0>#<I>xx</I>:32</FONT></FONT>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Immediate data, </FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>xx</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>.
Use the ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>:8</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’,
‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>:16</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’,
or ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>:32</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
specifications for clarity, if you wish; but </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>as</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
neither requires this nor uses it—the data size required is taken from
context.</FONT></FONT></UL>


<P><FONT FACE="Courier New"><FONT SIZE=+0>@@<I>aa</I></FONT></FONT>
<BR><FONT FACE="Courier New"><FONT SIZE=+0>@@<I>aa</I>:8</FONT></FONT>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Memory indirect. Use the
‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>:8</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
specification for clarity, if you wish; but </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>as</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
neither requires this nor uses it.</FONT></FONT></UL>
</UL>


<P><A NAME="4f5cc161"></A><B><I><FONT FACE="Times New Roman"><FONT SIZE=+2>Floating
point for H8/300</FONT></FONT></I></B>

<P><FONT COLOR="#000000"><FONT FACE="Times New Roman"><FONT SIZE=+1>The
H8/300 family has no hardware floating point, but the </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>.float</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
directive generates IEEE floating-point numbers for compatibility with
other development tools.</FONT></FONT></FONT>

<P><A NAME="dd8c7392"></A><B><I><FONT FACE="Times New Roman"><FONT SIZE=+2>Machine
directives for H8/300</FONT></FONT></I></B>

<P><FONT COLOR="#000000"><FONT FACE="Courier New"><FONT SIZE=+0>as</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
has only one machine-dependent directive for the H8/300:</FONT></FONT></FONT>
<BR>&nbsp;
<UL><FONT FACE="Courier New"><FONT SIZE=+0>.h8300h</FONT></FONT>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Recognize and emit additional
instructions for the H8/300H variant, and also make </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>.int</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
emit 32-bit numbers rather than the usual (16-bit) for the H8/300 family.</FONT></FONT></UL>
</UL>


<P><FONT COLOR="#000000"><FONT FACE="Times New Roman"><FONT SIZE=+1>For
the H8/300 family (including the H8/300H), </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>.word</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
directives generate 16-bit numbers.</FONT></FONT></FONT>

<P><A NAME="edced976"></A><B><I><FONT FACE="Times New Roman"><FONT SIZE=+2>Opcodes
for H8/300</FONT></FONT></I></B>

<P><FONT FACE="Times New Roman"><FONT COLOR="#000000"><FONT SIZE=+1>For
detailed information on the H8/300 machine instruction set, see <B><I>H8/300
Series Programming Manual</I></B> (Hitachi ADE–602–025).</FONT></FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT COLOR="#000000"><FONT SIZE=+1>For
information specific to the H8/300H, see <B><I>H8/300H Series Programming
Manual</I></B> (from Hitachi).</FONT></FONT></FONT>

<P><FONT COLOR="#000000"><FONT FACE="Courier New"><FONT SIZE=+0>as</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
implements all the standard H8/300 opcodes. No additional pseudo-instructions
are needed on this family.</FONT></FONT></FONT>

<P><FONT COLOR="#000000"><FONT FACE="Times New Roman"><FONT SIZE=+1>Four
H8/300 instructions (</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>add</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>cmp</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>mov</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
and&nbsp; </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>sub</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>)
are defined with variants using the suffixes, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>.b</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>.w</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
and </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>.l</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
to specify the size of a memory operand.</FONT></FONT></FONT>

<P><FONT COLOR="#000000"><FONT FACE="Courier New"><FONT SIZE=+0>as</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
supports these suffixes, but does not require them; since one of the operands
is always a register, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>as</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
can deduce the correct size.</FONT></FONT></FONT>

<P><FONT COLOR="#000000"><FONT FACE="Times New Roman"><FONT SIZE=+1>For
instance, since </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>r0</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
refers to a 16-bit register, note the distinctions in the following examples.</FONT></FONT></FONT>
<UL>
<UL><FONT FACE="Courier New"><FONT SIZE=+0>mov&nbsp;&nbsp; r0,@foo</FONT></FONT>

<P><FONT FACE="Courier New"><FONT SIZE=+0>mov&nbsp;&nbsp; w r0,@foo</FONT></FONT></UL>
</UL>
<FONT COLOR="#000000"><FONT FACE="Times New Roman"><FONT SIZE=+1>If you
use the size suffixes, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>as</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
issues a warning when the suffix and the register size do not match.</FONT></FONT></FONT>
<CENTER>
<HR SIZE=3 WIDTH="100%"></CENTER>

<CENTER><A HREF="#Top">Top</A>|<A HREF="as.html">Contents</A>|<A HREF="asindex.html">Index</A>|<A HREF="asD10V.html">Previous</A>|<A HREF="ash8500_Dependent_Features.html">Next</A></CENTER>

</BODY>
</HTML>
