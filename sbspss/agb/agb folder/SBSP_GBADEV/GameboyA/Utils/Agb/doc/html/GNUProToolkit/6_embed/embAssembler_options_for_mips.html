<HTML>
<HEAD>
   <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
   <META NAME="GENERATOR" CONTENT="Mozilla/4.04 [en] (Win95; I) [Netscape]">
   <TITLE>Assembler options for mips</TITLE>
</HEAD>
<BODY>
<A NAME="Top"></A><A HREF="emb.html">Contents</A>|<A HREF="embindex.html">Index</A>|<A HREF="embPredefined_preprocessor_macros_f.html">Previous</A>|<A HREF="embDebugging_on_mips_targets.html">Next</A>
<BR><A NAME="off_623791"></A><A NAME="2f0a1a58"></A><A NAME="off_623791"></A><A NAME="2f0a1a58"></A><A NAME="off_623791"></A><A NAME="2f0a1a58"></A><A NAME="off_623791"></A><A NAME="2f0a1a58"></A><A NAME="off_623791"></A><A NAME="2f0a1a58"></A><FONT FACE="Futura Md BT"><FONT COLOR="#000000"><B><FONT SIZE=+3>Assembler
options for MIPS&nbsp;</FONT></B>&nbsp;</FONT></FONT>
<HR SIZE=6 WIDTH="100%">
<BR><FONT FACE="Times New Roman"><FONT SIZE=+1>The following documentation
discusses the assembler options for MIPS.</FONT></FONT>
<UL>
<UL>
<UL>
<LI>
<FONT SIZE=+1><A HREF="#Assembler_options_listing_output_MIPS">Assembler
options for listing output for MIPS</A></FONT></LI>

<LI>
<FONT SIZE=+1><A HREF="#Assembler_listing-control_directives_MIPS">Assembler
listing-control directives for MIPS</A></FONT></LI>

<LI>
<FONT SIZE=+1><A HREF="#options">Assembler options for MIPS</A></FONT></LI>

<LI>
<FONT SIZE=+1><A HREF="#Assembler_directives_debugging_information_MIPS">Assembler
directives for debugging information for MIPS</A></FONT></LI>

<LI>
<FONT SIZE=+1><A HREF="#ECOFF">MIPS ECOFF object code</A></FONT></LI>

<LI>
<FONT SIZE=+1><A HREF="#ECOFF_object_code">Options for MIPS ECOFF object
code</A></FONT></LI>

<LI>
<FONT SIZE=+1><A HREF="#directives_ ECOFF_object_code">Directives for MIPS
ECOFF object code</A></FONT></LI>

<LI>
<FONT SIZE=+1><A HREF="#Registers">Registers used for integer arguments
for MIPS</A></FONT></LI>

<LI>
<FONT SIZE=+1><A HREF="#Registers_floating_point">Registers used for floating-point
arguments for MIPS</A></FONT></LI>

<LI>
<FONT SIZE=+1><A HREF="#integer_arguments">Calling conventions used for
integer arguments for MIPS</A></FONT></LI>

<LI>
<FONT SIZE=+1><A HREF="#float-point_argument_calling_conventions">Calling
conventions used for floating-point arguments for MIPS</A></FONT></LI>
</UL>
</UL>
</UL>
<FONT FACE="Times New Roman"><FONT SIZE=+1>To use the GNU assembler, </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>as</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>,
to assemble </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>gcc</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
output, configure </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>gcc</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
with the switch, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>--with-gnu-as</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
(in GNUPro Toolkit distributions) or with the option, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-mgas</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.
The assembler for MIPS architecture supports the MIPS R2000, R3000, and
R4000 processors.</FONT></FONT>
<UL><FONT FACE="Courier New"><FONT SIZE=+0>-mgas</FONT></FONT>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Compile using </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>as</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
to assemble GCC output.</FONT></FONT>
<BR><FONT FACE="Times New Roman"><FONT SIZE=+1></FONT></FONT>&nbsp;</UL>
<FONT FACE="Courier New"><FONT SIZE=+0>-Wa</FONT></FONT>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>If you invoke </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>as</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
through the GNU C compiler (version 2), you can use the </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-Wa</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
option to pass arguments through to the assembler. One common use of this
option is to exploit the assembler’s listing features. Assembler arguments
that you specify with </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>gcc</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-Wa</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
must be separated from each other (and the </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-Wa</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>)
by commas.</FONT></FONT>
<BR><FONT FACE="Times New Roman"><FONT SIZE=+1></FONT></FONT>&nbsp;</UL>
<FONT FACE="Courier New"><FONT SIZE=+0>-L</FONT></FONT>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>The additional assembler
option </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-L</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
preserves local labels, which may make the listing output more intelligible
to humans. For example, in the following commandline, the assembler option,
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-ahl</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
requests a listing with interspersed high-level language and assembly language.</FONT></FONT></UL>
&nbsp;
<UL>
<UL>
<PRE><FONT FACE="Courier New"><FONT SIZE=+1>$ h8300-hms-gcc -c -g -O -Wa,-alh,-L file.c</FONT></FONT></PRE>
</UL>
<FONT FACE="Courier New"><FONT SIZE=+0>-L</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
preserves local labels, while the compiler debugging option, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-g</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
gives the assembler the necessary debugging information.</FONT></FONT></UL>
&nbsp;</UL>
<A NAME="Assembler_options_listing_output_MIPS"></A><FONT FACE="Times New Roman,Times"><B><I><FONT SIZE=+2>Assembler
options for listing output for MIPS</FONT></I></B></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>Use the following options
to enable <I>listing output</I> from the assembler (the letters after </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-a</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
may be combined into one option, such as </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-aln</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>):</FONT></FONT>
<UL><FONT FACE="Courier New"><FONT SIZE=+0>-a</FONT></FONT>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>By itself, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-a</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
requests listings of high-level language source, assembly language, and
symbols.</FONT></FONT>
<BR><FONT FACE="Times New Roman"><FONT SIZE=+1></FONT></FONT>&nbsp;</UL>
<FONT FACE="Courier New"><FONT SIZE=+0>-ah</FONT></FONT>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Requests a high-level language
listing.</FONT></FONT>
<BR><FONT FACE="Times New Roman"><FONT SIZE=+1></FONT></FONT>&nbsp;</UL>
<FONT FACE="Courier New"><FONT SIZE=+0>-al</FONT></FONT>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Requests an output-program
assembly listing.</FONT></FONT>
<BR><FONT FACE="Times New Roman"><FONT SIZE=+1></FONT></FONT>&nbsp;</UL>
<FONT FACE="Courier New"><FONT SIZE=+0>-as</FONT></FONT>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Requests a symbol table
listing.</FONT></FONT>
<BR><FONT FACE="Times New Roman"><FONT SIZE=+1></FONT></FONT>&nbsp;</UL>
<FONT FACE="Courier New"><FONT SIZE=+0>-ad</FONT></FONT>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1><I>Omits</I> debugging directives
from the listing.</FONT></FONT></UL>
</UL>
<FONT FACE="Times New Roman"><FONT SIZE=+1>High-level listings require
using a compiler debugging option like </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-g</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
and assembly listings (</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-al</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>)
also need to be requested.</FONT></FONT>

<P><A NAME="Assembler_listing-control_directives_MIPS"></A><FONT FACE="Times New Roman,Times"><B><I><FONT SIZE=+2>Assembler
listing-control directives for MIPS</FONT></I></B></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>Use the following <I>listing-control</I>
assembler directives to control the appearance of the listing output (if
you do not request listing output with one of the </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-a</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
options, the following listing-control directives have no effect).</FONT></FONT>
<BR>&nbsp;
<UL><FONT FACE="Courier New"><FONT SIZE=+0>.list</FONT></FONT>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Turn on listings from this
point on.</FONT></FONT>
<BR><FONT FACE="Times New Roman"><FONT SIZE=+1></FONT></FONT>&nbsp;</UL>
<FONT FACE="Courier New"><FONT SIZE=+0>.nolist</FONT></FONT>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Turn off listings from this
point on.</FONT></FONT>
<BR><FONT FACE="Times New Roman"><FONT SIZE=+1></FONT></FONT>&nbsp;</UL>
<FONT FACE="Courier New"><FONT SIZE=+0>.psize <I>linecount</I>, <I>columnwidth</I></FONT></FONT>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Describe the page size for
your output (the default is 60, 200). </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>as</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
generates form feeds after printing each group of </FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>linecount</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>
lines. To avoid these automatic form feeds, specify </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>0</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
as the </FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>linecount</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>.</FONT></FONT>
<BR><FONT FACE="Times New Roman"><FONT SIZE=+1></FONT></FONT>&nbsp;</UL>
<FONT FACE="Courier New"><FONT SIZE=+0>.eject</FONT></FONT>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Skip to a new page (issue
a form feed).</FONT></FONT>
<BR><FONT FACE="Times New Roman"><FONT SIZE=+1></FONT></FONT>&nbsp;</UL>
<FONT FACE="Courier New"><FONT SIZE=+0>.title</FONT></FONT>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Use </FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>heading</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>
as the title (this is the second line of the listing output, directly after
the source file name and page number) when generating assembly listings.</FONT></FONT>

<P>&nbsp;</UL>
<FONT FACE="Courier New"><FONT SIZE=+0>.sbttl</FONT></FONT>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Use </FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>subheading</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>
as the subtitle (this is the third line of the listing output, directly
after the title line) when generating assembly listings.</FONT></FONT>
<BR><FONT FACE="Times New Roman"><FONT SIZE=+1></FONT></FONT>&nbsp;</UL>
<FONT FACE="Courier New"><FONT SIZE=+0>-an</FONT></FONT>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Turn off all forms processing.</FONT></FONT>
<BR><FONT FACE="Times New Roman"><FONT SIZE=+1></FONT></FONT>&nbsp;</UL>
</UL>
<A NAME="options"></A><FONT FACE="Times New Roman,Times"><B><I><FONT SIZE=+2>Assembler
options for MIPS</FONT></I></B></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>The MIPS configurations of
</FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>as</FONT></FONT></B><FONT SIZE=+1><FONT FACE="Times New Roman">
support three special options, and accept one other for command-line compatibility.
See <A HREF="../5_ut/a_Using_AS/asCommandLine_Options.html">Command-line
options</A> in <I><A HREF="../5_ut/a_Using_AS/as.html">Using </A></I></FONT><I><TT><A HREF="../5_ut/a_Using_AS/as.html">as</A></TT></I><FONT FACE="Times New Roman">
in <B><I>GNUPro Utilities</I></B> for information on the command-line options
available with all configurations of the GNU assembler.</FONT></FONT>
<BR>&nbsp;
<UL><FONT FACE="Courier New"><FONT SIZE=+0>-G <I>num</I></FONT></FONT>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>This option sets the largest
size of an object that will be referenced implicitly with the </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>gp</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
register. It is only accepted for targets that use ECOFF format. The default
value is 8.</FONT></FONT>
<BR><FONT FACE="Times New Roman"><FONT SIZE=+1></FONT></FONT>&nbsp;</UL>
<FONT FACE="Courier New"><FONT SIZE=+0>-EB</FONT></FONT>
<BR><FONT FACE="Courier New"><FONT SIZE=+0>-EL</FONT></FONT>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Any MIPS configuration of
</FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>as</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
can select big-endian or little-endian output at run time (unlike the other
GNU development tools, which must be configured for one or the other).
Use </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-EB</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
to select big-endian output, and </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-EL</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
for little-endian.</FONT></FONT>
<BR><FONT FACE="Times New Roman"><FONT SIZE=+1></FONT></FONT>&nbsp;</UL>
<FONT FACE="Courier New"><FONT SIZE=+0>-nocpp</FONT></FONT>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>This option is ignored.
It is accepted for command-line compatibility with other assemblers, which
use it to turn off C style preprocessing. With the GNU assembler, there
is no need for </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-nocpp</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
because the GNU assembler itself never runs the C preprocessor.</FONT></FONT>
<BR><FONT FACE="Times New Roman"><FONT SIZE=+1></FONT></FONT>&nbsp;</UL>
</UL>
<A NAME="Assembler_directives_debugging_information_MIPS"></A><FONT FACE="Times New Roman,Times"><B><I><FONT SIZE=+2>Assembler
directives for debugging information for MIPS</FONT></I></B></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>MIPS ECOFF </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>as</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
supports several directives used for generating debugging information which
are not supported by traditional MIPS assemblers:</FONT></FONT>
<PRE><FONT FACE="Courier New"><FONT SIZE=+1>&nbsp;&nbsp;&nbsp; .def&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .endef&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .dim&nbsp;
&nbsp;&nbsp;&nbsp; .file&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .scl&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .size&nbsp;
&nbsp;&nbsp;&nbsp; .tag&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .val&nbsp;
&nbsp;&nbsp;&nbsp; .stabd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .stabn&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .stabs</FONT></FONT></PRE>
<FONT FACE="Times New Roman"><FONT SIZE=+1>The debugging information generated
by the three </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>.stab</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
directives can only be read by </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>gdb</FONT></FONT></B><FONT SIZE=+1><FONT FACE="Times New Roman">,
not by traditional MIPS debuggers (this enhancement is required to fully
support C++ debugging). These directives are primarily used by compilers,
not assembly language programmers. See <A HREF="../5_ut/a_Using_AS/asAssembler_Directives.html">Assembler
directives</A> in <A HREF="../5_ut/a_Using_AS/as.html"><I>Using </I></A></FONT><TT><A HREF="../5_ut/a_Using_AS/as.html">as</A></TT><FONT FACE="Times New Roman">
in <B><I>GNUPro</I> <I>Utilities</I> </B>for full information on all GNU
assembler directives.</FONT></FONT>

<P><A NAME="ECOFF"></A><FONT FACE="Times New Roman,Times"><B><FONT SIZE=+2><I>MIPS
</I>ECOFF <I>object code</I></FONT></B></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1></FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>The assembler supports some
additional sections for a MIPS ECOFF target besides the usual </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>.text</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>.data</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
and </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>.bss</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.
The additional sections are:</FONT></FONT>
<UL><FONT FACE="Courier New"><FONT SIZE=+0>.rdata</FONT></FONT>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>For readonly data</FONT></FONT>
<BR><FONT FACE="Times New Roman"><FONT SIZE=+1></FONT></FONT>&nbsp;</UL>
<FONT FACE="Courier New"><FONT SIZE=+0>.sdata</FONT></FONT>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>For small data</FONT></FONT>
<BR><FONT FACE="Times New Roman"><FONT SIZE=+1></FONT></FONT>&nbsp;</UL>
<FONT FACE="Courier New"><FONT SIZE=+0>.sbss</FONT></FONT>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>For small common objects.
When assembling for ECOFF, the assembler uses the </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>$gp
($28)</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1> register
to form the address of a <I>small object</I>. Any object in the </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>.sdata</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
or </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>.sbss</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
section is considered small in this sense. Using small ECOFF objects requires
linker support, and assumes that the </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>$gp</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
register has been correctly initialized (normally done automatically by
the startup code).</FONT></FONT>
<BR><FONT FACE="Times New Roman"><FONT SIZE=+1></FONT></FONT>&nbsp;</UL>
&nbsp;
<UL>
<UL><B><FONT FACE="Times New Roman"><FONT SIZE=+1><I>Note</I>:</FONT></FONT></B>
<BR><FONT FACE="Times New Roman"><FONT SIZE=+1>MIPS ECOFF assembly code
must not modify the </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>$gp</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
register.</FONT></FONT></UL>
</UL>
</UL>
<A NAME="ECOFF_object_code"></A><FONT FACE="Times New Roman,Times"><B><FONT SIZE=+2><I>Options
for MIPS </I>ECOFF <I>object code</I></FONT></B></FONT>
<UL>
<UL><FONT FACE="Courier New"><FONT SIZE=+0>gcc -G</FONT></FONT>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>For external objects, or
for objects in the </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>.bss</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
section, you can use the </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>gcc</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-G</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
option to control the size of objects addressed via </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>$gp</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>;
the default value is </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>8</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
meaning that a reference to any object eight bytes or smaller will use
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>$gp</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.</FONT></FONT></UL>
<FONT FACE="Courier New"><FONT SIZE=+0>-G 0</FONT></FONT>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>Passing </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-G
0</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1> to </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>as</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
prevents </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>as</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
from using the </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>$gp</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
register on the basis of object size (the assembler uses </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>$gp</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
for objects in </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>.sdata</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
or </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>.sbss</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
in any case).</FONT></FONT></UL>
</UL>
</UL>
<A NAME="directives_ ECOFF_object_code"></A><FONT FACE="Times New Roman,Times"><B><FONT SIZE=+2><I>Directives
for MIPS </I>ECOFF <I>object code</I></FONT></B></FONT>
<UL><FONT FACE="Courier New"><FONT SIZE=+0>.comm</FONT></FONT>
<BR><FONT FACE="Courier New"><FONT SIZE=+0>.lcomm</FONT></FONT>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>The size of an object in
the </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>.bss</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
section is set by the </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>.comm</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
or </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>.lcomm</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
directive that defines it.</FONT></FONT></UL>
<FONT FACE="Courier New"><FONT SIZE=+0>.extern</FONT></FONT>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>The size of an external
object may be set with the </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>.extern</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
directive. Use the following input, for example.</FONT></FONT></UL>
</UL>

<UL>
<UL>
<UL>
<PRE><FONT FACE="Courier New"><FONT SIZE=+1>.extern sym, 4</FONT></FONT></PRE>
</UL>
<FONT FACE="Times New Roman"><FONT SIZE=+1>This directive declares that
the object at </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>sym</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
is 4 bytes in length, while leaving </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>sym</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
otherwise undefined.</FONT></FONT></UL>
</UL>
<A NAME="Registers"></A><FONT FACE="Times New Roman,Times"><B><I><FONT SIZE=+2>Registers
used for integer arguments for MIPS</FONT></I></B></FONT>
<BR>&nbsp;
<BR><FONT FACE="Times New Roman"><FONT SIZE=+1>Arguments on MIPS architectures
are not split, so that if a double word argument starts in </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>R7</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
the entire word gets pushed onto the stack instead of being split between
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>R7</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
and the stack.</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1></FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>If the first argument is
an integer, the MIPS uses the following registers for all arguments.</FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>The following calling convention
for MIPS architectures depends on whether or not hardware floating-point
is installed. Even if it is, the MIPS uses the registers for integer arguments
<I>whenever</I> the first argument is an integer.</FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>The MIPS uses the registers
for floating-point arguments only for floating-point arguments and only
if the <I>first</I> argument is a floating point.</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1></FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>The following calling convention
for the MIPS also depends on whether you are using standard 32-bit mode
or 64-bit mode; 32-bit mode only allows the MIPS to use even numbered registers,
while 64-bit mode allows the MIPS to use both odd and even numbered registers.</FONT></FONT>
<UL TYPE=SQUARE>
<UL TYPE=SQUARE>
<LI>
<FONT FACE="Times New Roman"><FONT SIZE=+1>The MIPS passes the first four
words of arguments in registers </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>R4</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
through </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>R7</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
which are also called registers </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>A0</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
through </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>A3</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.</FONT></FONT></LI>

<LI>
<FONT FACE="Times New Roman"><FONT SIZE=+1>If the function return values
are integers, they are stored in </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>R2</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
and </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>R3</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.</FONT></FONT></LI>
</UL>
</UL>

<UL>
<UL>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1><I>Note</I>:</FONT></FONT>
<BR><FONT FACE="Times New Roman"><FONT SIZE=+1>Functions compiled with
different calling conventions cannot be run together without some care.</FONT></FONT></UL>
</UL>
</UL>
<A NAME="Registers_floating_point"></A><FONT FACE="Times New Roman,Times"><B><I><FONT SIZE=+2>Registers
used for floating-point arguments for MIPS</FONT></I></B></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1></FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>If the first argument is
a floating-point, the MIPS uses the following registers for floating-point
arguments.</FONT></FONT>
<UL TYPE=SQUARE>
<UL TYPE=SQUARE>
<LI>
<FONT FACE="Times New Roman"><FONT SIZE=+1>In 32-bit mode, the MIPS passes
the first four words of arguments in registers </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>F12</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
and </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>F14</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.</FONT></FONT></LI>

<LI>
<FONT FACE="Times New Roman"><FONT SIZE=+1>In 64-bit mode, the MIPS passes
the first four words of arguments in registers </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>F12</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
through </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>F15</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.</FONT></FONT></LI>
</UL>
<FONT FACE="Times New Roman"><FONT SIZE=+1>If the function return value
is a floating-point, it’s stored in </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>F0</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.</FONT></FONT></UL>
<A NAME="integer_arguments"></A><FONT FACE="Times New Roman,Times"><B><I><FONT SIZE=+2>Calling
conventions used for integer arguments for MIPS</FONT></I></B></FONT>
<BR>&nbsp;
<BR><FONT FACE="Times New Roman"><FONT SIZE=+1>The following conventions
apply to integer arguments.</FONT></FONT>

<P><FONT FACE="Courier New"><FONT SIZE=+0>R0</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
is hardwired to the value </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>0</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>R1</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
which is also called </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>AT</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
is reserved as the assembler’s temporary register. </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>R26</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
through </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>R29</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
and </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>R31</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
have reserved uses. Registers </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>R2</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
through </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>R15</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>R24</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
and </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>R25</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
can be used for temporary values.</FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>When a function is compiled
with the default options, it must return with </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>R16</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
through </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>R23</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
and </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>R30</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
unchanged.</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1></FONT></FONT>

<P><A NAME="float-point_argument_calling_conventions"></A><FONT FACE="Times New Roman,Times"><B><I><FONT SIZE=+2>Calling
conventions used for floating-point arguments for MIPS</FONT></I></B></FONT>
<BR>&nbsp;
<BR><FONT FACE="Times New Roman"><FONT SIZE=+1>The following conventions
apply to floating-point arguments.</FONT></FONT> <FONT FACE="Times New Roman"><FONT SIZE=+1>None
of the registers has a reserved use.</FONT></FONT>
<UL>
<UL>
<UL>
<LI>
<FONT FACE="Times New Roman"><FONT SIZE=+1>In 32-bit mode, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>F0</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
through </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>F18</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
can be used for temporary values. When a function is compiled with the
default options, it must return with </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>F20</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
through </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>F30</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
unchanged.</FONT></FONT></LI>

<LI>
<FONT FACE="Times New Roman"><FONT SIZE=+1>In 64-bit mode, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>F0</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
through </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>F19</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
can be used for temporary values. When a function is compiled with the
default options, it must return with </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>F20</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
through </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>F31</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
unchanged.</FONT></FONT></LI>
</UL>
</UL>
</UL>

<CENTER>
<HR SIZE=3 WIDTH="100%"></CENTER>

<CENTER><A HREF="#Top">Top</A>|<A HREF="emb.html">Contents</A>|<A HREF="embindex.html">Index</A>|<A HREF="embPredefined_preprocessor_macros_f.html">Previous</A>|<A HREF="embDebugging_on_mips_targets.html">Next</A></CENTER>

</BODY>
</HTML>
