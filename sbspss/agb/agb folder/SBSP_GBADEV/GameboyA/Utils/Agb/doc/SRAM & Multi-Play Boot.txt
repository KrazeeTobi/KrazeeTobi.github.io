Attention Software Developers working with SRAM, Multi-play Boot and Multiple Interrupts:

Under [Support Level 3 (2a) ] in [Important Notice for Developers using 
SRAM for Back-up Data], we informed you about changes being made
due to multiple interrupts to allow the Game Pak interrupt. However, in this state 
Game Pak interrupts are still allowed after a multi-play boot even if the Game 
Pak is not inserted.

For any applicable program, use one of the following methods in crt0.s / intr_main().

[Simplified Support 1]

jump_intr:
  strh  r0,  [r3, #2]    @ Clear IF  26c
  ldrh  r0,  [r3]    @ Set IE  <- Select Multiple Interrupts
  ldr  r1,  =CASSETTE_INTR_FLAG | TIMER0_INTR_FLAG
  and  r1,  r1,  r0
  strh  r1,  [r3]


[Simplified Support 2 (Download Program Only)]

jump_intr:
  strh  r0, [r3, #2]    @ Clear IF 22c
  ldr  r1, =TIMER0_INTR_FLAG    @ Set IE <- Select Multiple Interrupts
  strh  r1, [r3]


[More Effective Method]


intr_main:
  mov  r3,  #REG_BASE    @ Read IE/IF
  add  r3,  r3,  #OFFSET_REG_IE    @ r3: REG_IE
  ldr  r12,  [r3]    @ r12: IF|IE
  mrs  r0, spsr    @ Save Register (IRQ Mode)
  stmfd  sp!, {r0, r3, r12, lr}    @ {spsr, REG_IE, IF|IE, lr}

  and  r1, r12, r12, lsr #16    @ Check IE/IF
jump_intr:
  strh  r0, [r3, #2]    @ Clear IF 23c  @ Set IE <- Select Multiple Interrupts
  ldr  r1,  =CASSETTE_INTR_FLAG | TIMER0_INTR_FLAG
  and  r1, r1, r12
  strh  r1, [r3]

@------------------------------------------------IRQ Mode
  ldmfd  sp!, {r0, r3, r12, lr}    @ Return to register (IRQ Mode)
  strh  r12, [r3]    @ {spsr, REG_IE, IF|IE, lr}
