<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
   <TITLE>strtol[string to long]</TITLE>
   <META NAME="GENERATOR" CONTENT="Mozilla/3.01Gold (Win95; I) [Netscape]">
</HEAD>
<BODY>

<P><A HREF="libc.html">Contents</A>|<A HREF="libcindex.html">Index</A>|<A HREF="libcstrtod_strtodfstring_to_double_o.html">Previous</A>|<A HREF="libcstrtoulstring_to_unsigned_long.html">Next</A>
</P>

<P><A NAME="off_395802"></A><A NAME="d067277b"></A><A NAME="off_395802"></A><A NAME="d067277b"></A><A NAME="off_395802"></A><A NAME="d067277b"></A><FONT SIZE=+3><FONT FACE="Courier New">strtol
<BR>
</FONT><FONT FACE="Times New Roman">[string to long] </FONT></FONT></P>

<PRE><B><FONT FACE="Times New Roman"><FONT SIZE=+2>SYNOPSIS 
</FONT></FONT></B><FONT FACE="Courier New"><FONT SIZE=+1>#include &lt;stdlib.h&gt; 
long strtol(const char *<I>s</I>, char ** <I>ptr</I>,int <I>base</I>); 

long _strtol_r(void *<I>reent</I>, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const char *<I>s</I>, char ** <I>ptr</I>,int <I>base</I>); </FONT></FONT></PRE>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1><B>DESCRIPTION <BR>
</B>The function, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>strtol</FONT></FONT><FONT SIZE=+1><FONT FACE="Times New Roman">,</FONT><FONT FACE="Courier">
</FONT><FONT FACE="Times New Roman">converts the string, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>*<I>s</I></FONT></FONT><FONT SIZE=+1><FONT FACE="Times New Roman">,</FONT><FONT FACE="Courier">
</FONT><FONT FACE="Times New Roman">to a </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>long</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.
First, it breaks down the string into three parts: leading whitespace,
which is ignored, a subject string consisting of characters resembling
an integer in the radix specified by </FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>base</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>;
and a trailing portion consisting of zero or more unparseable characters;
it always includes the terminating null character. Then, it attempts to
convert the subject string into a </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>long</FONT></FONT><FONT SIZE=+1><FONT FACE="Courier">
</FONT><FONT FACE="Times New Roman">and returns the result. </FONT></FONT></P>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>If the value of </FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>base</FONT></FONT></I><FONT SIZE=+1><FONT FACE="Courier">
</FONT><FONT FACE="Times New Roman">is </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>0</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
the subject string is expected to look like a normal C integer constant:
an optional sign, a possible </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>0x</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
indicating a hexadecimal base, and a number. If </FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>base</FONT></FONT></I><FONT SIZE=+1><FONT FACE="Courier">
</FONT><FONT FACE="Times New Roman">is between 2 and 36, the expected form
of the subject is a sequence of letters and digits representing an integer
in the radix specified by </FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>base</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>,
with an optional plus or minus sign. The letters </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>a</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>–</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>z</FONT></FONT><FONT SIZE=+1><FONT FACE="Courier">
</FONT><FONT FACE="Times New Roman">(or, equivalently, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>A</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>–</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>Z</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>)
are used to signify values from 10 to 35; only letters whose ascribed values
are less than </FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>base
</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>are permitted.
If </FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>base</FONT></FONT></I><FONT SIZE=+1><FONT FACE="Courier">
</FONT><FONT FACE="Times New Roman">is 16, a leading </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>0x</FONT></FONT><FONT SIZE=+1><FONT FACE="Courier">
</FONT><FONT FACE="Times New Roman">is permitted. </FONT></FONT></P>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>The subject sequence is the
longest initial sequence of the input string that has the expected form,
starting with the first non-whitespace character. If the string is empty
or consists entirely of whitespace, or if the first non-whitespace character
is not a permissible letter or digit, the subject string is empty. </FONT></FONT></P>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>If the subject string is
acceptable, and the value of </FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>base</FONT></FONT></I><FONT SIZE=+1><FONT FACE="Courier">
</FONT><FONT FACE="Times New Roman">is zero, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>strtol</FONT></FONT><FONT SIZE=+1><FONT FACE="Courier">
</FONT><FONT FACE="Times New Roman">attempts to determine the radix from
the input string. A string with a leading </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>0x</FONT></FONT><FONT SIZE=+1><FONT FACE="Courier">
</FONT><FONT FACE="Times New Roman">is treated as a hexadecimal value;
a string with a leading </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>0</FONT><FONT SIZE=-1>
</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>and no </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>x</FONT></FONT><FONT SIZE=+1><FONT FACE="Courier">
</FONT><FONT FACE="Times New Roman">is treated as octal; all other strings
are treated as decimal. If </FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>base</FONT></FONT></I><FONT SIZE=+1><FONT FACE="Courier">
</FONT><FONT FACE="Times New Roman">is between 2 and 36, it is used as
the conversion radix, as described in . If the subject string begins with
a minus sign, the value is negated. Finally, a pointer to the first character
past the converted subject string is stored in </FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>ptr</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>,
if </FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>ptr</FONT></FONT></I><FONT SIZE=+1><FONT FACE="Courier">
</FONT><FONT FACE="Times New Roman">is not </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>NULL</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.
</FONT></FONT></P>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>If the subject string is
empty (or not in acceptable form), no conversion is performed and the value
of </FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>s</FONT></FONT></I><FONT SIZE=+1><FONT FACE="Courier">
</FONT><FONT FACE="Times New Roman">is stored in </FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>ptr</FONT></FONT></I><FONT SIZE=+1><FONT FACE="Courier">
</FONT><FONT FACE="Times New Roman">(if </FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>ptr</FONT></FONT></I><FONT SIZE=+1><FONT FACE="Courier">
</FONT><FONT FACE="Times New Roman">is not </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>NULL</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>).
</FONT></FONT></P>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>The alternate function, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>_strtol_r</FONT></FONT><FONT SIZE=+1><FONT FACE="Times New Roman">,</FONT><FONT FACE="Courier">
</FONT><FONT FACE="Times New Roman">is a reentrant version. The extra argument,
</FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>reent</FONT></FONT></I><FONT SIZE=+1><FONT FACE="Times New Roman">,</FONT><FONT FACE="Courier">
</FONT><FONT FACE="Times New Roman">is a pointer to a reentrancy structure.
</FONT></FONT></P>

<P><B><FONT FACE="Times New Roman"><FONT SIZE=+1>RETURNS <BR>
</FONT></FONT></B><FONT FACE="Courier New"><FONT SIZE=+0>strtol</FONT></FONT><FONT SIZE=+1><FONT FACE="Courier">
</FONT><FONT FACE="Times New Roman">returns the converted value, if any.
If no conversion was made, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>0</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
is returned. </FONT></FONT></P>

<P><FONT FACE="Courier New"><FONT SIZE=+0>strtol</FONT></FONT><FONT SIZE=+1><FONT FACE="Courier">
</FONT><FONT FACE="Times New Roman">returns </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>LONG_MAX</FONT></FONT><FONT SIZE=+1><FONT FACE="Courier">
</FONT><FONT FACE="Times New Roman">or </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>LONG_MIN</FONT></FONT><FONT SIZE=+1><FONT FACE="Courier">
</FONT><FONT FACE="Times New Roman">if the magnitude of the converted value
is too large, and sets </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>errno</FONT></FONT><FONT SIZE=+1><FONT FACE="Courier">
</FONT><FONT FACE="Times New Roman">to </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>ERANGE</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.
</FONT></FONT></P>

<P><B><FONT FACE="Times New Roman"><FONT SIZE=+1>COMPLIANCE <BR>
</FONT></FONT></B><FONT FACE="Courier New"><FONT SIZE=+0>strtol</FONT></FONT><FONT SIZE=+1><FONT FACE="Courier">
</FONT><FONT FACE="Times New Roman">is ANSI. <BR>
No supporting OS subroutines are required. </FONT></FONT></P>

</BODY>
</HTML>
