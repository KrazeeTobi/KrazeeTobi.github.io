<HTML>
<HEAD>
   <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
   <META NAME="GENERATOR" CONTENT="Mozilla/4.04 [en] (Win95; I) [Netscape]">
   <TITLE>Nonstandard Predefined Macros</TITLE>
</HEAD>
<BODY>
<A NAME="Top"></A><A HREF="cpp.html">Contents</A>|<A HREF="cppindex.html">Index</A>|<A HREF="cppStandard_Predefined_Macros.html">Previous</A>|<A HREF="cppStringification.html">Next</A>
<BR><A NAME="off_362198"></A><A NAME="88ef92cf"></A><A NAME="off_362198"></A><A NAME="88ef92cf"></A><A NAME="off_362198"></A><A NAME="88ef92cf"></A><A NAME="off_362198"></A><A NAME="88ef92cf"></A><A NAME="off_362198"></A><A NAME="88ef92cf"></A><A NAME="off_362198"></A><A NAME="88ef92cf"></A><A NAME="off_362198"></A><A NAME="88ef92cf"></A><A NAME="off_362198"></A><A NAME="88ef92cf"></A><A NAME="off_362198"></A><A NAME="88ef92cf"></A><A NAME="off_362198"></A><A NAME="88ef92cf"></A><A NAME="off_362198"></A><A NAME="88ef92cf"></A><A NAME="off_362198"></A><A NAME="88ef92cf"></A><A NAME="off_362198"></A><A NAME="88ef92cf"></A><A NAME="off_362198"></A><A NAME="88ef92cf"></A><A NAME="off_362198"></A><A NAME="88ef92cf"></A><A NAME="off_362198"></A><A NAME="88ef92cf"></A><A NAME="off_362198"></A><A NAME="88ef92cf"></A><A NAME="off_362198"></A><A NAME="88ef92cf"></A><A NAME="off_362198"></A><A NAME="88ef92cf"></A><A NAME="off_362198"></A><A NAME="88ef92cf"></A><A NAME="off_362198"></A><A NAME="88ef92cf"></A><A NAME="off_362198"></A><A NAME="88ef92cf"></A><A NAME="off_362198"></A><A NAME="88ef92cf"></A><A NAME="off_362198"></A><A NAME="88ef92cf"></A><B><FONT FACE="Futura Md BT"><FONT COLOR="#000000"><FONT SIZE=+3>Nonstandard
predefined macros</FONT></FONT></FONT></B>
<HR SIZE=6 WIDTH="100%">
<BR><FONT FACE="Times New Roman"><FONT COLOR="#000000"><FONT SIZE=+1>The
C preprocessor normally has several predefined macros that vary between
machines because their purpose is to indicate what type of system and machine
is in use.</FONT></FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT COLOR="#000000"><FONT SIZE=+1>This
documentation, being for all systems and machines, cannot tell you exactly
what their names are. Instead, we offer a list of some typical ones.</FONT></FONT></FONT>

<P><FONT COLOR="#000000"><FONT FACE="Times New Roman"><FONT SIZE=+1>You
can use </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>cpp -dM</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
to see the values of predefined macros; for more information, see </FONT></FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1><FONT COLOR="#008000"><A HREF="cppInvoking_the_C_Preprocessor.html">Invoking
the C preprocessor</A></FONT><FONT COLOR="#000000">. Some nonstandard predefined
macros describe the operating system in use, with more or less specificity,
as in the following examples.</FONT></FONT></FONT>
<UL>
<UL>
<UL>
<LI>
<FONT FACE="Courier New"><FONT SIZE=+0>unix</FONT></FONT></LI>

<BR><FONT FACE="Courier New"><FONT SIZE=+0>unix</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
is normally predefined on all Unix systems.</FONT></FONT>
<LI>
<FONT FACE="Courier New"><FONT SIZE=+0>BSD</FONT></FONT></LI>

<BR><FONT FACE="Courier New"><FONT SIZE=+0>BSD</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
is predefined on recent versions of Berkeley Unix (perhaps only in version
4.3).</FONT></FONT></UL>
</UL>
&nbsp;</UL>

<DT>
<FONT FACE="Times New Roman"><FONT COLOR="#000000"><FONT SIZE=+1>Other
nonstandard predefined macros describe the kind of CPU, with more or less
specificity, as in the following six examples.</FONT></FONT></FONT></DT>

<UL>
<UL TYPE=SQUARE>
<UL>
<LI>
<FONT FACE="Courier New"><FONT SIZE=+0>vax</FONT></FONT></LI>
<FONT FACE="Courier New"><FONT SIZE=+0>vax</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
is predefined on Vax computers.</FONT></FONT>
<LI>
<FONT FACE="Courier New"><FONT SIZE=+0>mc68000</FONT></FONT></LI>

<BR><FONT FACE="Courier New"><FONT SIZE=+0>mc68000</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
is predefined on most computers whose CPU is a Motorola 68000, 68010 or
68020.</FONT></FONT>
<LI>
<FONT FACE="Courier New"><FONT SIZE=+0>m68k</FONT></FONT></LI>

<BR><FONT FACE="Courier New"><FONT SIZE=+0>m68k</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
is also predefined on most computers whose CPU is a 68000, 68010 or 68020;
however, some makers use </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>mc68000</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
and some use </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>m68k</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
as the names for the macros. Some predefine both names. What happens in
GNU C depends on the system you are using.</FONT></FONT>
<LI>
<FONT FACE="Courier New"><FONT SIZE=+0>M68020</FONT></FONT></LI>

<BR><FONT FACE="Courier New"><FONT SIZE=+0>M68020</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
has been observed to be predefined on some systems that use 68020 CPUs—in
addition to mc68000 and </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>m68k</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
which are less specific.</FONT></FONT>
<LI>
<FONT FACE="Courier New"><FONT SIZE=+0>_AM29K</FONT></FONT></LI>

<DT>
<FONT FACE="Courier New"><FONT SIZE=+0>_AM29000</FONT></FONT></DT>

<BR><FONT FACE="Times New Roman"><FONT SIZE=+1>Both </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>_AM29K</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
and </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>_AM29000</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
are predefined for the AMD 29000 CPU family.</FONT></FONT>
<LI>
<FONT FACE="Courier New"><FONT SIZE=+0>ns32000</FONT></FONT></LI>

<BR><FONT FACE="Courier New"><FONT SIZE=+0>ns32000</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
is predefined on computers which use the National Semiconductor 32000 series
CPU.</FONT></FONT></UL>
</UL>
<FONT FACE="Times New Roman"><FONT COLOR="#000000"><FONT SIZE=+1></FONT></FONT></FONT>&nbsp;</UL>
<FONT FACE="Times New Roman"><FONT COLOR="#000000"><FONT SIZE=+1>Yet other
nonstandard predefined macros describe the manufacturer of the system,
as in the following three examples.</FONT></FONT></FONT>
<UL><FONT FACE="Times New Roman"><FONT COLOR="#000000"><FONT SIZE=+1></FONT></FONT></FONT>&nbsp;
<UL>
<UL>
<LI>
<FONT FACE="Courier New"><FONT SIZE=+0>sun</FONT></FONT></LI>

<BR><FONT FACE="Courier New"><FONT SIZE=+0>sun</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
is predefined on all models of Sun computers.</FONT></FONT>
<LI>
<FONT FACE="Courier New"><FONT SIZE=+0>pyr</FONT></FONT></LI>

<BR><FONT FACE="Courier New"><FONT SIZE=+0>pyr</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
is predefined on all models of Pyramid computers.</FONT></FONT>
<LI>
<FONT FACE="Courier New"><FONT SIZE=+0>sequent</FONT></FONT></LI>

<BR><FONT FACE="Courier New"><FONT SIZE=+0>sequent</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
is predefined on all models of Sequent computers.</FONT></FONT></UL>
</UL>
</UL>
<FONT COLOR="#000000"><FONT FACE="Times New Roman"><FONT SIZE=+1>The previous
three predefined symbols are not only nonstandard, they are contrary to
the ANSI standard because their names do not start with underscores. Therefore,
the option, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-ansi</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
inhibits the definition of these symbols.</FONT></FONT></FONT>

<P><FONT COLOR="#000000"><FONT FACE="Times New Roman"><FONT SIZE=+1>This
tends to make </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-ansi</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
useless, since many programs depend on the customary nonstandard predefined
symbols. Even system header files check them and will generate incorrect
declarations if they do not find the names that are expected. You might
think that the header files supplied for the Uglix computer would not need
to test what machine they are running on, because they can simply assume
it is the Uglix; but often they do, and they do so using the customary
names. As a result, very few C programs will compile with </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-ansi</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.
We intend to avoid such problems on the GNU system.</FONT></FONT></FONT>

<P><FONT COLOR="#000000"><FONT FACE="Times New Roman"><FONT SIZE=+1>What,
then, should you do in an ANSI C program to test the type of machine it
will run on? GNU C offers a parallel series of symbols for this purpose,
whose names are made from the customary ones by adding ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>__</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
at the beginning and end. Thus, the symbol, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>__vax__</FONT></FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,<FONT COLOR="#000000">
would be available on a Vax, and so on. The set of nonstandard predefined
names in the GNU C preprocessor is controlled (when </FONT></FONT></FONT><FONT COLOR="#000000"><FONT FACE="Courier New"><FONT SIZE=+0>cpp</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
is itself compiled) by the macro, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>CPP_PREDEFINES</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
which should be a string containing </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-D</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
options, separated by spaces. For example, on the Sun 3, we use the following
definition.</FONT></FONT></FONT>
<UL>
<PRE><FONT FACE="Courier New"><FONT SIZE=+1>#define CPP_PREDEFINES "-Dmc68000 -Dsun -Dunix -Dm68k"</FONT></FONT></PRE>
</UL>

<DT>
<FONT COLOR="#000000"><FONT FACE="Times New Roman"><FONT SIZE=+1>This macro
is usually specified in </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>tm.h</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.</FONT></FONT></FONT></DT>

<DT>

<HR SIZE=3 WIDTH="100%"></DT>

<CENTER>
<DT>
<A HREF="#Top">Top</A>|<A HREF="cpp.html">Contents</A>|<A HREF="cppindex.html">Index</A>|<A HREF="cppStandard_Predefined_Macros.html">Previous</A>|<A HREF="cppStringification.html">Next</A></DT></CENTER>

</BODY>
</HTML>
