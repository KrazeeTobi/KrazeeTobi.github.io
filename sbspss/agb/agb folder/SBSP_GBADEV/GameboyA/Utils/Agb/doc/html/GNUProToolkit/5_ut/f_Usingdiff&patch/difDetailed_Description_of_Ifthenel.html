<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
   <TITLE>Detailed Description of If-then-else Format</TITLE>
   <META NAME="GENERATOR" CONTENT="Mozilla/3.01Gold (Win95; I) [Netscape]">
</HEAD>
<BODY>

<P><A HREF="dif.html">Contents</A>|<A HREF="difindex.html">Index</A>|<A HREF="difLine_Formats.html">Previous</A>|<A HREF="difAn_Example_of_Ifthenelse_Format.html">Next</A>
</P>

<P><A NAME="off_560071"></A><A NAME="cde0f2fb"></A><B><FONT FACE="Times New Roman"><FONT SIZE=+3>Detailed
Description of </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+2>If-then-else</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+3>
Format </FONT></FONT></B></P>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>For lines common to both
files, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>diff</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
uses the unchanged line group format. For each hunk of differences in the
merged output format, if the hunk contains only lines from the first file,
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>diff</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
uses the old line group format; if the hunk contains only lines from the
second file, diff uses the new group format; otherwise, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>diff</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
uses the changed group format. </FONT></FONT></P>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>See <FONT COLOR="#008000"><A HREF="difAn_Example_of_Ifthenelse_Format.html">An
Example of </A></FONT></FONT></FONT><FONT COLOR="#008000"><A HREF="difAn_Example_of_Ifthenelse_Format.html"><B><FONT FACE="Courier New"><FONT SIZE=+0>If-then-else</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
Format</FONT></FONT></A></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.
</FONT></FONT></P>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>The old, new, and unchanged
line formats specify the output format of lines from the first file, lines
from the second file, and lines common to both files, respectively. </FONT></FONT></P>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>The option '</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>--ifdef=<I>name</I></FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>'
is equivalent to the following sequence of options using shell syntax:
</FONT></FONT></P>

<P><FONT FACE="Courier New"><FONT SIZE=+0>--old-group-format='#ifndef name
%&lt;#endif /* not name */ ' \ --new-group-format='#ifdef name %&gt;#endif
/* name */ ' \ --unchanged-group-format='%=' \ --changed-group-format='#ifndef
name %&lt;#else /* name */ %&gt;#endif /* name */ ' </FONT></FONT></P>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>You should carefully check
the </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>diff</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
output for proper nesting. For example, when using the the '</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-D</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
</FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>name</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>'
or '</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>--ifdef=<I>name</I></FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>'
option, you should check that if the differing lines contain any of the
C preprocessor directives, '</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>#ifdef</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>',
'</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>#ifndef</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>',
'</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>#else</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>',
'</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>#elif</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>',
or '</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>#endif</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>',
they are nested properly and match. If they don't, you must make corrections
manually. It is a good idea to carefully check the resulting code any-way
to make sure that it really does what you want it to; depending on how
the input files were produced, the output might contain duplicate or otherwise
incorrect code. </FONT></FONT></P>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>The </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>patch</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
'</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-D</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
</FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>name</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>'
option behaves just like the </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>diff</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
'</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-D</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
</FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>name</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>'
option, except it operates on a file and a diff to produce a merged file;
see <FONT COLOR="#008000"><A HREF="difOptions_to_patch.html">Options to
</A></FONT></FONT></FONT><B><FONT FACE="Courier New"><FONT COLOR="#008000"><FONT SIZE=+0><A HREF="difOptions_to_patch.html">patch</A></FONT></FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>.
</FONT></FONT></P>

</BODY>
</HTML>
