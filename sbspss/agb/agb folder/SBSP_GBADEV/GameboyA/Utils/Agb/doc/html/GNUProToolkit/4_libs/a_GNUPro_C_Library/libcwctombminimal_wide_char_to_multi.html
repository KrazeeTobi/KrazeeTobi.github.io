<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.51 [en] (Win95; I) [Netscape]">
   <meta name="Author" content="Frederick Geers">
   <title>wctomb [minimal wide char to multibyte converter]</title>
</head>
<body>
<a href="libc.html">Contents</a>|<a href="libcindex.html">Index</a>|<a href="libcwcstombs.html">Previous</a>|<a href="libcCharacter_Type_Macros_and_Functi.html">Next</a>
<p><a NAME="off_492272"></a><a NAME="3dae8a78"></a><a NAME="off_492272"></a><a NAME="3dae8a78"></a><font face="Courier New"><font size=+3>wctomb</font></font>
<br><font face="Times New Roman"><font size=+3>[minimal wide char to multibyte
converter]</font></font>
<p><b><font face="Times New Roman"><font size=+1>SYNOPSIS</font></font></b>
<br><font face="Courier New"><font size=+0>#include&lt;stdlib.h></font></font>
<br><font face="Courier New"><font size=+0>int</font><font size=-1> </font><font size=+0>wctomb(char
*<i>s</i>,wchar_t</font><font size=-1> </font><font size=+0><i>wchar</i>);</font></font>
<p><b><font face="Times New Roman"><font size=+1>DESCRIPTION</font></font></b>
<br><font size=+1><font face="Times New Roman">When </font><font face="Courier New,Courier">MB_CAPABLE</font><font face="Times New Roman">
is not defined, this is a minimal ANSI-conforming implementation of </font><font face="Courier New,Courier">wctomb</font><font face="Times New Roman">.
The only wide characters recognized are single bytes, and they are converted
to themselves.</font></font><font face="Times New Roman"><font size=+1></font></font>
<p><font size=+1><font face="Times New Roman">When </font><font face="Courier New,Courier">MB_CAPABLE</font><font face="Times New Roman">
is defined, this routine calls _wctomb_r to perform the conversion, passing
a state variable to allow state dependent decoding. The result is based
on the locale setting which may be restricted to a defined set of locales.</font></font><font face="Times New Roman"><font size=+1></font></font>
<p><font size=+1><font face="Times New Roman">Each call to </font><font face="Courier New,Courier">wctomb</font><font face="Times New Roman">
modifies </font></font><font face="Courier New"><font size=+0>*<i>s</i></font></font><font face="Times New Roman"><font size=+1>
unless </font></font><i><font face="Courier New"><font size=+0>s</font></font></i><font size=+1><font face="Times New Roman">
is a null pointer or </font><font face="Courier New,Courier">MB_CAPABLE</font><font face="Times New Roman">
is defined and </font><i><font face="Courier New,Courier">wchar</font></i><font face="Times New Roman">
is invalid.</font></font>
<p><b><font face="Times New Roman"><font size=+1>RETURNS</font></font></b>
<br><font size=+1><font face="Times New Roman">This implementation of wctomb
returns </font><font face="Courier New,Courier">0</font><font face="Times New Roman">
if s is NULL; it returns </font><font face="Courier New,Courier">-1</font><font face="Times New Roman">
if </font><font face="Courier New,Courier">MB_CAPABLE</font><font face="Times New Roman">
is enabled and the </font><i><font face="Courier New,Courier">wchar&nbsp;</font></i><font face="Times New Roman">
is not a valid multibyte character, it returns </font><font face="Courier New,Courier">1</font><font face="Times New Roman">
if </font><font face="Courier New,Courier">MB_CAPABLE</font><font face="Times New Roman">
is not defined or the </font><i><font face="Courier New,Courier">wchar</font></i><font face="Times New Roman">
is in reality a single byte character, otherwise it returns the number
of bytes in the multibyte character.</font></font>
<p><b><font face="Times New Roman"><font size=+1>COMPLIANCE</font></font></b>
<br><font face="Courier New"><font size=+1>wctomb</font><font size=+0>
</font></font><font face="Times New Roman"><font size=+1>is required in
the ANSI C standard. However, the precise effects vary with the locale.</font></font>
<p><font face="Courier New"><font size=+1>wctomb</font><font size=+0> </font></font><font face="Times New Roman"><font size=+1>requires
no supporting OS subroutines.</font></font>
</body>
</html>
