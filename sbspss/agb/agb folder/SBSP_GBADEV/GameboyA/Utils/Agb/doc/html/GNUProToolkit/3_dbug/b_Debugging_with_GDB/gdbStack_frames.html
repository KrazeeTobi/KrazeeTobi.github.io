<HTML>
<HEAD>
   <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
   <META NAME="GENERATOR" CONTENT="Mozilla/4.04 [en] (Win95; I) [Netscape]">
   <TITLE>Stack frames</TITLE>
</HEAD>
<BODY>
<A NAME="Top"></A><A HREF="gdb.html">Contents</A>|<A HREF="gdbindex.html">Index</A>|<A HREF="gdbExamining_the_Stack.html">Previous</A>|<A HREF="gdbBacktraces.html">Next</A>
<BR><A NAME="off_1146880"></A><A NAME="e1a6cf27"></A><B><FONT FACE="Futura Md BT"><FONT COLOR="#000000"><FONT SIZE=+3>Stack
frames</FONT></FONT></FONT></B>
<BR>
<HR SIZE=3 WIDTH="100%"><FONT FACE="Times New Roman"><FONT SIZE=+1>The
call stack is divided up into contiguous pieces called <I>stack frames</I>,
or <I>frames</I> for short; each frame is the data associated with one
call to one function. The frame contains the arguments given to the function,
the function’s local variables, and the address at which the function is
executing.</FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>When your program is started,
the stack has only one frame, that of the function main. This is called
the <I>initial frame</I> or the <I>outermost frame</I>. Each time a function
is called, a new frame is made. Each time a function returns, the frame
for that function invocation is eliminated. If a function is recursive,
there can be many frames for the same function. The frame for the function
in which execution is actually occurring is called the <I>innermost</I>
frame. This is the most recently created of all the stack frames that still
exist.</FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>Inside your program, stack
frames are identified by their addresses. A stack frame consists of many
bytes, each of which has its own address; each kind of computer has a convention
for choosing one byte whose address serves as the address of the frame.
Usually this address is kept in a register called the <I>frame pointer
register</I> while execution is going on in that frame.</FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>GDB assigns numbers to all
existing stack frames, starting with zero for the innermost frame, one
for the frame that called it, and so on upward.</FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>These numbers do not really
exist in your program; they are assigned by GDB to give you a way of designating
stack frames in GDB commands.</FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>Some compilers provide a
way to compile functions so that they operate without stack frames. (For
example, the GCC option, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-fomit-frame-pointer</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
generates functions without a frame.) This is occasionally done with heavily
used library functions to save the frame setup time. GDB has limited facilities
for dealing with these function invocations. If the innermost function
invocation has no stack frame, GDB nevertheless regards it as though it
had a separate frame, which is numbered zero as usual, allowing correct
tracing of the function call chain. However, GDB has no provision for frameless
functions elsewhere in the stack.</FONT></FONT>
<UL><FONT FACE="Courier New"><FONT SIZE=+0>frame</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
</FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>args</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1></FONT></FONT>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>The </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>frame</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
command allows you to move from one stack frame to another, and to print
the stack frame you select. </FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>args
</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>may be either
the address of the frame of the stack frame number. Without an argument,
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>frame</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
prints the current stack frame.</FONT></FONT></UL>


<P><FONT FACE="Courier New"><FONT SIZE=+0>select-frame</FONT></FONT>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>The </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>select-frame</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
command allows you to move from one stack frame to another without printing
the frame. This is the silent version of </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>frame</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.</FONT></FONT></UL>
</UL>

<HR SIZE=3 WIDTH="100%">
<CENTER><A HREF="#Top">Top</A>|<A HREF="gdb.html">Contents</A>|<A HREF="gdbindex.html">Index</A>|<A HREF="gdbExamining_the_Stack.html">Previous</A>|<A HREF="gdbBacktraces.html">Next</A></CENTER>

</BODY>
</HTML>
