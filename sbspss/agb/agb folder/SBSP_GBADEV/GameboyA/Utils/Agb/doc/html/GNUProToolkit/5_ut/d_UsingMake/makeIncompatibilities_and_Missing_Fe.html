<HTML>
<HEAD>
   <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
   <META NAME="GENERATOR" CONTENT="Mozilla/4.04 [en] (Win95; I) [Netscape]">
   <TITLE>Incompatibilities and Missing Features</TITLE>
</HEAD>
<BODY>
<A NAME="Top"></A><A HREF="make.html">Contents</A>|<A HREF="makeindex.html">Index</A>|<A HREF="makeFeatures_of_GNU_make.html">Previous</A>|<A HREF="makeMakefile_Conventions.html">Next</A>
<BR><A NAME="off_2556792"></A><A NAME="27d50fb2"></A><B><FONT FACE="Futura Md BT"><FONT SIZE=+3>Incompatibilities
and missing features</FONT></FONT></B>
<BR>
<HR SIZE=3 WIDTH="100%"><FONT SIZE=+1><FONT FACE="Times New Roman">The
</FONT><TT>make</TT><FONT FACE="Times New Roman"> programs in various other
systems support a few features that are not implemented in GNU </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.
The POSIX.2 standard (<I>IEEE Standard 1003.2-1992</I>) which specifies
</FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
does not require any of these features.</FONT></FONT>
<BR>&nbsp;
<UL>
<UL>
<UL>
<LI>
<FONT FACE="Times New Roman"><FONT SIZE=+1>A target of the form ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0><I>file</I>((<I>entry</I>))</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
stands for a member of archive file file. The member is chosen, not by
name, but by being an object file which defines the linker symbol, </FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>entry</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>.</FONT></FONT></LI>
</UL>
</UL>
</UL>

<UL>
<UL>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>This feature was not put
into GNU </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
because of the non-modularity of putting knowledge into </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
of the internal format of archive file symbol tables. See <FONT COLOR="#008000"><A HREF="makeUpdating_Archive_Symbol_Director.html">Updating
archive symbol directories</A></FONT>.</FONT></FONT>
<BR><FONT FACE="Times New Roman"><FONT SIZE=+1></FONT></FONT>&nbsp;</UL>
</UL>
</UL>

<UL>
<UL>
<UL>
<LI>
<FONT FACE="Times New Roman"><FONT SIZE=+1>Suffixes (used in suffix rules)
that end with the character ‘</FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>˜</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>’
have a special meaning to System V </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>;
they refer to the SCCS file that corresponds to the file one would get
without the ‘</FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>˜</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>’.
For example, the suffix rule, ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>.c<B>˜</B>.o</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’,
would make the file, ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0><I>n</I>.o</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’,
from the SCCS file, ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>s.<I>n</I>.c</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’.
For complete coverage, a whole series of such suffix rules is required.
See <FONT COLOR="#008000"><A HREF="makeOldFashioned_Suffix_Rules.html">Old-fashioned
suffix rules</A></FONT>.</FONT></FONT></LI>
</UL>
</UL>
</UL>

<UL>
<UL>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>In GNU </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
this entire series of cases is handled by two pattern rules for extraction
from SCCS, in combination with the general feature of rule chaining. See
<FONT COLOR="#008000"><A HREF="makeChains_of_Implicit_Rules.html">Chains
of implicit rules</A></FONT>.</FONT></FONT>
<BR><FONT FACE="Times New Roman"><FONT SIZE=+1></FONT></FONT>&nbsp;</UL>
</UL>
</UL>

<UL>
<UL>
<UL>
<LI>
<FONT FACE="Times New Roman"><FONT SIZE=+1>In System V make, the string,
‘</FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>$$@</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>’,
has the strange meaning that, in the dependencies of a rule with multiple
targets, it stands for the particular target that is being processed.</FONT></FONT></LI>
</UL>
</UL>
</UL>

<UL>
<UL>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>This is not defined in GNU
</FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
because ‘</FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>$$</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>’
should always stand for an ordinary ‘</FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>$</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>’.
It is possible to get this functionality through the use of static pattern
rules (see <FONT COLOR="#008000"><A HREF="makeStatic_Pattern_Rules.html">Static
pattern rules</A></FONT>).</FONT></FONT></UL>
</UL>
</UL>

<UL>
<UL>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>The System V make rule:
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0><B>$</B>(targets):</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0><B>$$@</B>.o lib.a</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
can be replaced with the GNU </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
static pattern rule: </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>$</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>(targets):
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0><B>%: %.</B>o lib.a</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.</FONT></FONT>
<BR><FONT FACE="Times New Roman"><FONT SIZE=+1></FONT></FONT>&nbsp;
<LI>
<FONT FACE="Times New Roman"><FONT SIZE=+1>In System V and 4.3 BSD </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>,
files found by </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>VPATH</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
search (see <FONT COLOR="#008000"><A HREF="makeSearching_Directories_for_Depend.html">Searching
directories for dependencies</A></FONT>) have their names changed inside
command strings. We feel it is much cleaner to always use automatic variables
and thus make this feature obsolete.</FONT></FONT></LI>
</UL>
</UL>
</UL>

<UL>
<UL>
<UL>
<LI>
<FONT FACE="Times New Roman"><FONT SIZE=+1>In some Unix </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
utilities, the automatic variable, </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>$*</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>,
appearing in the dependencies of a rule, has the amazingly strange “feature”
of expanding to the full name of the target of that rule. We cannot imagine
what went on in the minds of Unix </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
developers to do this; it is utterly inconsistent with the normal definition
of </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>$*</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>.</FONT></FONT></LI>

<BR><FONT FACE="Times New Roman"><FONT SIZE=+1></FONT></FONT>&nbsp;
<LI>
<FONT FACE="Times New Roman"><FONT SIZE=+1>In some Unix </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
utilities, implicit rule search is apparently done for all targets, not
just those without commands (see <FONT COLOR="#008000"><A HREF="makeUsing_Implicit_Rules.html">Using
implicit rules</A></FONT>). This means you can use: </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>foo.o:
cc -c foo.c</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>, and
Unix </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
will intuit that ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>foo.o</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
depends on ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>foo.c</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’.</FONT></FONT></LI>
</UL>
</UL>
</UL>

<UL>
<UL>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>We feel that such usage
is broken. The dependency properties of </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
are well-defined (for GNU </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
at least), and doing such a thing simply does not fit the model.</FONT></FONT>
<BR>&nbsp;
<LI>
<FONT FACE="Times New Roman"><FONT SIZE=+1>GNU </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
does not include any built-in implicit rules for compiling or preprocessing
EFL programs. If we hear of anyone who is using EFL, we will gladly add
them.</FONT></FONT></LI>
</UL>
</UL>
</UL>

<UL>
<UL>
<UL>
<LI>
<FONT FACE="Times New Roman"><FONT SIZE=+1>It appears that in SVR4 </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>,
a suffix rule can be specified with no commands, and it is treated as if
it had empty commands (see <FONT COLOR="#008000"><A HREF="makeUsing_Empty_Commands.html">Using
empty commands</A></FONT>).</FONT></FONT></LI>
<FONT FACE="Times New Roman"><FONT SIZE=+1></FONT></FONT>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>For example, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>.c.a:</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
will override the built-in ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>.c.a</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
suffix rule. We feel that it is cleaner for a rule without commands to
always simply add to the dependency list for the target. </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>.c.a:</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
can be easily rewritten to get the desired behavior in GNU </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>make:
.c.a: ;</FONT></FONT>
<BR><FONT FACE="Courier New"><FONT SIZE=+0></FONT></FONT>&nbsp;
<LI>
<FONT FACE="Times New Roman"><FONT SIZE=+1>Some versions of </FONT></FONT><B><FONT FACE="Courier New"><FONT SIZE=+0>make</FONT></FONT></B><FONT FACE="Times New Roman"><FONT SIZE=+1>
invoke the shell with the ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-e</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
flag, except under ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-k</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
(see <FONT COLOR="#008000"><A HREF="makeTesting_the_Compilation_of_a_Pro.html">Testing
the compilation of a program</A></FONT>). The ‘</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>-e</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>’
flag tells the shell to exit as soon as any program it runs returns a nonzero
status.</FONT></FONT></LI>
</UL>
</UL>
</UL>

<UL>
<UL>
<UL><FONT FACE="Times New Roman"><FONT SIZE=+1>We feel it is cleaner to
write each shell command line to stand on its own and not require this
special treatment.</FONT></FONT></UL>
</UL>
</UL>

<CENTER>
<HR SIZE=3 WIDTH="100%"></CENTER>

<CENTER><A HREF="#Top">Top</A>|<A HREF="make.html">Contents</A>|<A HREF="makeindex.html">Index</A>|<A HREF="makeFeatures_of_GNU_make.html">Previous</A>|<A HREF="makeMakefile_Conventions.html">Next</A></CENTER>

</BODY>
</HTML>
