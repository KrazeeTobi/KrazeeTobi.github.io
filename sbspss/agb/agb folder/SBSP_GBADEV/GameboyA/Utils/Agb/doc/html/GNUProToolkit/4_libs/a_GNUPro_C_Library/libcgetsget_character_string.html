<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
   <TITLE>gets[get character string]</TITLE>
   <META NAME="GENERATOR" CONTENT="Mozilla/3.01Gold (Win95; I) [Netscape]">
</HEAD>
<BODY>

<P><A HREF="libc.html">Contents</A>|<A HREF="libcindex.html">Index</A>|<A HREF="libcgetcharread_a_character_macro.html">Previous</A>|<A HREF="libciprintfwrite_formatted_output_in.html">Next</A>
</P>

<P><A NAME="off_919111"></A><A NAME="909fca28"></A><A NAME="off_919111"></A><A NAME="909fca28"></A><A NAME="off_919111"></A><A NAME="909fca28"></A><A NAME="off_919111"></A><A NAME="909fca28"></A><FONT SIZE=+3><FONT FACE="Courier New">gets
<BR>
</FONT><FONT FACE="Times New Roman">[get character string] <BR>
(obsolete, use </FONT><FONT FACE="Courier New">fgets</FONT><FONT FACE="Times New Roman">
instead)] </FONT></FONT></P>

<P><B><FONT FACE="Times New Roman"><FONT SIZE=+1>SYNOPSIS <BR>
</FONT></FONT></B><FONT FACE="Courier New"><FONT SIZE=+0>#include</FONT><FONT SIZE=-1>
</FONT><FONT SIZE=+0>&lt;stdio.h&gt; <BR>
<BR>
char</FONT><FONT SIZE=-1> </FONT><FONT SIZE=+0>*gets(char</FONT><FONT SIZE=-1>
</FONT><FONT SIZE=+0>*<I>buf</I>); <BR>
<BR>
char</FONT><FONT SIZE=-1> </FONT><FONT SIZE=+0>*_gets_r(void</FONT><FONT SIZE=-1>
</FONT><FONT SIZE=+0>*<I>reent</I>,</FONT><FONT SIZE=-1> </FONT><FONT SIZE=+0>char</FONT><FONT SIZE=-1>
</FONT><FONT SIZE=+0>*<I>buf</I>); </FONT></FONT></P>

<P><B><FONT FACE="Times New Roman"><FONT SIZE=+1>DESCRIPTION <BR>
</FONT></FONT></B><FONT FACE="Courier New"><FONT SIZE=+0>gets</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
reads characters from standard input until a newline is found. The characters
up to the newline are stored in </FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>buf</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>.
The newline is discarded, and the buffer is terminated with a 0. </FONT></FONT></P>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>This is a <B><I>dangerous</I></B>
function, as it has no way of checking the amount of space available in
</FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>buf</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>.
One of the attacks used by the Internet Worm of 1988 used this to overrun
a buffer allocated on the stack of the finger daemon and overwrite the
return address, causing the daemon to execute code downloaded into it over
the connection. </FONT></FONT></P>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1>The alternate function, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>_gets_r</FONT></FONT><FONT SIZE=+1><FONT FACE="Times New Roman">,</FONT><FONT FACE="Courier">
</FONT><FONT FACE="Times New Roman">is a reentrant version. The extra argument,
</FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>reent</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>,</FONT></FONT><I><FONT FACE="Courier New"><FONT SIZE=+0>
</FONT></FONT></I><FONT FACE="Times New Roman"><FONT SIZE=+1>is a pointer
to a reentrancy structure. </FONT></FONT></P>

<P><B><FONT FACE="Times New Roman"><FONT SIZE=+1>RETURNS <BR>
</FONT></FONT></B><FONT FACE="Courier New"><FONT SIZE=+0>gets</FONT></FONT><FONT SIZE=+1><FONT FACE="Courier">
</FONT><FONT FACE="Times New Roman">returns the buffer passed to it, with
the data filled in. If end of file occurs with some data already accumulated,
the data is returned with no other indication. If end of file occurs with
no data in the buffer, </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>NULL</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>
is returned. </FONT></FONT></P>

<P><FONT FACE="Times New Roman"><FONT SIZE=+1><B>COMPLIANCE <BR>
</B>Supporting OS subroutines required: </FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>close</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>fstat</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>isatty</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>lseek</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>read</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>sbrk</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>,
</FONT></FONT><FONT FACE="Courier New"><FONT SIZE=+0>write</FONT></FONT><FONT FACE="Times New Roman"><FONT SIZE=+1>.
</FONT></FONT></P>

</BODY>
</HTML>
