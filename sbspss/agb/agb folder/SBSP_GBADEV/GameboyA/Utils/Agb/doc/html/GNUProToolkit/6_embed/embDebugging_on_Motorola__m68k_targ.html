<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.51 [en] (Win95; I) [Netscape]">
   <title>Debugging on Motorola  m68k targets</title>
</head>
<body>
<a NAME="Top"></a><a href="emb.html">Contents</a>|<a href="embindex.html">Index</a>|<a href="embCalling_conventions_for_m68k.html">Previous</a>|<a href="embV850.html">Next</a>
<br><a NAME="off_884941"></a><a NAME="c4c1ece1"></a><a NAME="off_884941"></a><a NAME="c4c1ece1"></a><b><font color="#000000"><font face="Futura Md BT"><font size=+3>Debugging
on Motorola </font></font><tt><font point-size="26">m68k</font></tt><font face="Futura Md BT"><font size=+3>
targets</font></font></font></b>
<br>
<hr SIZE=3 WIDTH="100%"><font face="Times New Roman"><font size=+1>GDB
needs to know the following specifications to talk to your Motorola </font></font><font face="Courier New"><font size=+0>m68k</font></font><font face="Times New Roman"><font size=+1>.</font></font>
<ul TYPE=SQUARE>
<li>
<font face="Times New Roman"><font size=+1>Specifications for wanting to
use one of the following interfaces:</font></font></li>

<ul TYPE=SQUARE>
<li>
<font face="Courier New"><font size=+0>target rom68k</font></font></li>

<ul TYPE=SQUARE><font face="Times New Roman"><font size=+1>ROM monitor
for the IDP board.</font></font></ul>

<li>
<font face="Courier New"><font size=+0>target cpu32bug</font></font></li>

<ul TYPE=SQUARE><font face="Times New Roman"><font size=+1>ROM monitor
for other Motorola boards, such as the Motorola Business Card Computer,
BCC.</font></font></ul>

<li>
<font face="Courier New"><font size=+0>target est</font></font></li>

<ul TYPE=SQUARE><font face="Times New Roman"><font size=+1>EST Net/300
emulator.</font></font></ul>

<li>
<font face="Courier New"><font size=+0>target remote</font></font></li>

<ul TYPE=SQUARE><b><font face="Courier New"><font size=+0>gdb</font></font></b><font face="Times New Roman"><font size=+1>’s
generic debugging protocol.</font></font></ul>
</ul>

<li>
<font face="Times New Roman"><font size=+1>Specifications for what serial
device connects your host to your </font></font><font face="Courier New"><font size=+0>m68k</font></font><font face="Times New Roman"><font size=+1>
board (the first serial device available on your host is the default).</font></font></li>

<li>
<font face="Times New Roman"><font size=+1>Specifications for what speed
to use over the serial device.</font></font></li>
</ul>
<font face="Times New Roman"><font size=+1>Use the following <font color="#000000">GDB</font>
commands to specify the connection to your target board.</font></font>
<ul><font face="Courier New"><font size=+0>target <i>interface serial-device</i></font></font>
<ul><font face="Times New Roman"><font size=+1>To run a program on the
board, start up <font color="#000000">GDB</font> with the name of your
program as the argument. To connect to the board, use the command, 
</font></font><font face="Courier New"><font size=+0>target
<i>interface serial-device</i></font></font><font face="Times New Roman"><font size=+1>,
where </font></font><i><font face="Courier New"><font size=+0>interface</font></font></i><font face="Times New Roman"><font size=+1>
is an interface from the previous list of specifications and </font></font><i><font face="Courier New"><font size=+0>serial-device</font></font></i><font face="Times New Roman"><font size=+1>
is the name of the serial port connected to the board. If the program has
not already been downloaded to the board, you may use the </font></font><font face="Courier New"><font size=+0>load</font></font><font face="Times New Roman"><font size=+1>
command to download it. You can then use all the usual <font color="#000000">GDB</font>
commands. For example, the following sequence connects to the target board
through a serial port, and loads and runs a program (</font></font><i><font face="Courier New"><font size=+0>prog</font></font></i><font face="Times New Roman"><font size=+1>)
through the debugger.</font></font>
<br>&nbsp;
<ul>
<ul>
<pre><font face="Courier New"><font size=+1><b>host$ </b>m68k-coff-gdb <i>prog</i>&nbsp;
<b>GDB is free software and...&nbsp;
(gdb) </b>target cpu32bug /dev/ttyb&nbsp;
<b>...&nbsp;
(gdb) </b>load&nbsp;
<b>...&nbsp;
(gdb) </b>run</font></font></pre>
</ul>
</ul>
</ul>
<font face="Courier New"><font size=+0>target m68k <i>hostname</i>: <i>portnumber</i></font></font>
<ul><font face="Times New Roman"><font size=+1>You can specify a TCP/IP
connection instead of a serial port, using the syntax, </font></font><i><font face="Courier New"><font size=+0>hostname</font></font></i><font face="Times New Roman"><font size=+1>:
</font></font><i><font face="Courier New"><font size=+0>portnumber
</font></font></i><font face="Times New Roman"><font size=+1>(assuming
your board is connected so that this makes sense; for instance, </font></font><i><font face="Courier New"><font size=+0>hostname</font></font></i><font face="Times New Roman"><font size=+1>:
</font></font><i><font face="Courier New"><font size=+0>portnumber</font></font></i><font face="Times New Roman"><font size=+1>
connects to a serial line managed by a terminal concentrator).</font></font></ul>
</ul>
<font color="#000000"><font face="Times New Roman"><font size=+1>GDB also
supports </font></font><font face="Courier New"><font size=+0>set remotedebug<i>n</i></font></font><font face="Times New Roman"><font size=+1>.
You can see some debugging information about communications with the board
by setting the variable,</font></font><font face="Courier New"><font size=+0>
remotedebug</font></font><font face="Times New Roman"><font size=+1>.</font></font></font>
<center>
<hr SIZE=3 WIDTH="100%">
<br><a href="#Top">Top</a>|<a href="emb.html">Contents</a>|<a href="embindex.html">Index</a>|<a href="embCalling_conventions_for_m68k.html">Previous</a>|<a href="embV850.html">Next</a></center>

</body>
</html>
